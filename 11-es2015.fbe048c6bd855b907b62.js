(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"4CJ4":function(t,e,r){"use strict";r.r(e),r.d(e,"LiveModule",function(){return Ee});var o=r("zfYk"),i=r("ofXK"),a=r("1kSV"),s=r("Br0f"),n=r("lJxs"),c=r("JIr8"),l=r("LRne"),b=r("vkgz"),d=r("nYR2"),u=r("fXoL"),g=r("2Vo4"),h=r("EZBn"),p=r("5eHb"),m=r("+BVi");let f=(()=>{class t{constructor(t,e,r,o,i,a,s){this.traintestlogsGQL=t,this.traintestlogGQL=e,this.updateTraintestlogGQL=r,this.createTraintestlogGQL=o,this.removeTraintestlogGQL=i,this.toastr=a,this.authService=s,this.isLoading=new g.a(!1),this.paginationTotal=new g.a(0),this.traintestlogs=new g.a([]),this.subscriptions=[],this.errorMessage=new g.a("")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}get isLoading$(){return this.isLoading.asObservable()}get paginationTotal$(){return this.paginationTotal.asObservable()}get errorMessage$(){return this.errorMessage.asObservable()}get traintestlogs$(){return this.traintestlogs.asObservable()}fetch(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.traintestlogsGQL.fetch({argsQuery:t}).pipe(Object(b.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Train Test Logs")):(this.traintestlogs.next(t.data.traintestlogs),this.paginationTotal.next(t.data.traintestlogs.length),this.isLoading.next(!1))}),Object(c.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Train Test Logs"),Object(l.a)(void 0))),Object(d.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getItemById(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.traintestlogGQL.fetch({id:t}).pipe(Object(b.a)(t=>{if(!t.errors)return t.data.traintestlog;"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Train Test Logs"))}),Object(c.a)(t=>(this.errorMessage.next(t),this.toastr.error(t.message,"Get Train Test Log"),Object(l.a)(void 0))),Object(d.a)(()=>{this.isLoading.next(!1)}))}update(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.updateTraintestlogGQL.mutate({updateTraintestlogInput:t}).pipe(Object(b.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():this.toastr.error(t.errors[0].message,"Update Train Test Log"):this.toastr.info("Train Test Log updated successfully","Update Train Test Log")}),Object(c.a)(e=>(this.errorMessage.next(e),this.toastr.error(e.message,"Update Train Test Log"),Object(l.a)(t))),Object(d.a)(()=>{this.isLoading.next(!1)}))}delete(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.removeTraintestlogGQL.mutate({id:t}).pipe(Object(c.a)(t=>(this.errorMessage.next(t),this.toastr.error(t.message),Object(l.a)(void 0))),Object(d.a)(()=>{this.isLoading.next(!1)}))}create(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.createTraintestlogGQL.mutate({createTraintestlogInput:t}).pipe(Object(b.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():this.toastr.error(t.errors[0].message,"Create Train Test Log"):this.toastr.info("Train Test Log created successfully","Create Train Test Log")}),Object(c.a)(e=>(this.errorMessage.next(e),this.toastr.error(e.message,"Create Train Test Log"),Object(l.a)(t))),Object(d.a)(()=>{this.isLoading.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(u.ic(h.U),u.ic(h.T),u.ic(h.ab),u.ic(h.h),u.ic(h.O),u.ic(p.b),u.ic(m.a))},t.\u0275prov=u.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function y(t,e){1&t&&(u.Yb(0),u.ac(1,"div",7),u.Vb(2,"div",8),u.Zb(),u.Xb())}function v(t,e){1&t&&(u.Yb(0),u.ac(1,"span"),u.Qc(2,"Train Test Log is deleting..."),u.Zb(),u.Xb())}function T(t,e){1&t&&(u.Yb(0),u.ac(1,"span"),u.Qc(2,"Are you sure to permanently delete this Train Test Log?"),u.Zb(),u.Xb())}let Z=(()=>{class t{constructor(t,e){this.traintestlogsService=t,this.modal=e,this.isLoading=!1,this.subscriptions=[]}ngOnInit(){}deleteTrainTestlog(){this.isLoading=!0;const t=this.traintestlogsService.delete(this.id).pipe(Object(b.a)(()=>this.modal.close()),Object(c.a)(t=>(this.modal.dismiss(t),Object(l.a)(void 0))),Object(d.a)(()=>{this.isLoading=!1})).subscribe();this.subscriptions.push(t)}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(f),u.Ub(a.a))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-delete-train-test-log"]],inputs:{id:"id"},decls:14,vars:3,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title","h4"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-1",3,"click"],["type","button",1,"btn","btn-primary","btn-elevate",3,"click"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"]],template:function(t,e){1&t&&(u.Oc(0,y,3,0,"ng-container",0),u.ac(1,"div",1),u.ac(2,"div",2),u.Qc(3,"Train Test Log Delete"),u.Zb(),u.Zb(),u.ac(4,"div",3),u.Oc(5,v,3,0,"ng-container",0),u.Oc(6,T,3,0,"ng-container",0),u.Zb(),u.ac(7,"div",4),u.ac(8,"div"),u.ac(9,"button",5),u.lc("click",function(){return e.modal.dismiss()}),u.Qc(10," Cancel"),u.Zb(),u.Qc(11,"\xa0 "),u.ac(12,"button",6),u.lc("click",function(){return e.deleteTrainTestlog()}),u.Qc(13," Delete "),u.Zb(),u.Zb(),u.Zb()),2&t&&(u.wc("ngIf",e.isLoading),u.Hb(5),u.wc("ngIf",e.isLoading),u.Hb(1),u.wc("ngIf",!e.isLoading))},directives:[i.o],styles:[""]}),t})();var S=r("tyNb"),O=r("3Pt+"),x=r("xGIk"),Q=r("gBr1"),j=r("e8Ap"),k=r("oOf3");let w=(()=>{class t{transform(t,e,r,o){if(e&&Array.isArray(t)){const i=Object.keys(e);if(o){const o=t.filter(t=>i.reduce((r,o)=>r&&new RegExp(e[o],"gi").test(t[o])||""===e[o],!0));return r.count=o.length,o}{const o=t.filter(t=>i.some(r=>new RegExp(e[r],"gi").test(t[r])||""===e[r]));return r.count=o.length,o}}return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=u.Tb({name:"searchCountBy",type:t,pure:!0}),t})();var L=r("7yRD");function C(t,e){1&t&&(u.Yb(0),u.ac(1,"div",25),u.Vb(2,"div",26),u.Zb(),u.Xb())}function F(t,e){if(1&t){const t=u.bc();u.ac(0,"a",34),u.lc("click",function(){u.Gc(t);const e=u.oc().$implicit;return u.oc().delete(e.id)}),u.Vb(1,"span",35),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function I(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td",27),u.Qc(2),u.Zb(),u.ac(3,"td",27),u.Qc(4),u.pc(5,"date"),u.Zb(),u.ac(6,"td",27),u.Qc(7),u.pc(8,"date"),u.Zb(),u.ac(9,"td",27),u.Qc(10),u.pc(11,"date"),u.Zb(),u.ac(12,"td",28),u.Qc(13),u.Zb(),u.ac(14,"td",29),u.Qc(15),u.Zb(),u.ac(16,"td",30),u.Qc(17),u.Zb(),u.ac(18,"td"),u.ac(19,"a",31),u.Vb(20,"span",32),u.Zb(),u.Oc(21,F,2,1,"a",33),u.Zb(),u.Zb()),2&t){const t=e.$implicit;u.Hb(2),u.Rc(t.StockSymbol),u.Hb(2),u.Sc(" ",u.rc(5,11,t.TrainDate,"mediumDate")," "),u.Hb(3),u.Sc(" ",u.rc(8,14,t.TrainFrom,"mediumDate")," "),u.Hb(3),u.Sc(" ",u.rc(11,17,t.TrainTo,"mediumDate")," "),u.Hb(3),u.Tc(" ",t.StockLower," - ",t.StockUpper," "),u.Hb(2),u.Sc(" ",t.BullishEpoch," "),u.Hb(2),u.Sc(" ",t.BearishEpoch," "),u.Hb(2),u.wc("routerLink","/live/trainTestLogs/edit/"+t.id),u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),u.Hb(1),u.wc("ngIf","Archive"==t.logStatus)}}const P=function(t,e){return{StockSymbol:t,logStatus:e}},H=function(t,e){return{itemsPerPage:t,currentPage:e}};let M=(()=>{class t{constructor(t,e){this.traintestlogsService=t,this.modalService=e,this.filterCount={count:0},this.searchLogStatus="Active",this.subscriptions=[]}ngOnInit(){this.sorting={column:"StockSymbol",direction:"asc"},this.paginator=new s.PaginatorState,this.paginator.pageSize=100,this.getTrainTestLogs();const t=this.traintestlogsService.paginationTotal$.pipe(Object(n.a)(t=>{this.paginationTotal=t,this.paginator.recalculatePaginator(t)}),Object(c.a)(t=>t)).subscribe();this.subscriptions.push(t)}getTrainTestLogs(){this.paginator=new s.PaginatorState,this.paginator.pageSize=100,this.traintestlogsService.fetch({logStatus:this.searchLogStatus})}sort(t){const e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}paginate(t){this.paginator=t,this.paginator.pageSize=100}delete(t){const e=this.modalService.open(Z);e.componentInstance.id=t,e.result.then(()=>this.traintestlogsService.fetch({logStatus:this.searchLogStatus}),()=>{})}resetPaginate(){this.paginator.recalculatePaginator(this.filterCount.count)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(f),u.Ub(a.j))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-train-test-logs"]],decls:57,vars:36,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button","routerLink","/live/trainTestLogs/add",1,"btn","btn-sm","btn-primary"],[1,"card-body"],[1,"row","mb-5"],[1,"col-lg-3"],[1,"col-lg-4"],[1,"form-group","row"],[1,"col-9","col-form-label"],[1,"radio-inline"],[1,"radio","radio-outline","radio-outline-2x","radio-primary"],["type","radio","value","Active",3,"ngModel","ngModelChange","change"],["type","radio","value","Archive",3,"ngModel","ngModelChange","change"],[1,"col-lg-2"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","input","ngModelChange"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],["column","TrainDate",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","flex-wrap",3,"paginator","isLoading","paginate"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"font-weight-bold"],[1,"text-warning","font-weight-bold"],[1,"font-weight-bold",2,"color","green"],[1,"font-weight-bold",2,"color","red"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete","class","btn btn-icon btn-light btn-hover-danger btn-sm",3,"click",4,"ngIf"],["title","Delete",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"]],template:function(t,e){1&t&&(u.Oc(0,C,3,0,"ng-container",0),u.pc(1,"async"),u.ac(2,"div",1),u.ac(3,"div",2),u.ac(4,"div",3),u.ac(5,"h3",4),u.Qc(6,"Train & Test Logs"),u.Zb(),u.Zb(),u.ac(7,"div",5),u.ac(8,"button",6),u.Qc(9," New Log "),u.Zb(),u.Zb(),u.Zb(),u.ac(10,"div",7),u.ac(11,"div",8),u.Vb(12,"div",9),u.Vb(13,"div",10),u.ac(14,"div",9),u.ac(15,"div",11),u.ac(16,"div",12),u.ac(17,"div",13),u.ac(18,"label",14),u.ac(19,"input",15),u.lc("ngModelChange",function(t){return e.searchLogStatus=t})("change",function(){return e.getTrainTestLogs()}),u.Zb(),u.Vb(20,"span"),u.Qc(21," Active "),u.Zb(),u.ac(22,"label",14),u.ac(23,"input",16),u.lc("ngModelChange",function(t){return e.searchLogStatus=t})("change",function(){return e.getTrainTestLogs()}),u.Zb(),u.Vb(24,"span"),u.Qc(25," Archive "),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(26,"div",17),u.ac(27,"input",18),u.lc("input",function(){return e.resetPaginate()})("ngModelChange",function(t){return e.searchText=t}),u.Zb(),u.Zb(),u.Zb(),u.ac(28,"div",19),u.ac(29,"table",20),u.ac(30,"thead"),u.ac(31,"th"),u.Qc(32," Symbol "),u.ac(33,"app-sort-icon",21),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(34,"th"),u.Qc(35," Train Date "),u.ac(36,"app-sort-icon",22),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(37,"th"),u.Qc(38,"Train From"),u.Zb(),u.ac(39,"th"),u.Qc(40,"Train To"),u.Zb(),u.ac(41,"th"),u.Qc(42,"Price Range"),u.Zb(),u.ac(43,"th"),u.Qc(44,"Bullish Epoch"),u.Zb(),u.ac(45,"th"),u.Qc(46,"Bearish Epoch"),u.Zb(),u.ac(47,"th"),u.Qc(48,"Actions"),u.Zb(),u.Zb(),u.ac(49,"tbody"),u.Oc(50,I,22,20,"tr",23),u.pc(51,"paginate"),u.pc(52,"searchCountBy"),u.pc(53,"sortBy"),u.pc(54,"async"),u.Zb(),u.Zb(),u.Zb(),u.ac(55,"app-paginator",24),u.lc("paginate",function(t){return e.paginate(t)}),u.pc(56,"async"),u.Zb(),u.Zb(),u.Zb()),2&t&&(u.wc("ngIf",u.qc(1,11,e.traintestlogsService.isLoading$)),u.Hb(19),u.wc("ngModel",e.searchLogStatus),u.Hb(4),u.wc("ngModel",e.searchLogStatus),u.Hb(4),u.wc("ngModel",e.searchText),u.Hb(6),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(3),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(14),u.wc("ngForOf",u.rc(51,13,u.tc(52,16,u.tc(53,21,u.qc(54,26,e.traintestlogsService.traintestlogs$),!0,e.sorting.direction,e.sorting.column),u.Bc(30,P,e.searchText,e.searchLogStatus),e.filterCount,!0),u.Bc(33,H,e.paginator.pageSize,e.paginator.page))),u.Hb(5),u.wc("paginator",e.paginator)("isLoading",u.qc(56,28,e.traintestlogsService.isLoading$)))},directives:[i.o,S.i,O.o,O.a,O.j,O.l,x.a,i.n,Q.a,S.k,j.a],pipes:[i.b,k.b,w,L.a,i.f],styles:[""]}),t})();var V=r("WsYS"),D=r("wd/R"),N=r.n(D),E=r("4Ih9");function A(t,e){1&t&&(u.Yb(0),u.ac(1,"div",10),u.Vb(2,"div",11),u.Zb(),u.Xb())}function G(t,e){1&t&&u.Vb(0,"span",12)}function R(t,e){1&t&&u.Wb(0)}function $(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Total Capital is required "),u.Zb())}function B(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Total Capital should have at least 3 numbers "),u.Zb())}function Y(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Risk Percent for Stock is required "),u.Zb())}function U(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Risk Amount for Stock is required "),u.Zb())}function q(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Max Risk Percent is required "),u.Zb())}function z(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Max Risk Amount is required "),u.Zb())}function J(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Fyers Token is required "),u.Zb())}function _(t,e){1&t&&(u.ac(0,"div",37),u.Qc(1," Upstox Token is required "),u.Zb())}function W(t,e){if(1&t){const t=u.bc();u.Yb(0),u.ac(1,"form",13),u.ac(2,"div",14),u.Vb(3,"div",15),u.ac(4,"div",16),u.ac(5,"h3",17),u.Qc(6," Capital & Risk Management "),u.Zb(),u.ac(7,"div",18),u.ac(8,"div",19),u.ac(9,"label",20),u.Qc(10,"Total Capital Available"),u.Zb(),u.ac(11,"div",21),u.ac(12,"input",22),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.TotalCapital=e}),u.Zb(),u.Oc(13,$,2,0,"div",23),u.Oc(14,B,2,0,"div",23),u.Zb(),u.Zb(),u.ac(15,"div",19),u.ac(16,"label",20),u.Qc(17,"Risk Percent for Stock"),u.Zb(),u.ac(18,"div",21),u.ac(19,"input",24),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.DailyRiskPercent=e}),u.Zb(),u.Oc(20,Y,2,0,"div",23),u.Zb(),u.Zb(),u.ac(21,"div",19),u.ac(22,"label",20),u.Qc(23,"Risk Amount for Stock"),u.Zb(),u.ac(24,"div",21),u.ac(25,"input",25),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.DailyRiskAmount=e}),u.Zb(),u.Oc(26,U,2,0,"div",23),u.Zb(),u.Zb(),u.ac(27,"div",19),u.ac(28,"label",20),u.Qc(29,"Max Risk Percent"),u.Zb(),u.ac(30,"div",21),u.ac(31,"input",26),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.MaxRiskPercent=e}),u.Zb(),u.Oc(32,q,2,0,"div",23),u.Zb(),u.Zb(),u.ac(33,"div",19),u.ac(34,"label",20),u.Qc(35,"Max Risk Amount"),u.Zb(),u.ac(36,"div",21),u.ac(37,"input",27),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.MaxRiskPercentAmount=e}),u.Zb(),u.Oc(38,z,2,0,"div",23),u.Zb(),u.Zb(),u.ac(39,"div",19),u.ac(40,"label",20),u.Qc(41,"Max Risk Amount"),u.Zb(),u.ac(42,"div",21),u.ac(43,"div",28),u.ac(44,"input",29,30),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().frmExpireDate=e}),u.Zb(),u.ac(46,"div",31),u.lc("click",function(){return u.Gc(t),u.Ec(45).toggle()}),u.ac(47,"span",32),u.Vb(48,"i",33),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(49,"h3",17),u.Qc(50," Algo access tokens "),u.Zb(),u.ac(51,"div",19),u.ac(52,"label",20),u.Qc(53,"Fyers Token"),u.Zb(),u.ac(54,"div",21),u.ac(55,"input",34),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.sessiontoken=e}),u.Zb(),u.Oc(56,J,2,0,"div",23),u.Zb(),u.Zb(),u.ac(57,"div",19),u.ac(58,"label",20),u.Qc(59,"Upstox Token"),u.Zb(),u.ac(60,"div",21),u.ac(61,"input",35),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.upstoxtoken=e}),u.Zb(),u.Oc(62,_,2,0,"div",23),u.Zb(),u.Zb(),u.ac(63,"div",19),u.ac(64,"label",20),u.Qc(65,"Followup Journals"),u.Zb(),u.ac(66,"div",21),u.ac(67,"textarea",36),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().dailyPlan.journalImages=e}),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Vb(68,"div",15),u.Zb(),u.Zb(),u.Xb()}if(2&t){const t=u.oc();u.Hb(1),u.wc("formGroup",t.formGroup),u.Hb(11),u.Mb("is-invalid",t.isControlInvalid("TotalCapital")),u.wc("ngModel",t.dailyPlan.TotalCapital),u.Hb(1),u.wc("ngIf",t.controlHasError("required","TotalCapital")),u.Hb(1),u.wc("ngIf",t.controlHasError("minlength","TotalCapital")),u.Hb(5),u.Mb("is-invalid",t.isControlInvalid("DailyRiskPercent")),u.wc("ngModel",t.dailyPlan.DailyRiskPercent),u.Hb(1),u.wc("ngIf",t.controlHasError("required","DailyRiskPercent")),u.Hb(5),u.Mb("is-invalid",t.isControlInvalid("DailyRiskAmount")),u.wc("ngModel",t.dailyPlan.DailyRiskAmount),u.Hb(1),u.wc("ngIf",t.controlHasError("required","DailyRiskAmount")),u.Hb(5),u.Mb("is-invalid",t.isControlInvalid("MaxRiskPercent")),u.wc("ngModel",t.dailyPlan.MaxRiskPercent),u.Hb(1),u.wc("ngIf",t.controlHasError("required","MaxRiskPercent")),u.Hb(5),u.Mb("is-invalid",t.isControlInvalid("MaxRiskPercentAmount")),u.wc("ngModel",t.dailyPlan.MaxRiskPercentAmount),u.Hb(1),u.wc("ngIf",t.controlHasError("required","MaxRiskPercentAmount")),u.Hb(6),u.wc("ngModel",t.frmExpireDate),u.Hb(11),u.Mb("is-invalid",t.isControlInvalid("sessiontoken")),u.wc("ngModel",t.dailyPlan.sessiontoken),u.Hb(1),u.wc("ngIf",t.controlHasError("required","sessiontoken")),u.Hb(5),u.Mb("is-invalid",t.isControlInvalid("upstoxtoken")),u.wc("ngModel",t.dailyPlan.upstoxtoken),u.Hb(1),u.wc("ngIf",t.controlHasError("required","upstoxtoken")),u.Hb(5),u.wc("ngModel",t.dailyPlan.journalImages)}}let X=(()=>{class t{constructor(t,e,r){this.dailyPlanService=t,this.fb=e,this.toastr=r,this.subscriptions=[]}ngOnInit(){this.EMPTY_DAILYPLAN={id:void 0,TotalCapital:0,ExpireDate:N()().format("M/DD/YYYY").toString(),sessiontoken:"",token:"",upstoxtoken:"",DailyRiskPercent:0,MaxRiskPercent:0,DailyRiskAmount:0,MaxRiskPercentAmount:0,journalImages:[]},this.dailyPlan=this.EMPTY_DAILYPLAN,this.dailyPlanService.fetch(),this.dailyPlan&&this.loadForm();const t=this.dailyPlanService.dailyplans$.subscribe(t=>{this.dailyPlan=t[0],this.dailyPlan&&(this.frmExpireDate=N()(this.dailyPlan.ExpireDate).format("M/DD/YYYY").toString())});this.subscriptions.push(t)}loadForm(){this.formGroup=this.fb.group({TotalCapital:[this.dailyPlan.TotalCapital,O.r.compose([O.r.required])],DailyRiskPercent:[this.dailyPlan.DailyRiskPercent,O.r.compose([O.r.required])],DailyRiskAmount:[this.dailyPlan.DailyRiskAmount,O.r.compose([O.r.required])],MaxRiskPercent:[this.dailyPlan.MaxRiskPercent,O.r.compose([O.r.required])],MaxRiskPercentAmount:[this.dailyPlan.MaxRiskPercentAmount,O.r.compose([O.r.required])],ExpireDate:[this.frmExpireDate,O.r.compose([O.r.nullValidator])],sessiontoken:[this.dailyPlan.sessiontoken,O.r.compose([O.r.required,O.r.minLength(3)])],upstoxtoken:[this.dailyPlan.upstoxtoken,O.r.compose([O.r.required,O.r.minLength(3)])],journalImages:[this.dailyPlan.journalImages]})}save(){this.dailyPlan.ExpireDate=N()(this.frmExpireDate).format(),this.dailyPlan.DailyRiskAmount=Math.floor(Number(this.dailyPlan.TotalCapital)*(Number(this.dailyPlan.DailyRiskPercent)/100)),this.dailyPlan.MaxRiskPercentAmount=Math.floor(Number(this.dailyPlan.TotalCapital)*(Number(this.dailyPlan.MaxRiskPercent)/100));const t=this.dailyPlanService.update(this.dailyPlan).pipe(Object(c.a)(t=>Object(l.a)(this.dailyPlan))).subscribe();this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}isControlValid(t){const e=this.formGroup.controls[t];return e.valid&&(e.dirty||e.touched)}isControlInvalid(t){const e=this.formGroup.controls[t];return e.invalid&&(e.dirty||e.touched)}controlHasError(t,e){const r=this.formGroup.controls[e];return r.hasError(t)&&(r.dirty||r.touched)}isControlTouched(t){const e=this.formGroup.controls[t];return e.dirty||e.touched}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(E.a),u.Ub(O.c),u.Ub(p.b))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-daily-plan"]],features:[u.Gb([{provide:a.b,useClass:V.b},{provide:a.c,useClass:V.c}])],decls:17,vars:11,consts:[[4,"ngIf"],[1,"card","card-custom","card-stretch","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-toolbar"],["class","spinner spinner-primary mr-10",4,"ngIf"],[1,"btn","btn-sm","btn-success",3,"disabled","click"],[1,"card-body"],[4,"ngIf","ngIfElse"],["dailPlanLoading",""],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"spinner","spinner-primary","mr-10"],["action","#",1,"form",3,"formGroup"],[1,"row"],[1,"col-lg-2"],[1,"col-lg-8"],[1,"font-size-lg","text-dark","font-weight-bold","mb-6"],[1,"mb-15"],[1,"form-group","row"],[1,"col-lg-3","col-form-label"],[1,"col-lg-6"],["type","number","autocomplete","off","formControlName","TotalCapital",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],["type","number","autocomplete","off","formControlName","DailyRiskPercent",1,"form-control",3,"ngModel","ngModelChange"],["type","number","autocomplete","off","formControlName","DailyRiskAmount",1,"form-control",3,"ngModel","ngModelChange"],["type","number","autocomplete","off","formControlName","MaxRiskPercent",1,"form-control",3,"ngModel","ngModelChange"],["type","number","autocomplete","off","formControlName","MaxRiskPercentAmount",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],["type","text","name","ExpireDate","formControlName","ExpireDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["from","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"text-dark-50","flaticon-calendar"],["type","text","autocomplete","off","formControlName","sessiontoken",1,"form-control",3,"ngModel","ngModelChange"],["type","text","autocomplete","off","formControlName","upstoxtoken",1,"form-control",3,"ngModel","ngModelChange"],["name","journalImages","formControlName","journalImages","placeholder","","rows","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"]],template:function(t,e){if(1&t&&(u.Oc(0,A,3,0,"ng-container",0),u.pc(1,"async"),u.ac(2,"div",1),u.ac(3,"div",2),u.ac(4,"h3",3),u.Qc(5,"Daily Plan"),u.Zb(),u.ac(6,"div",4),u.ac(7,"span"),u.Oc(8,G,1,0,"span",5),u.pc(9,"async"),u.ac(10,"button",6),u.lc("click",function(){return e.save()}),u.Qc(11," Update "),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(12,"div",7),u.Oc(13,R,1,0,"ng-container",8),u.pc(14,"async"),u.Oc(15,W,69,32,"ng-template",null,9,u.Pc),u.Zb(),u.Zb()),2&t){const t=u.Ec(16);u.wc("ngIf",u.qc(1,5,e.dailyPlanService.isLoading$)),u.Hb(8),u.wc("ngIf",u.qc(9,7,e.dailyPlanService.isUpdateLoading$)),u.Hb(2),u.wc("disabled",e.formGroup.invalid),u.Hb(3),u.wc("ngIf",u.qc(14,9,e.dailyPlanService.isLoading$))("ngIfElse",t)}},directives:[i.o,O.t,O.k,O.e,O.n,O.a,O.j,O.d,a.i],pipes:[i.b],styles:[""]}),t})(),K=(()=>{class t{constructor(t,e,r){this.getTradeLogsGQL=t,this.toastr=e,this.authService=r,this.isLoading=new g.a(!1),this.tradelogs=new g.a([]),this.subscriptions=[],this.errorMessage=new g.a("")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}get isLoading$(){return this.isLoading.asObservable()}get errorMessage$(){return this.errorMessage.asObservable()}get tradelogs$(){return this.tradelogs.asObservable()}fetch(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getTradeLogsGQL.fetch({argsQuery:t}).pipe(Object(b.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message&&this.authService.logout():(t.data.getTradeLogs.forEach(t=>{t.time=N()(t.date.split(".")[0]).format("HH:mm:ss"),t.date=N()(t.date.split("T")[0]).format("DD MMM YYYY")}),this.logGroup=t.data.getTradeLogs.reduce((e,{date:r})=>(e.some(t=>t.date===r)||e.push({date:r,logItem:t.data.getTradeLogs.filter(t=>t.date===r)}),e),[]),this.tradelogs.next(this.logGroup),this.isLoading.next(!1))}),Object(c.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Trade Logs"),Object(l.a)(void 0))),Object(d.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}}return t.\u0275fac=function(e){return new(e||t)(u.ic(h.B),u.ic(p.b),u.ic(m.a))},t.\u0275prov=u.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var tt=r("onVv");function et(t,e){1&t&&(u.Yb(0),u.ac(1,"div",28),u.Vb(2,"div",29),u.Zb(),u.Xb())}function rt(t,e){if(1&t&&(u.ac(0,"div",36),u.Vb(1,"div",35),u.ac(2,"td",37),u.ac(3,"div",38),u.Qc(4),u.Zb(),u.Zb(),u.ac(5,"td",37),u.ac(6,"div",38),u.Qc(7),u.Zb(),u.Zb(),u.Zb()),2&t){const t=e.$implicit;u.Hb(4),u.Sc(" ",t.time," "),u.Hb(3),u.Sc(" ",t.log.split("---").join(" \xa0\xa0 ")," ")}}const ot=function(t,e){return{log:t,logtype:e}};function it(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"div",30),u.ac(2,"div",31),u.ac(3,"h4",32),u.Qc(4),u.Zb(),u.Zb(),u.Vb(5,"div",33),u.Zb(),u.Oc(6,rt,8,2,"div",34),u.pc(7,"searchBy"),u.Vb(8,"div",35),u.Zb()),2&t){const t=e.$implicit,r=u.oc();u.Hb(4),u.Sc(" ",t.date," "),u.Hb(2),u.wc("ngForOf",u.sc(7,2,t.logItem,u.Bc(6,ot,r.searchText,r.searchText),!1))}}let at=(()=>{class t{constructor(t){this.tradelogsService=t}ngOnInit(){this.tradelogsService.fetch({logsource:"Upstox",fromDate:N()().format("DD MMM YYYY"),toDate:N()().add(1,"days").format()}),this.fromDate=N()().format("M/DD/YYYY").toString(),this.toDate=N()().format("M/DD/YYYY").toString()}refreshTradelogs(){this.tradelogsService.fetch({logsource:"Upstox",fromDate:N()(this.fromDate),toDate:N()(this.toDate).add(1,"days").format()})}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(K))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-trade-logs"]],features:[u.Gb([{provide:a.b,useClass:V.b},{provide:a.c,useClass:V.c}])],decls:48,vars:9,consts:[[1,"card","card-custom","card-stretch",2,"min-height","550px"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"btn","btn-sm","btn-outline-success","font-weight-bold","font-size-lg",3,"click"],[1,"icon-lg","flaticon-refresh"],[1,"card-body"],[1,"form-group","row"],[1,"col-lg-2","col-form-label","text-lg-right"],[1,"col-lg-2"],[1,"input-group"],["type","text","name","fromDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["from","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"text-dark-50","flaticon-calendar"],[1,"col-lg-1","col-form-label","text-lg-right"],["type","text","name","toDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["to","ngbDatepicker"],[1,"col-lg-3"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"separator","separator-dashed","my-10"],[1,"col-lg-8"],[1,"table-responsive",2,"margin-top","-34px"],[1,"table","table-borderless","angular-bootstrap-table"],[4,"ngFor","ngForOf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row"],[1,"col-lg-6"],[1,"text-muted"],[1,"col-lg-6","text-right"],["class","font-size-lg",4,"ngFor","ngForOf"],[1,"separator","separator-dashed","my-2"],[1,"font-size-lg"],[1,"pl-0",2,"border-bottom","5px !important"],[1,"mb-1","align-top"]],template:function(t,e){if(1&t){const t=u.bc();u.ac(0,"div",0),u.Oc(1,et,3,0,"ng-container",1),u.pc(2,"async"),u.ac(3,"div",2),u.ac(4,"div",3),u.ac(5,"h3",4),u.Qc(6,"Live Trade Logs"),u.Zb(),u.Zb(),u.ac(7,"div",5),u.ac(8,"span"),u.ac(9,"button",6),u.lc("click",function(){return e.refreshTradelogs()}),u.Vb(10,"i",7),u.Qc(11," Refresh "),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(12,"div",8),u.ac(13,"div",9),u.ac(14,"label",10),u.Qc(15,"From"),u.Zb(),u.ac(16,"div",11),u.ac(17,"div",12),u.ac(18,"input",13,14),u.lc("ngModelChange",function(t){return e.fromDate=t}),u.Zb(),u.ac(20,"div",15),u.lc("click",function(){return u.Gc(t),u.Ec(19).toggle()}),u.ac(21,"span",16),u.Vb(22,"i",17),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(23,"label",18),u.Qc(24,"To"),u.Zb(),u.ac(25,"div",11),u.ac(26,"div",12),u.ac(27,"input",19,20),u.lc("ngModelChange",function(t){return e.toDate=t}),u.Zb(),u.ac(29,"div",15),u.lc("click",function(){return u.Gc(t),u.Ec(28).toggle()}),u.ac(30,"span",16),u.Vb(31,"i",17),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Vb(32,"label",18),u.ac(33,"div",21),u.ac(34,"input",22),u.lc("ngModelChange",function(t){return e.searchText=t}),u.Zb(),u.Zb(),u.Zb(),u.Vb(35,"div",23),u.ac(36,"div",9),u.Vb(37,"div",11),u.ac(38,"div",24),u.ac(39,"div",25),u.ac(40,"table",26),u.ac(41,"thead"),u.ac(42,"tr"),u.Vb(43,"th"),u.Vb(44,"th"),u.Zb(),u.Zb(),u.ac(45,"tbody"),u.Oc(46,it,9,9,"tr",27),u.pc(47,"async"),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb()}2&t&&(u.Hb(1),u.wc("ngIf",u.qc(2,5,e.tradelogsService.isLoading$)),u.Hb(17),u.wc("ngModel",e.fromDate),u.Hb(9),u.wc("ngModel",e.toDate),u.Hb(7),u.wc("ngModel",e.searchText),u.Hb(12),u.wc("ngForOf",u.qc(47,7,e.tradelogsService.tradelogs$)))},directives:[i.o,a.i,O.a,O.j,O.l,i.n],pipes:[i.b,tt.a],styles:[""]}),t})();var st=r("U1i7"),nt=r("VV7X");function ct(t,e){1&t&&(u.Yb(0),u.ac(1,"div",10),u.Vb(2,"div",11),u.Zb(),u.Xb())}function lt(t,e){if(1&t){const t=u.bc();u.ac(0,"div",12),u.ac(1,"label",13),u.ac(2,"input",14),u.lc("change",function(){u.Gc(t);const r=e.$implicit;return u.oc().updateTradeType(r.keywordvalue)}),u.Zb(),u.Vb(3,"span"),u.ac(4,"label",15),u.Qc(5),u.Zb(),u.Zb(),u.Zb()}if(2&t){const t=e.$implicit,r=u.oc();u.Hb(2),u.wc("checked",t.keywordvalue==r.selTradeType.TradesFuturesEntry[0].futuresType),u.Hb(3),u.Sc("",t.keywordvalue," ")}}const bt=function(){return{keywordtype:"FuturesTradeType"}};let dt=(()=>{class t{constructor(t,e,r){this.modal=t,this.keywordsService=e,this.tradejournalsService=r,this.isLoading=!1,this.subscriptions=[]}ngOnInit(){}updateTradeType(t){this.selTradeType.TradesFuturesEntry[0].futuresType=t;const e=this.tradejournalsService.update(this.selTradeType).pipe(Object(b.a)(()=>{this.modal.close()}),Object(c.a)(t=>Object(l.a)(this.selTradeType))).subscribe();this.subscriptions.push(e)}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(a.a),u.Ub(st.a),u.Ub(nt.a))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-update-trade-type"]],inputs:{id:"id",selTradeType:"selTradeType"},decls:16,vars:14,consts:[[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body",2,"margin-bottom","-40px"],[1,"form-group","row"],[1,"col-2"],[1,"col-9","col-form-label"],["class","radio-inline",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-1",3,"click"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"radio-inline"],[1,"radio","radio-outline","radio-outline-2x","radio-primary","mb-5"],["type","radio","name","optradio",3,"checked","change"],[2,"margin-bottom","1px !important"]],template:function(t,e){1&t&&(u.Oc(0,ct,3,0,"ng-container",0),u.ac(1,"div",1),u.ac(2,"div",2),u.Qc(3,"Trade Type"),u.Zb(),u.Zb(),u.ac(4,"div",3),u.ac(5,"div",4),u.Vb(6,"div",5),u.ac(7,"div",6),u.Oc(8,lt,6,2,"div",7),u.pc(9,"sortBy"),u.pc(10,"searchBy"),u.pc(11,"async"),u.Zb(),u.Zb(),u.Zb(),u.ac(12,"div",8),u.ac(13,"div"),u.ac(14,"button",9),u.lc("click",function(){return e.modal.dismiss()}),u.Qc(15," Cancel "),u.Zb(),u.Zb(),u.Zb()),2&t&&(u.wc("ngIf",e.isLoading),u.Hb(8),u.wc("ngForOf",u.tc(9,2,u.sc(10,7,u.qc(11,11,e.keywordsService.keywords$),u.zc(13,bt),!1),!0,"asc","order")))},directives:[i.o,i.n],pipes:[L.a,tt.a,i.b],styles:[""]}),t})();var ut=r("nGje"),gt=r("AFNZ");function ht(t,e){1&t&&(u.Yb(0),u.ac(1,"div",30),u.Vb(2,"div",31),u.Zb(),u.Xb())}function pt(t,e){if(1&t){const t=u.bc();u.ac(0,"i",32),u.lc("click",function(){return u.Gc(t),u.oc().refreshPositions()}),u.Zb()}}function mt(t,e){1&t&&(u.Yb(0),u.Vb(1,"span",33),u.Xb())}function ft(t,e){if(1&t){const t=u.bc();u.ac(0,"td"),u.ac(1,"a",39),u.lc("click",function(){u.Gc(t);const e=u.oc().$implicit;return u.oc().exitPosition(e.id)}),u.Vb(2,"span",40),u.Zb(),u.Zb()}2&t&&(u.Hb(2),u.wc("inlineSVG","./assets/media/svg/icons/Code/Error-circle.svg"))}const yt=function(t){return{color:t}};function vt(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td",34),u.Qc(2),u.Zb(),u.ac(3,"td",34),u.Qc(4),u.Zb(),u.ac(5,"td",35),u.Qc(6),u.Zb(),u.ac(7,"td",36),u.Qc(8),u.Zb(),u.ac(9,"td",35),u.Qc(10),u.pc(11,"currency"),u.Zb(),u.ac(12,"td",36),u.Qc(13),u.pc(14,"currency"),u.Zb(),u.ac(15,"td",37),u.Qc(16),u.pc(17,"currency"),u.Zb(),u.ac(18,"td"),u.ac(19,"span",38),u.Qc(20),u.pc(21,"currency"),u.Zb(),u.Zb(),u.ac(22,"td"),u.ac(23,"span",38),u.Qc(24),u.pc(25,"currency"),u.Zb(),u.Zb(),u.Oc(26,ft,3,1,"td",0),u.Zb()),2&t){const t=e.$implicit,r=u.oc();u.Hb(2),u.Rc(t.symbol.substring(4)),u.Hb(2),u.Rc(t.netQty),u.Hb(2),u.Sc(" ",t.buyQty," "),u.Hb(2),u.Sc(" ",t.sellQty," "),u.Hb(2),u.Sc(" ",t.buyAvg?u.sc(11,12,t.buyAvg,"INR",""):0," "),u.Hb(3),u.Sc(" ",t.sellAvg?u.sc(14,16,t.sellAvg,"INR",""):0," "),u.Hb(3),u.Sc(" ",t.ltp?u.sc(17,20,t.ltp,"INR",""):0," "),u.Hb(3),u.wc("ngStyle",u.Ac(32,yt,r.getProfitColor(t.realized_profit+t.unrealized_profit))),u.Hb(1),u.Sc(" ",t.realized_profit?u.sc(21,24,t.realized_profit,"INR",""):0," "),u.Hb(3),u.wc("ngStyle",u.Ac(34,yt,r.getProfitColor(t.realized_profit+t.unrealized_profit))),u.Hb(1),u.Sc(" ",t.unrealized_profit?u.sc(25,28,t.unrealized_profit,"INR",""):0," "),u.Hb(2),u.wc("ngIf",0!=t.netQty)}}function Tt(t,e){if(1&t&&(u.ac(0,"span",45),u.Qc(1),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.Sc(" ",t.TradesFuturesEntry[0].futuresType,"")}}function Zt(t,e){if(1&t&&(u.ac(0,"span",46),u.Qc(1),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.Sc(" ",t.TradesFuturesEntry[0].futuresType,"")}}function St(t,e){if(1&t){const t=u.bc();u.ac(0,"a",49),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().placeOrder(e.id)}),u.Vb(1,"span",50),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/General/Thunder-move.svg"))}function Ot(t,e){if(1&t){const t=u.bc();u.ac(0,"a",51),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().partialAdd(e.id)}),u.Vb(1,"span",50),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Code/Plus.svg"))}function xt(t,e){if(1&t&&(u.ac(0,"td"),u.Oc(1,St,2,1,"a",47),u.Oc(2,Ot,2,1,"a",48),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("ngIf","Futures Intraday"==t.OptionStrategy||"Futures"==t.OptionStrategy),u.Hb(1),u.wc("ngIf","Futures Intraday"==t.OptionStrategy||"Futures"==t.OptionStrategy)}}function Qt(t,e){if(1&t){const t=u.bc();u.ac(0,"a",54),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().placeOrder(e.id)}),u.Vb(1,"span",40),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/General/Thunder-move.svg"))}function jt(t,e){if(1&t){const t=u.bc();u.ac(0,"a",55),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().partialAdd(e.id)}),u.Vb(1,"span",40),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Code/Plus.svg"))}function kt(t,e){if(1&t&&(u.ac(0,"td"),u.Oc(1,Qt,2,1,"a",52),u.Oc(2,jt,2,1,"a",53),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("ngIf","Futures Intraday"==t.OptionStrategy||"Futures"==t.OptionStrategy),u.Hb(1),u.wc("ngIf","Futures Intraday"==t.OptionStrategy||"Futures"==t.OptionStrategy)}}function wt(t,e){if(1&t&&(u.ac(0,"td"),u.ac(1,"a",56),u.Vb(2,"span",50),u.Zb(),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("routerLink","/trade/tradeJournal/edit/"+t.id),u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}function Lt(t,e){if(1&t&&(u.ac(0,"td"),u.ac(1,"a",57),u.Vb(2,"span",40),u.Zb(),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("routerLink","/trade/tradeJournal/edit/"+t.id),u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}function Ct(t,e){if(1&t){const t=u.bc();u.ac(0,"tr"),u.ac(1,"td",38),u.Qc(2),u.Zb(),u.ac(3,"td",41),u.lc("click",function(){u.Gc(t);const r=e.$implicit;return u.oc().TradeTodayChange(r.id,r)}),u.Oc(4,Tt,2,1,"span",42),u.Oc(5,Zt,2,1,"span",43),u.Zb(),u.Oc(6,xt,3,2,"td",0),u.Oc(7,kt,3,2,"td",0),u.ac(8,"td",38),u.Qc(9),u.Zb(),u.ac(10,"td",38),u.Qc(11),u.pc(12,"number"),u.ac(13,"span",44),u.Qc(14),u.Zb(),u.Zb(),u.Oc(15,wt,3,2,"td",0),u.Oc(16,Lt,3,2,"td",0),u.Zb()}if(2&t){const t=e.$implicit,r=u.oc();u.Hb(1),u.wc("ngStyle",u.Ac(17,yt,r.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),u.Hb(1),u.Sc(" ",t.TradesFuturesEntry[0].futuresTradeSymbol.split("-").shift().substring(4)," "),u.Hb(1),u.wc("ngStyle",u.Ac(19,yt,r.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),u.Hb(1),u.wc("ngIf","Long"===t.TradesFuturesEntry[0].futuresType),u.Hb(1),u.wc("ngIf","Short"===t.TradesFuturesEntry[0].futuresType),u.Hb(1),u.wc("ngIf","Long"===t.TradesFuturesEntry[0].futuresType),u.Hb(1),u.wc("ngIf","Short"===t.TradesFuturesEntry[0].futuresType),u.Hb(1),u.wc("ngStyle",u.Ac(21,yt,r.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),u.Hb(1),u.Sc(" ",t.OptionStrategy," "),u.Hb(1),u.wc("ngStyle",u.Ac(23,yt,r.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),u.Hb(1),u.Sc(" ",u.qc(12,15,t.totallots*t.lots)," "),u.Hb(3),u.Tc(" [",t.totallots," * ",t.lots,"]"),u.Hb(1),u.wc("ngIf","Long"===t.TradesFuturesEntry[0].futuresType),u.Hb(1),u.wc("ngIf","Short"===t.TradesFuturesEntry[0].futuresType)}}function Ft(t,e){if(1&t){const t=u.bc();u.ac(0,"tr"),u.ac(1,"td"),u.Qc(2),u.Zb(),u.ac(3,"td"),u.Qc(4),u.pc(5,"date"),u.Zb(),u.ac(6,"td"),u.Qc(7),u.Zb(),u.ac(8,"td"),u.Qc(9),u.Zb(),u.ac(10,"td"),u.Qc(11),u.pc(12,"currency"),u.Zb(),u.ac(13,"td"),u.Qc(14),u.Zb(),u.ac(15,"td"),u.ac(16,"a",39),u.lc("click",function(){u.Gc(t);const r=e.$implicit;return u.oc(3).cancelOrder(r.id)}),u.Vb(17,"span",40),u.Zb(),u.Zb(),u.Zb()}if(2&t){const t=e.$implicit;u.Hb(2),u.Rc(t.symbol.substring(4)),u.Hb(2),u.Rc(u.rc(5,7,t.orderDateTime,"HH:mm:ss")),u.Hb(3),u.Rc(3==t.type?"SL-M":"SL-L"),u.Hb(2),u.Rc(t.qty),u.Hb(2),u.Sc(" ",3==t.type?t.stopPrice:t.limitPrice," "),u.Hb(3),u.Rc(1==t.side?"B":"S"),u.Hb(3),u.wc("inlineSVG","./assets/media/svg/icons/Code/Error-circle.svg")}}function It(t,e){if(1&t){const t=u.bc();u.Yb(0),u.ac(1,"span",60),u.Qc(2," Stop Orders "),u.Zb(),u.ac(3,"div"),u.ac(4,"div",21),u.ac(5,"table",15),u.ac(6,"thead"),u.ac(7,"th"),u.Qc(8," Symbol "),u.ac(9,"app-sort-icon",16),u.lc("sort",function(e){return u.Gc(t),u.oc(2).ordersSort(e)}),u.Zb(),u.Zb(),u.ac(10,"th"),u.Qc(11," Time "),u.ac(12,"app-sort-icon",61),u.lc("sort",function(e){return u.Gc(t),u.oc(2).ordersSort(e)}),u.Zb(),u.Zb(),u.ac(13,"th"),u.Qc(14,"Order Type"),u.Zb(),u.ac(15,"th"),u.Qc(16,"Quantity"),u.Zb(),u.ac(17,"th"),u.Qc(18,"Trigger Price"),u.Zb(),u.ac(19,"th"),u.Qc(20," Type "),u.ac(21,"app-sort-icon",62),u.lc("sort",function(e){return u.Gc(t),u.oc(2).ordersSort(e)}),u.Zb(),u.Zb(),u.ac(22,"th"),u.Qc(23,"Actions"),u.Zb(),u.Zb(),u.ac(24,"tbody"),u.Oc(25,Ft,18,14,"tr",20),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Xb()}if(2&t){const t=u.oc().ngIf,e=u.oc();u.Hb(9),u.wc("activeColumn",e.ordersSorting.column)("activeDirection",e.ordersSorting.direction),u.Hb(3),u.wc("activeColumn",e.ordersSorting.column)("activeDirection",e.ordersSorting.direction),u.Hb(9),u.wc("activeColumn",e.ordersSorting.column)("activeDirection",e.ordersSorting.direction),u.Hb(4),u.wc("ngForOf",t)}}function Pt(t,e){}function Ht(t,e){if(1&t&&(u.ac(0,"div",58),u.Oc(1,It,26,7,"ng-container",13),u.Oc(2,Pt,0,0,"ng-template",null,59,u.Pc),u.Zb()),2&t){const t=e.ngIf,r=u.Ec(3);u.Hb(1),u.wc("ngIf",t.length)("ngIfElse",r)}}function Mt(t,e){}function Vt(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td"),u.Qc(2),u.Zb(),u.ac(3,"td"),u.Qc(4),u.pc(5,"date"),u.Zb(),u.ac(6,"td"),u.Qc(7),u.Zb(),u.ac(8,"td"),u.Qc(9),u.pc(10,"currency"),u.Zb(),u.ac(11,"td"),u.Qc(12),u.Zb(),u.Zb()),2&t){const t=e.$implicit;u.Hb(2),u.Rc(t.symbol.substring(4)),u.Hb(2),u.Rc(u.rc(5,5,t.orderDateTime,"HH:mm:ss")),u.Hb(3),u.Rc(t.tradedQty),u.Hb(2),u.Rc(u.sc(10,8,t.tradePrice,"INR","")),u.Hb(3),u.Rc(1==t.transactionType?"B":"S")}}function Dt(t,e){if(1&t){const t=u.bc();u.Yb(0),u.ac(1,"span",60),u.Qc(2," Trade Book "),u.Zb(),u.ac(3,"div"),u.ac(4,"div",14),u.ac(5,"table",23),u.ac(6,"thead"),u.ac(7,"th"),u.Qc(8," Symbol "),u.ac(9,"app-sort-icon",16),u.lc("sort",function(e){return u.Gc(t),u.oc(2).tradesSort(e)}),u.Zb(),u.Zb(),u.ac(10,"th"),u.Qc(11," Time "),u.ac(12,"app-sort-icon",63),u.lc("sort",function(e){return u.Gc(t),u.oc(2).tradesSort(e)}),u.Zb(),u.Zb(),u.ac(13,"th"),u.Qc(14,"Quantity"),u.Zb(),u.ac(15,"th"),u.Qc(16,"Traded Price"),u.Zb(),u.ac(17,"th"),u.Qc(18," Type "),u.ac(19,"app-sort-icon",64),u.lc("sort",function(e){return u.Gc(t),u.oc(2).tradesSort(e)}),u.Zb(),u.Zb(),u.Zb(),u.ac(20,"tbody"),u.Oc(21,Vt,13,12,"tr",20),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Xb()}if(2&t){const t=u.oc().ngIf,e=u.oc();u.Hb(9),u.wc("activeColumn",e.tradesSorting.column)("activeDirection",e.tradesSorting.direction),u.Hb(3),u.wc("activeColumn",e.tradesSorting.column)("activeDirection",e.tradesSorting.direction),u.Hb(7),u.wc("activeColumn",e.tradesSorting.column)("activeDirection",e.tradesSorting.direction),u.Hb(2),u.wc("ngForOf",t)}}function Nt(t,e){}function Et(t,e){if(1&t&&(u.ac(0,"div",58),u.Oc(1,Dt,22,7,"ng-container",13),u.Oc(2,Nt,0,0,"ng-template",null,59,u.Pc),u.Zb()),2&t){const t=e.ngIf,r=u.Ec(3);u.Hb(1),u.wc("ngIf",t.length)("ngIfElse",r)}}function At(t,e){}const Gt=function(t){return{symbol:t}},Rt=function(){return{type:"Futures"}},$t=function(t){return{StockSymbol:t}},Bt=function(){return{StockType:"Journal Futures"}},Yt=function(t){return{symbol:t,status:6}};let Ut=(()=>{class t{constructor(t,e,r,o,i){this.fyersService=t,this.tradejournalsService=e,this.keywordsService=r,this.toastr=o,this.modalService=i,this.TotalAmount=0,this.AvailableMargin=0,this.UsedMargin=0,this.TradeInfo="Info",this.isDirty=!1,this.subscriptions=[]}ngOnInit(){this.fyersService.getFyersPositions(),this.fyersService.getFyersTradeBook(),this.fyersService.getFyersOrders(),this.fyersService.getFyersFunds(),this.getTradeJournals(),this.keywordsService.fetch(),this.sorting={column:"symbol",direction:"asc"},this.journalSorting={column:"StockSymbol",direction:"asc"},this.tradesSorting={column:"symbol",direction:"asc"},this.ordersSorting={column:"symbol",direction:"asc"};const t=this.fyersService.fyersFunds$.pipe(Object(n.a)(t=>{t&&t.fund_limit.forEach(t=>{"Total Balance"===t.title&&(this.TotalAmount=t.equityAmount),"Available Balance"===t.title&&10===t.id&&(this.AvailableMargin=t.equityAmount),"Utilized Amount"===t.title&&(this.UsedMargin=t.equityAmount)})}),Object(c.a)(t=>t)).subscribe(),e=this.fyersService.fyersOrders$.pipe(Object(n.a)(t=>{t&&(this.orders=t)}),Object(c.a)(t=>t)).subscribe(),r=this.fyersService.fyersPositions$.pipe(Object(n.a)(t=>{t&&(this.positions=t)}),Object(c.a)(t=>t)).subscribe();this.subscriptions.push(t),this.subscriptions.push(e),this.subscriptions.push(r)}TradeTodayChange(t,e){const r=this.modalService.open(dt);r.componentInstance.id=t,r.componentInstance.selTradeType=e,r.result.then(()=>this.getTradeJournals(),()=>{})}getTradeJournals(){this.tradejournalsService.getTradeJournals({RequestType:"OpenPositions",Status:"Open",StockType:"Future"})}getProfitColor(t){return Number(t)>0?"green":"red"}getFutureRowColor(t){return"Long"===t?"#3699FF":"Short"===t?"#F64E60":void 0}journalSort(t){const e=this.journalSorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}sort(t){const e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}tradesSort(t){const e=this.tradesSorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}ordersSort(t){const e=this.ordersSorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}refreshPositions(){this.fyersService.getFyersPositions(),this.fyersService.getFyersTradeBook(),this.fyersService.getFyersOrders(),this.fyersService.getFyersFunds(),this.getTradeJournals()}placeOrder(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(b.a)(()=>{this.isDirty=!1}),Object(c.a)(t=>Object(l.a)(this.EMPTY_JOURNAL))).subscribe(t=>{t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal&&this.tradejournal.TradesFuturesEntry.forEach((t,e)=>{const r=t.futuresTradeSymbol;let o=!1;if(this.positions.forEach((t,e)=>{r.substring(0,r.length-7)==t.symbol&&0!==Number(t.netQty)&&(o=!0)}),!o){const e=t.futuresType,o=[];let i=0;if("Long"===e&&(i=1),"Short"===e&&(i=-1),confirm("TRADE : "+e+" "+r.substring(4,r.length-7))){const t={symbol:r.substring(0,r.length-7),qty:Number(Number(Number(this.tradejournal.lots)*Number(this.tradejournal.totallots)).toFixed(0)),type:2,side:i,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};o.push(t);const e={placeOrder:o};null!==e&&this.fyersService.placeFyersOrder(e)}}}))});this.subscriptions.push(e)}}partialAdd(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(b.a)(()=>{this.isDirty=!1}),Object(c.a)(t=>Object(l.a)(this.EMPTY_JOURNAL))).subscribe(t=>{if(t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal)){let t=0,e="",r=0;this.tradejournal.TradesFuturesEntry.forEach((o,i)=>{if(e=o.futuresTradeSymbol,this.positions.forEach((o,i)=>{e.substring(0,e.length-7)==o.symbol&&(o.netQty>0&&(r=1),o.netQty<0&&(r=-1),t=Math.round(Number(o.netQty)/Number(this.tradejournal.lots)),t<=0&&(t=1))}),0!==t&&confirm("ADD :  "+e.substring(4,e.length-7)+" LOTS "+Number(t)*Number(this.tradejournal.lots))){this.orders.forEach(t=>{e.substring(0,e.length-7)===t.symbol&&6===t.status&&this.fyersService.cancelFyersOrder({id:t.id.toString()})});const o=[],i={symbol:e.substring(0,e.length-7),qty:Number(Number(Number(t)*Number(this.tradejournal.lots)).toFixed(0)),type:2,side:r,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};o.push(i);const a={placeOrder:o};null!==a&&this.fyersService.placeFyersOrder(a)}})}});this.subscriptions.push(e)}}partialClose(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(b.a)(()=>{this.isDirty=!1}),Object(c.a)(t=>Object(l.a)(this.EMPTY_JOURNAL))).subscribe(t=>{if(t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal)){let t=0,e=0,r="";this.tradejournal.TradesFuturesEntry.forEach((o,i)=>{if(r=o.futuresTradeSymbol,this.positions.forEach((o,i)=>{r.substring(0,r.length-7)==o.symbol&&(o.netQty>0&&(e=-1),o.netQty<0&&(e=1),t=Math.round(Number(o.netQty)/Number(this.tradejournal.lots)/2.25),t<=0&&(t=0))}),0!==t&&confirm("ADD :  "+r.substring(4,r.length-7)+" LOTS "+Number(t)*Number(this.tradejournal.lots))){this.orders.forEach(t=>{r.substring(0,r.length-7)===t.symbol&&6===t.status&&this.fyersService.cancelFyersOrder({id:t.id.toString()})});const o=[],i={symbol:r.substring(0,r.length-7),qty:Number(Number(Number(t)*Number(this.tradejournal.lots)).toFixed(0)),type:2,side:e,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};o.push(i);const a={placeOrder:o};null!==a&&this.fyersService.placeFyersOrder(a)}})}});this.subscriptions.push(e)}}cancelOrder(t){confirm("Cancel Order : "+t.split("-").shift().substring(4))&&this.fyersService.cancelFyersOrder({id:t})}exitPosition(t){confirm("Exit Position : "+t.split("-").shift().substring(4))&&(this.orders.forEach(e=>{t.split("-").shift()===e.symbol&&6===e.status&&this.fyersService.cancelFyersOrder({id:e.id.toString()})}),this.fyersService.exitFyersPosition({id:t}))}exitAllPositions(){confirm("Are you sure exit all the positions")&&this.fyersService.exitAllFyersPositions(),this.TradeInfo="Info"}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(ut.a),u.Ub(nt.a),u.Ub(st.a),u.Ub(p.b),u.Ub(a.j))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-upstox-positions"]],decls:115,vars:119,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-2"],[1,"text-right","mr-15","mb-5",3,"ngStyle"],["fyersPositionsLoading",""],[4,"ngIf","ngIfElse"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","symbol",3,"activeColumn","activeDirection","sort"],["column","netQty",3,"activeColumn","activeDirection","sort"],["column","realized_profit",3,"activeColumn","activeDirection","sort"],["column","unrealized_profit",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"table-responsive","angular-bootstrap-table","mt-10"],[1,"font-weight-bold","font-size-lg","mb-10"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden","mt-10"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],["class","mt-10",4,"ngIf","ngIfElse"],["loading",""],[1,"card-footer","d-flex","justify-content-between"],[1,"col-lg-3"],[1,"text-muted","font-weight-bold","mb-1","font-size-lg"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"icon-lg","text-primary","flaticon-refresh","text-hover-primary","cursor-pointer",3,"click"],[1,"spinner","spinner-primary","mr-5","ml-1"],[1,"font-weight-bold"],[1,"text-primary","font-weight-bold"],[1,"text-danger","font-weight-bold"],[1,"text-warning","font-weight-bold"],[1,"font-weight-bold",3,"ngStyle"],["title","Exit Position",1,"btn","btn-icon","btn-secondary","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],[1,"font-weight-bold","cursor-pointer",3,"ngStyle","click"],["class","label label-lg label-light-primary label-inline","style","width: 75px",4,"ngIf"],["class","label label-lg label-light-danger label-inline","style","width: 75px",4,"ngIf"],[1,"text-muted"],[1,"label","label-lg","label-light-primary","label-inline",2,"width","75px"],[1,"label","label-lg","label-light-danger","label-inline",2,"width","75px"],["title","Trade","class","btn btn-icon btn-light btn-hover-primary btn-sm mx-3",3,"click",4,"ngIf"],["title","Scale In","class","btn btn-icon btn-light btn-hover-primary btn-sm mx-3",3,"click",4,"ngIf"],["title","Trade",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Scale In",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"click"],["title","Trade","class","btn btn-icon btn-light btn-hover-danger btn-sm mx-3",3,"click",4,"ngIf"],["title","Scale In","class","btn btn-icon btn-light btn-hover-danger btn-sm mx-3",3,"click",4,"ngIf"],["title","Trade",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-3",3,"click"],["title","Scale In",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-3",3,"click"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-3",3,"routerLink"],[1,"mt-10"],["noItems",""],[1,"font-weight-bold","font-size-lg"],["column","exchange_time",3,"activeColumn","activeDirection","sort"],["column","transaction_type",3,"activeColumn","activeDirection","sort"],["column","orderDateTime",3,"activeColumn","activeDirection","sort"],["column","transactionType",3,"activeColumn","activeDirection","sort"]],template:function(t,e){if(1&t&&(u.Oc(0,ht,3,0,"ng-container",0),u.pc(1,"async"),u.ac(2,"div",1),u.ac(3,"div",2),u.ac(4,"div",3),u.ac(5,"h3",4),u.Qc(6,"Futures Positions"),u.Zb(),u.Zb(),u.ac(7,"div",5),u.ac(8,"span"),u.ac(9,"input",6),u.lc("ngModelChange",function(t){return e.searchText=t}),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(10,"div",7),u.ac(11,"div",8),u.Vb(12,"div",9),u.Vb(13,"div",10),u.Vb(14,"div",10),u.ac(15,"div",10),u.ac(16,"h4",11),u.pc(17,"async"),u.Qc(18),u.pc(19,"currency"),u.pc(20,"async"),u.Oc(21,pt,1,0,"ng-template",null,12,u.Pc),u.Oc(23,mt,2,0,"ng-container",13),u.pc(24,"async"),u.Zb(),u.Zb(),u.Zb(),u.ac(25,"div",14),u.ac(26,"table",15),u.ac(27,"thead"),u.ac(28,"th"),u.Qc(29," Symbol "),u.ac(30,"app-sort-icon",16),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(31,"th"),u.Qc(32," Quantity "),u.ac(33,"app-sort-icon",17),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(34,"th"),u.Qc(35,"Buy Qty"),u.Zb(),u.ac(36,"th"),u.Qc(37,"Sell Qty"),u.Zb(),u.ac(38,"th"),u.Qc(39,"Avg Buy"),u.Zb(),u.ac(40,"th"),u.Qc(41,"Avg Sell"),u.Zb(),u.ac(42,"th"),u.Qc(43,"LTP"),u.Zb(),u.ac(44,"th"),u.Qc(45," Realized "),u.ac(46,"app-sort-icon",18),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(47,"th"),u.Qc(48," Unrealized "),u.ac(49,"app-sort-icon",19),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(50,"th"),u.Qc(51,"Actions"),u.Zb(),u.Zb(),u.ac(52,"tbody"),u.Oc(53,vt,27,36,"tr",20),u.pc(54,"positionFilter"),u.pc(55,"searchBy"),u.pc(56,"sortBy"),u.pc(57,"async"),u.Zb(),u.Zb(),u.Zb(),u.ac(58,"div",21),u.ac(59,"span",22),u.Qc(60," Live Trade "),u.Zb(),u.ac(61,"table",23),u.ac(62,"thead"),u.ac(63,"th"),u.Qc(64," Stock "),u.ac(65,"app-sort-icon",24),u.lc("sort",function(t){return e.journalSort(t)}),u.Zb(),u.Zb(),u.ac(66,"th"),u.Qc(67,"Type"),u.Zb(),u.ac(68,"th"),u.Qc(69,"Actions"),u.Zb(),u.ac(70,"th"),u.Qc(71,"Strategy"),u.Zb(),u.ac(72,"th"),u.Qc(73,"Total Lots"),u.Zb(),u.ac(74,"th"),u.Qc(75,"Actions"),u.Zb(),u.Zb(),u.ac(76,"tbody"),u.Oc(77,Ct,17,25,"tr",20),u.pc(78,"positionFilter"),u.pc(79,"searchBy"),u.pc(80,"sortBy"),u.pc(81,"async"),u.Zb(),u.Zb(),u.Zb(),u.Oc(82,Ht,4,2,"div",25),u.pc(83,"positionFilter"),u.pc(84,"searchBy"),u.pc(85,"sortBy"),u.pc(86,"async"),u.Oc(87,Mt,0,0,"ng-template",null,26,u.Pc),u.Oc(89,Et,4,2,"div",25),u.pc(90,"positionFilter"),u.pc(91,"searchBy"),u.pc(92,"sortBy"),u.pc(93,"async"),u.Oc(94,At,0,0,"ng-template",null,26,u.Pc),u.Zb(),u.ac(96,"div",27),u.ac(97,"div",28),u.ac(98,"span",29),u.Qc(99,"Total : "),u.Zb(),u.ac(100,"span",29),u.Qc(101),u.pc(102,"currency"),u.Zb(),u.Zb(),u.ac(103,"div",28),u.ac(104,"span",29),u.Qc(105,"Available : "),u.Zb(),u.ac(106,"span",29),u.Qc(107),u.pc(108,"currency"),u.Zb(),u.Zb(),u.ac(109,"div",28),u.ac(110,"span",29),u.Qc(111,"Used : "),u.Zb(),u.ac(112,"span",29),u.Qc(113),u.pc(114,"currency"),u.Zb(),u.Zb(),u.Zb(),u.Zb()),2&t){const t=u.Ec(22),r=u.Ec(88);u.wc("ngIf",u.qc(1,25,e.fyersService.isLoading$)),u.Hb(9),u.wc("ngModel",e.searchText),u.Hb(7),u.wc("ngStyle",u.Ac(105,yt,e.getProfitColor(u.qc(17,27,e.fyersService.futuresMTM$)))),u.Hb(2),u.Sc(" ",u.sc(19,29,u.qc(20,33,e.fyersService.futuresMTM$),"INR","")," "),u.Hb(5),u.wc("ngIf",u.qc(24,35,e.fyersService.isLoading$))("ngIfElse",t),u.Hb(7),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(3),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(13),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(3),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(4),u.wc("ngForOf",u.rc(54,37,u.sc(55,40,u.tc(56,44,u.qc(57,49,e.fyersService.fyersPositions$),!0,e.sorting.direction,e.sorting.column),u.Ac(107,Gt,e.searchText),!1),u.zc(109,Rt))),u.Hb(12),u.wc("activeColumn",e.journalSorting.column)("activeDirection",e.journalSorting.direction),u.Hb(12),u.wc("ngForOf",u.rc(78,51,u.sc(79,54,u.tc(80,58,u.qc(81,63,e.tradejournalsService.tradejournals$),!0,e.journalSorting.direction,e.journalSorting.column),u.Ac(110,$t,e.searchText),!1),u.zc(112,Bt))),u.Hb(5),u.wc("ngIf",u.rc(83,65,u.sc(84,68,u.tc(85,72,u.qc(86,77,e.fyersService.fyersOrders$),!0,e.ordersSorting.direction,e.ordersSorting.column),u.Ac(113,Yt,e.searchText),!0),u.zc(115,Rt)))("ngIfElse",r),u.Hb(7),u.wc("ngIf",u.rc(90,79,u.sc(91,82,u.tc(92,86,u.qc(93,91,e.fyersService.fyersTradeBook$),!0,e.tradesSorting.direction,e.sorting.column),u.Ac(116,Gt,e.searchText),!1),u.zc(118,Rt)))("ngIfElse",r),u.Hb(12),u.Sc(" ",u.sc(102,93,e.TotalAmount,"INR",""),""),u.Hb(6),u.Sc(" ",u.sc(108,97,e.AvailableMargin,"INR",""),""),u.Hb(6),u.Sc(" ",u.sc(114,101,e.UsedMargin,"INR",""),"")}},directives:[i.o,O.a,O.j,O.l,i.p,x.a,i.n,j.a,S.k],pipes:[i.b,i.d,gt.a,tt.a,L.a,i.g,i.f],styles:[""]}),t})(),qt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ob({type:t,selectors:[["app-live"]],decls:1,vars:0,template:function(t,e){1&t&&u.Vb(0,"router-outlet")},directives:[S.m],encapsulation:2}),t})(),zt=(()=>{class t{transform(t){if(!t)return t;let e=[];return e=t.filter(t=>{if("Long Call Intraday"===t.OptionStrategy||"Short Call Intraday"===t.OptionStrategy||"Long Put Intraday"===t.OptionStrategy||"Short Put Intraday"===t.OptionStrategy)return t}),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=u.Tb({name:"intradayOptionsFilter",type:t,pure:!0}),t})();function Jt(t,e){1&t&&(u.Yb(0),u.ac(1,"div",30),u.Vb(2,"div",31),u.Zb(),u.Xb())}function _t(t,e){if(1&t){const t=u.bc();u.ac(0,"i",32),u.lc("click",function(){return u.Gc(t),u.oc().refreshPositions()}),u.Zb()}}function Wt(t,e){1&t&&(u.Yb(0),u.Vb(1,"span",33),u.Xb())}function Xt(t,e){if(1&t){const t=u.bc();u.ac(0,"a",40),u.lc("click",function(){u.Gc(t);const e=u.oc().$implicit;return u.oc().exitPosition(e.id)}),u.Vb(1,"span",41),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Code/Error-circle.svg"))}const Kt=function(t){return{color:t}};function te(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td",34),u.Qc(2),u.Zb(),u.ac(3,"td",34),u.Qc(4),u.Zb(),u.ac(5,"td",35),u.Qc(6),u.pc(7,"number"),u.Zb(),u.ac(8,"td",36),u.Qc(9),u.pc(10,"number"),u.Zb(),u.ac(11,"td",35),u.Qc(12),u.pc(13,"currency"),u.Zb(),u.ac(14,"td",36),u.Qc(15),u.pc(16,"currency"),u.Zb(),u.ac(17,"td",37),u.Qc(18),u.pc(19,"currency"),u.Zb(),u.ac(20,"td"),u.ac(21,"span",38),u.Qc(22),u.pc(23,"currency"),u.Zb(),u.Zb(),u.ac(24,"td"),u.ac(25,"span",38),u.Qc(26),u.pc(27,"currency"),u.Zb(),u.Zb(),u.ac(28,"td"),u.Oc(29,Xt,2,1,"a",39),u.Zb(),u.Zb()),2&t){const t=e.$implicit,r=u.oc();u.Hb(2),u.Rc(t.symbol.substring(4)),u.Hb(2),u.Rc(t.netQty),u.Hb(2),u.Sc(" ",u.qc(7,12,t.buyQty)," "),u.Hb(3),u.Sc(" ",u.qc(10,14,t.sellQty)," "),u.Hb(3),u.Sc(" ",t.buyAvg?u.sc(13,16,t.buyAvg,"INR",""):0," "),u.Hb(3),u.Sc(" ",t.sellAvg?u.sc(16,20,t.sellAvg,"INR",""):0," "),u.Hb(3),u.Sc(" ",t.ltp?u.sc(19,24,t.ltp,"INR",""):0," "),u.Hb(3),u.wc("ngStyle",u.Ac(36,Kt,r.getProfitColor(t.realized_profit+t.unrealized_profit))),u.Hb(1),u.Sc(" ",t.realized_profit?u.sc(23,28,t.realized_profit,"INR",""):0," "),u.Hb(3),u.wc("ngStyle",u.Ac(38,Kt,r.getProfitColor(t.realized_profit+t.unrealized_profit))),u.Hb(1),u.Sc(" ",t.unrealized_profit?u.sc(27,32,t.unrealized_profit,"INR",""):0," "),u.Hb(3),u.wc("ngIf",0!=t.netQty)}}function ee(t,e){if(1&t){const t=u.bc();u.ac(0,"a",45),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().placeOrder(e.id)}),u.Vb(1,"span",46),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/General/Thunder-move.svg"))}function re(t,e){if(1&t){const t=u.bc();u.ac(0,"a",47),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().partialAdd(e.id)}),u.Vb(1,"span",46),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Code/Plus.svg"))}function oe(t,e){if(1&t&&(u.ac(0,"td"),u.Oc(1,ee,2,1,"a",43),u.Oc(2,re,2,1,"a",44),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("ngIf","Long Call Intraday"==t.OptionStrategy||"Long Put Intraday"==t.OptionStrategy||"Short Call Intraday"==t.OptionStrategy||"Short Put Intraday"==t.OptionStrategy),u.Hb(1),u.wc("ngIf","Long Call Intraday"==t.OptionStrategy||"Long Put Intraday"==t.OptionStrategy||"Short Call Intraday"==t.OptionStrategy||"Short Put Intraday"==t.OptionStrategy)}}function ie(t,e){if(1&t){const t=u.bc();u.ac(0,"a",50),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().placeOrder(e.id)}),u.Vb(1,"span",41),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/General/Thunder-move.svg"))}function ae(t,e){if(1&t){const t=u.bc();u.ac(0,"a",51),u.lc("click",function(){u.Gc(t);const e=u.oc(2).$implicit;return u.oc().partialAdd(e.id)}),u.Vb(1,"span",41),u.Zb()}2&t&&(u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Code/Plus.svg"))}function se(t,e){if(1&t&&(u.ac(0,"td"),u.Oc(1,ie,2,1,"a",48),u.Oc(2,ae,2,1,"a",49),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("ngIf","Long Call Intraday"==t.OptionStrategy||"Long Put Intraday"==t.OptionStrategy||"Short Call Intraday"==t.OptionStrategy||"Short Put Intraday"==t.OptionStrategy),u.Hb(1),u.wc("ngIf","Long Call Intraday"==t.OptionStrategy||"Long Put Intraday"==t.OptionStrategy||"Short Call Intraday"==t.OptionStrategy||"Short Put Intraday"==t.OptionStrategy)}}function ne(t,e){if(1&t&&(u.ac(0,"td"),u.ac(1,"a",52),u.Vb(2,"span",46),u.Zb(),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("routerLink","/trade/tradeJournal/edit/"+t.id),u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}function ce(t,e){if(1&t&&(u.ac(0,"td"),u.ac(1,"a",53),u.Vb(2,"span",41),u.Zb(),u.Zb()),2&t){const t=u.oc().$implicit;u.Hb(1),u.wc("routerLink","/trade/tradeJournal/edit/"+t.id),u.Hb(1),u.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}function le(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td",38),u.Qc(2),u.Zb(),u.Oc(3,oe,3,2,"td",0),u.Oc(4,se,3,2,"td",0),u.ac(5,"td",38),u.Qc(6),u.Zb(),u.ac(7,"td",38),u.Qc(8),u.Zb(),u.ac(9,"td",38),u.Qc(10),u.pc(11,"number"),u.ac(12,"span",42),u.Qc(13),u.Zb(),u.Zb(),u.Oc(14,ne,3,2,"td",0),u.Oc(15,ce,3,2,"td",0),u.Zb()),2&t){const t=e.$implicit,r=u.oc();u.Hb(1),u.wc("ngStyle",u.Ac(16,Kt,r.getRowColor(t.OptionStrategy))),u.Hb(1),u.Sc(" ",t.TradesOptionsEntry[0].tradesymbol.split("-").shift().substring(4)," "),u.Hb(1),u.wc("ngIf","Long Call Intraday"===t.OptionStrategy||"Short Put Intraday"===t.OptionStrategy),u.Hb(1),u.wc("ngIf","Short Call Intraday"===t.OptionStrategy||"Long Put Intraday"===t.OptionStrategy),u.Hb(1),u.wc("ngStyle",u.Ac(18,Kt,r.getRowColor(t.OptionStrategy))),u.Hb(1),u.Sc(" ",t.TradesOptionsEntry[0].strike," "),u.Hb(1),u.wc("ngStyle",u.Ac(20,Kt,r.getRowColor(t.OptionStrategy))),u.Hb(1),u.Sc(" ",t.OptionStrategy," "),u.Hb(1),u.wc("ngStyle",u.Ac(22,Kt,r.getRowColor(t.OptionStrategy))),u.Hb(1),u.Sc(" ",u.qc(11,14,t.totallots*t.lots)," "),u.Hb(3),u.Tc(" [",t.totallots," * ",t.lots,"]"),u.Hb(1),u.wc("ngIf","Long Call Intraday"===t.OptionStrategy||"Short Put Intraday"===t.OptionStrategy),u.Hb(1),u.wc("ngIf","Short Call Intraday"===t.OptionStrategy||"Long Put Intraday"===t.OptionStrategy)}}function be(t,e){if(1&t){const t=u.bc();u.ac(0,"tr"),u.ac(1,"td"),u.Qc(2),u.Zb(),u.ac(3,"td"),u.Qc(4),u.pc(5,"date"),u.Zb(),u.ac(6,"td"),u.Qc(7),u.Zb(),u.ac(8,"td"),u.Qc(9),u.pc(10,"currency"),u.Zb(),u.ac(11,"td"),u.Qc(12),u.Zb(),u.ac(13,"td"),u.Qc(14),u.Zb(),u.ac(15,"td"),u.ac(16,"a",40),u.lc("click",function(){u.Gc(t);const r=e.$implicit;return u.oc(3).cancelOrder(r.id)}),u.Vb(17,"span",41),u.Zb(),u.Zb(),u.Zb()}if(2&t){const t=e.$implicit;u.Hb(2),u.Rc(t.symbol.substring(4)),u.Hb(2),u.Rc(u.rc(5,7,t.orderDateTime,"HH:mm:ss")),u.Hb(3),u.Rc(t.qty),u.Hb(2),u.Rc(u.sc(10,10,t.stopPrice,"INR","")),u.Hb(3),u.Rc(1==t.transactionType?"B":"S"),u.Hb(2),u.Rc(4==t.type?"STOP":"TARGET"),u.Hb(3),u.wc("inlineSVG","./assets/media/svg/icons/Code/Error-circle.svg")}}function de(t,e){if(1&t){const t=u.bc();u.Yb(0),u.ac(1,"span",56),u.Qc(2," Stop Orders "),u.Zb(),u.ac(3,"div"),u.ac(4,"div",21),u.ac(5,"table",15),u.ac(6,"thead"),u.ac(7,"th"),u.Qc(8," Symbol "),u.ac(9,"app-sort-icon",16),u.lc("sort",function(e){return u.Gc(t),u.oc(2).ordersSort(e)}),u.Zb(),u.Zb(),u.ac(10,"th"),u.Qc(11," Time "),u.ac(12,"app-sort-icon",57),u.lc("sort",function(e){return u.Gc(t),u.oc(2).ordersSort(e)}),u.Zb(),u.Zb(),u.ac(13,"th"),u.Qc(14,"Quantity"),u.Zb(),u.ac(15,"th"),u.Qc(16,"Trigger Price"),u.Zb(),u.ac(17,"th"),u.Qc(18," Type "),u.ac(19,"app-sort-icon",58),u.lc("sort",function(e){return u.Gc(t),u.oc(2).ordersSort(e)}),u.Zb(),u.Zb(),u.ac(20,"th"),u.Qc(21,"Order Type"),u.Zb(),u.ac(22,"th"),u.Qc(23,"Actions"),u.Zb(),u.Zb(),u.ac(24,"tbody"),u.Oc(25,be,18,14,"tr",20),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Xb()}if(2&t){const t=u.oc().ngIf,e=u.oc();u.Hb(9),u.wc("activeColumn",e.ordersSorting.column)("activeDirection",e.ordersSorting.direction),u.Hb(3),u.wc("activeColumn",e.ordersSorting.column)("activeDirection",e.ordersSorting.direction),u.Hb(7),u.wc("activeColumn",e.ordersSorting.column)("activeDirection",e.ordersSorting.direction),u.Hb(6),u.wc("ngForOf",t)}}function ue(t,e){}function ge(t,e){if(1&t&&(u.ac(0,"div",54),u.Oc(1,de,26,7,"ng-container",13),u.Oc(2,ue,0,0,"ng-template",null,55,u.Pc),u.Zb()),2&t){const t=e.ngIf,r=u.Ec(3);u.Hb(1),u.wc("ngIf",t.length)("ngIfElse",r)}}function he(t,e){}function pe(t,e){if(1&t&&(u.ac(0,"tr"),u.ac(1,"td"),u.Qc(2),u.Zb(),u.ac(3,"td"),u.Qc(4),u.pc(5,"date"),u.Zb(),u.ac(6,"td"),u.Qc(7),u.Zb(),u.ac(8,"td"),u.Qc(9),u.pc(10,"currency"),u.Zb(),u.ac(11,"td"),u.Qc(12),u.Zb(),u.Zb()),2&t){const t=e.$implicit;u.Hb(2),u.Rc(t.symbol.substring(4)),u.Hb(2),u.Rc(u.rc(5,5,t.orderDateTime,"HH:mm:ss")),u.Hb(3),u.Rc(t.tradedQty),u.Hb(2),u.Rc(u.sc(10,8,t.tradePrice,"INR","")),u.Hb(3),u.Rc(1==t.side?"B":"S")}}function me(t,e){if(1&t){const t=u.bc();u.Yb(0),u.ac(1,"span",56),u.Qc(2," Trade Book "),u.Zb(),u.ac(3,"div"),u.ac(4,"div",14),u.ac(5,"table",23),u.ac(6,"thead"),u.ac(7,"th"),u.Qc(8," Symbol "),u.ac(9,"app-sort-icon",16),u.lc("sort",function(e){return u.Gc(t),u.oc(2).tradesSort(e)}),u.Zb(),u.Zb(),u.ac(10,"th"),u.Qc(11," Time "),u.ac(12,"app-sort-icon",59),u.lc("sort",function(e){return u.Gc(t),u.oc(2).tradesSort(e)}),u.Zb(),u.Zb(),u.ac(13,"th"),u.Qc(14,"Quantity"),u.Zb(),u.ac(15,"th"),u.Qc(16,"Traded Price"),u.Zb(),u.ac(17,"th"),u.Qc(18," Type "),u.ac(19,"app-sort-icon",60),u.lc("sort",function(e){return u.Gc(t),u.oc(2).tradesSort(e)}),u.Zb(),u.Zb(),u.Zb(),u.ac(20,"tbody"),u.Oc(21,pe,13,12,"tr",20),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Xb()}if(2&t){const t=u.oc().ngIf,e=u.oc();u.Hb(9),u.wc("activeColumn",e.tradesSorting.column)("activeDirection",e.tradesSorting.direction),u.Hb(3),u.wc("activeColumn",e.tradesSorting.column)("activeDirection",e.tradesSorting.direction),u.Hb(7),u.wc("activeColumn",e.tradesSorting.column)("activeDirection",e.tradesSorting.direction),u.Hb(2),u.wc("ngForOf",t)}}function fe(t,e){}function ye(t,e){if(1&t&&(u.ac(0,"div",54),u.Oc(1,me,22,7,"ng-container",13),u.Oc(2,fe,0,0,"ng-template",null,55,u.Pc),u.Zb()),2&t){const t=e.ngIf,r=u.Ec(3);u.Hb(1),u.wc("ngIf",t.length)("ngIfElse",r)}}function ve(t,e){}const Te=function(t){return{symbol:t}},Ze=function(){return{type:"Options"}},Se=function(t){return{StockSymbol:t}},Oe=function(t){return{symbol:t,status:6}};let xe=(()=>{class t{constructor(t,e,r){this.tradejournalsService=t,this.fyersService=e,this.toastr=r,this.TotalAmount=0,this.AvailableMargin=0,this.UsedMargin=0,this.isDirty=!1,this.subscriptions=[]}ngOnInit(){this.fyersService.getFyersPositions(),this.fyersService.getFyersTradeBook(),this.fyersService.getFyersOrders(),this.fyersService.getFyersFunds(),this.getTradeJournals(),this.sorting={column:"symbol",direction:"asc"},this.journalSorting={column:"StockSymbol",direction:"asc"},this.tradesSorting={column:"symbol",direction:"asc"},this.ordersSorting={column:"symbol",direction:"asc"};const t=this.fyersService.fyersFunds$.pipe(Object(n.a)(t=>{t&&t.fund_limit.forEach(t=>{"Total Balance"===t.title&&(this.TotalAmount=t.equityAmount),"Available Balance"===t.title&&10===t.id&&(this.AvailableMargin=t.equityAmount),"Utilized Amount"===t.title&&(this.UsedMargin=t.equityAmount)})}),Object(c.a)(t=>t)).subscribe(),e=this.fyersService.fyersOrders$.pipe(Object(n.a)(t=>{t&&(this.orders=t)}),Object(c.a)(t=>t)).subscribe(),r=this.fyersService.fyersPositions$.pipe(Object(n.a)(t=>{t&&(this.positions=t)}),Object(c.a)(t=>t)).subscribe();this.subscriptions.push(t),this.subscriptions.push(e),this.subscriptions.push(r)}sort(t){const e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}tradesSort(t){const e=this.tradesSorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}journalSort(t){const e=this.journalSorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}ordersSort(t){const e=this.ordersSorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}getProfitColor(t){return Number(t)>0?"green":"red"}getTradeJournals(){this.tradejournalsService.getTradeJournals({RequestType:"OpenPositions",Status:"Open",StockType:"Option"})}getRowColor(t){return"Long Call Intraday"===t||"Short Put Intraday"===t?"#3699FF":"Short Call Intraday"===t||"Long Put Intraday"===t?"#F64E60":void 0}placeOrder(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(b.a)(()=>{this.isDirty=!1}),Object(c.a)(t=>Object(l.a)(this.EMPTY_JOURNAL))).subscribe(t=>{if(t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal)){const t=this.tradejournal.OptionStrategy;let e="";"Long Call Intraday"===t&&(e="Long Call"),"Long Put Intraday"===t&&(e="Long Put"),"Short Call Intraday"===t&&(e="Short Call"),"Short Put Intraday"===t&&(e="Short Put"),this.tradejournal.TradesOptionsEntry.forEach((t,r)=>{const o=t.tradesymbol;let i=!1;if(this.positions.forEach((t,e)=>{o.substring(0,o.length-7)==t.symbol&&0!==Number(t.netQty)&&(i=!0)}),!i){const r=t.type,i=[];let a=0;if("Long Call"!==r&&"Long WCall"!==r&&"Long Put"!==r&&"Long WPut"!==r||(a=1),"Short Call"!==r&&"Short WCall"!==r&&"Short Put"!==r&&"Short WPut"!==r||(a=-1),confirm("TRADE : "+e+" "+o.substring(4,o.length-7))){const t={symbol:o.substring(0,o.length-7),qty:Number(Number(Number(this.tradejournal.lots)*Number(this.tradejournal.totallots)).toFixed(0)),type:2,side:a,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};i.push(t);const e={placeOrder:i};null!==e&&this.fyersService.placeFyersOrder(e)}}})}});this.subscriptions.push(e)}}partialClose(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(b.a)(()=>{this.isDirty=!1}),Object(c.a)(t=>Object(l.a)(this.EMPTY_JOURNAL))).subscribe(t=>{if(t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal)){const t=this.tradejournal.OptionStrategy;let e="",r=0;"Long Call Intraday"===t&&(e="Long Call"),"Long Put Intraday"===t&&(e="Long Put"),"Short Call Intraday"===t&&(e="Short Call"),"Short Put Intraday"===t&&(e="Short Put"),this.tradejournal.TradesOptionsEntry.forEach((t,e)=>{const o=t.tradesymbol;if(this.positions.forEach((t,e)=>{o.substring(0,o.length-7)==t.symbol&&(r=Math.round(Number(t.netQty)/Number(this.tradejournal.lots)/2.25),r<=0&&(r=0))}),0!==r&&confirm("PARTIAL CLOSE :  "+o.substring(4,o.length-7)+" LOTS "+Number(r)*Number(this.tradejournal.lots))){this.orders.forEach(t=>{o.substring(0,o.length-7)===t.symbol&&6===t.status&&this.fyersService.cancelFyersOrder({id:t.id.toString()})});const e=t.type,i=[];let a=0;"Long Call"!==e&&"Long WCall"!==e&&"Long Put"!==e&&"Long WPut"!==e||(a=-1),"Short Call"!==e&&"Short WCall"!==e&&"Short Put"!==e&&"Short WPut"!==e||(a=1);const s={symbol:o.substring(0,o.length-7),qty:Number(Number(Number(r)*Number(this.tradejournal.lots)).toFixed(0)),type:2,side:a,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};i.push(s);const n={placeOrder:i};null!==n&&this.fyersService.placeFyersOrder(n)}})}});this.subscriptions.push(e)}}partialAddPosition(t,e){console.log(this.tradejournal);let r=0,o=0;if(t<0&&(r=-1),t>0&&(r=1),0!==t&&(o=Math.abs(t),0!==o&&confirm("ADD :  "+e+" LOTS "+Number(o)))){this.orders.forEach(t=>{e===t.symbol&&6===t.status&&this.fyersService.cancelFyersOrder({id:t.id.toString()})});const t=[],i={symbol:e,qty:Number(o).toFixed(0),type:2,side:r,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};t.push(i);const a={placeOrder:t};null!==a&&this.fyersService.placeFyersOrder(a)}}partialClosePosition(t,e){let r=0,o=0;if(t<0&&(r=1),t>0&&(r=-1),0!==Math.abs(t)&&(o=Math.abs(t)/2,0!==o&&confirm("Close :  "+e+" LOTS "+Number(o)))){this.orders.forEach(t=>{e===t.symbol&&6===t.status&&this.fyersService.cancelFyersOrder({id:t.id.toString()})});const t=[],i={symbol:e,qty:Number(o).toFixed(0),type:2,side:r,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};t.push(i);const a={placeOrder:t};null!==a&&this.fyersService.placeFyersOrder(a)}}partialAdd(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(b.a)(()=>{this.isDirty=!1}),Object(c.a)(t=>Object(l.a)(this.EMPTY_JOURNAL))).subscribe(t=>{if(t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal)){const t=this.tradejournal.OptionStrategy;let e=0,r="",o="",i=0;"Long Call Intraday"===t&&(r="Long Call"),"Long Put Intraday"===t&&(r="Long Put"),"Short Call Intraday"===t&&(r="Short Call"),"Short Put Intraday"===t&&(r="Short Put"),this.tradejournal.TradesOptionsEntry.forEach((t,r)=>{if(o=t.tradesymbol,this.positions.forEach((r,a)=>{if(o.substring(0,o.length-7)==r.symbol){const o=t.type;"Long Call"!==o&&"Long WCall"!==o&&"Long Put"!==o&&"Long WPut"!==o||(i=1),"Short Call"!==o&&"Short WCall"!==o&&"Short Put"!==o&&"Short WPut"!==o||(i=-1),e=Math.round(Number(r.netQty)/Number(this.tradejournal.lots)),e<=0&&(e=1)}}),0!==e&&confirm("ADD :  "+o.substring(4,o.length-7)+" LOTS "+Number(e)*Number(this.tradejournal.lots))){this.orders.forEach(t=>{o.substring(0,o.length-7)===t.symbol&&6===t.status&&this.fyersService.cancelFyersOrder({id:t.id.toString()})});const t=[],r={symbol:o.substring(0,o.length-7),qty:Number(Number(Number(e)*Number(this.tradejournal.lots)).toFixed(0)),type:2,side:i,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};t.push(r);const a={placeOrder:t};null!==a&&this.fyersService.placeFyersOrder(a)}})}});this.subscriptions.push(e)}}refreshPositions(){this.fyersService.getFyersPositions(),this.fyersService.getFyersTradeBook(),this.fyersService.getFyersOrders(),this.fyersService.getFyersFunds(),this.getTradeJournals()}exitPosition(t){confirm("Exit Position : "+t.split("-").shift().substring(4))&&(this.orders.forEach(e=>{t.split("-").shift()===e.symbol&&6===e.status&&this.fyersService.cancelFyersOrder({id:e.id.toString()})}),setTimeout(()=>{this.fyersService.exitFyersPosition({id:t})},3e3))}cancelOrder(t){confirm("Cancel Order : "+t.split("-").shift().substring(4))&&this.fyersService.cancelFyersOrder({id:t})}exitAllPositions(){confirm("Are you sure exit all the positions")&&this.fyersService.exitAllFyersPositions()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(nt.a),u.Ub(ut.a),u.Ub(p.b))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-fyers-positions"]],decls:115,vars:117,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-2"],[1,"text-right","mr-15","mb-5",3,"ngStyle"],["fyersPositionsLoading",""],[4,"ngIf","ngIfElse"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","symbol",3,"activeColumn","activeDirection","sort"],["column","netQty",3,"activeColumn","activeDirection","sort"],["column","realized_profit",3,"activeColumn","activeDirection","sort"],["column","unrealized_profit",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"table-responsive","angular-bootstrap-table","mt-10"],[1,"font-weight-bold","font-size-lg","mb-10"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden","mt-10"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],["class","mt-10",4,"ngIf","ngIfElse"],["loading",""],[1,"card-footer","d-flex","justify-content-between"],[1,"col-lg-3"],[1,"text-muted","font-weight-bold","mb-1","font-size-lg"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"icon-lg","text-primary","flaticon-refresh","text-hover-primary","cursor-pointer",3,"click"],[1,"spinner","spinner-primary","mr-5","ml-1"],[1,"font-weight-bold"],[1,"text-primary","font-weight-bold"],[1,"text-danger","font-weight-bold"],[1,"text-warning","font-weight-bold"],[1,"font-weight-bold",3,"ngStyle"],["title","Exit Position","class","btn btn-icon btn-secondary btn-hover-danger btn-sm",3,"click",4,"ngIf"],["title","Exit Position",1,"btn","btn-icon","btn-secondary","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],[1,"text-muted"],["title","Trade","class","btn btn-icon btn-light btn-hover-primary btn-sm mx-3",3,"click",4,"ngIf"],["title","Scale In","class","btn btn-icon btn-light btn-hover-primary btn-sm mx-3",3,"click",4,"ngIf"],["title","Trade",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Scale In",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"click"],["title","Trade","class","btn btn-icon btn-light btn-hover-danger btn-sm mx-3",3,"click",4,"ngIf"],["title","Scale In","class","btn btn-icon btn-light btn-hover-danger btn-sm mx-3",3,"click",4,"ngIf"],["title","Trade",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-3",3,"click"],["title","Scale In",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-3",3,"click"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-3",3,"routerLink"],[1,"mt-10"],["noItems",""],[1,"font-weight-bold","font-size-lg"],["column","exchange_time",3,"activeColumn","activeDirection","sort"],["column","transaction_type",3,"activeColumn","activeDirection","sort"],["column","orderDateTime",3,"activeColumn","activeDirection","sort"],["column","transactionType",3,"activeColumn","activeDirection","sort"]],template:function(t,e){if(1&t&&(u.Oc(0,Jt,3,0,"ng-container",0),u.pc(1,"async"),u.ac(2,"div",1),u.ac(3,"div",2),u.ac(4,"div",3),u.ac(5,"h3",4),u.Qc(6,"Options Positions"),u.Zb(),u.Zb(),u.ac(7,"div",5),u.ac(8,"span"),u.ac(9,"input",6),u.lc("ngModelChange",function(t){return e.searchText=t}),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(10,"div",7),u.ac(11,"div",8),u.Vb(12,"div",9),u.Vb(13,"div",10),u.Vb(14,"div",10),u.ac(15,"div",10),u.ac(16,"h4",11),u.pc(17,"async"),u.Qc(18),u.pc(19,"currency"),u.pc(20,"async"),u.Oc(21,_t,1,0,"ng-template",null,12,u.Pc),u.Oc(23,Wt,2,0,"ng-container",13),u.pc(24,"async"),u.Zb(),u.Zb(),u.Zb(),u.ac(25,"div",14),u.ac(26,"table",15),u.ac(27,"thead"),u.ac(28,"th"),u.Qc(29," Symbol "),u.ac(30,"app-sort-icon",16),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(31,"th"),u.Qc(32," Quantity "),u.ac(33,"app-sort-icon",17),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(34,"th"),u.Qc(35,"Buy Qty"),u.Zb(),u.ac(36,"th"),u.Qc(37,"Sell Qty"),u.Zb(),u.ac(38,"th"),u.Qc(39,"Avg Buy"),u.Zb(),u.ac(40,"th"),u.Qc(41,"Avg Sell"),u.Zb(),u.ac(42,"th"),u.Qc(43,"LTP"),u.Zb(),u.ac(44,"th"),u.Qc(45," Realized "),u.ac(46,"app-sort-icon",18),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(47,"th"),u.Qc(48," Unrealized "),u.ac(49,"app-sort-icon",19),u.lc("sort",function(t){return e.sort(t)}),u.Zb(),u.Zb(),u.ac(50,"th"),u.Qc(51,"Actions"),u.Zb(),u.Zb(),u.ac(52,"tbody"),u.Oc(53,te,30,40,"tr",20),u.pc(54,"positionFilter"),u.pc(55,"searchBy"),u.pc(56,"sortBy"),u.pc(57,"async"),u.Zb(),u.Zb(),u.Zb(),u.ac(58,"div",21),u.ac(59,"span",22),u.Qc(60," Live Trade "),u.Zb(),u.ac(61,"table",23),u.ac(62,"thead"),u.ac(63,"th"),u.Qc(64," Stock "),u.ac(65,"app-sort-icon",24),u.lc("sort",function(t){return e.journalSort(t)}),u.Zb(),u.Zb(),u.ac(66,"th"),u.Qc(67,"Actions"),u.Zb(),u.ac(68,"th"),u.Qc(69,"Strike"),u.Zb(),u.ac(70,"th"),u.Qc(71,"Strategy"),u.Zb(),u.ac(72,"th"),u.Qc(73,"Lots"),u.Zb(),u.ac(74,"th"),u.Qc(75,"Actions"),u.Zb(),u.Zb(),u.ac(76,"tbody"),u.Oc(77,le,16,24,"tr",20),u.pc(78,"intradayOptionsFilter"),u.pc(79,"searchBy"),u.pc(80,"sortBy"),u.pc(81,"async"),u.Zb(),u.Zb(),u.Zb(),u.Oc(82,ge,4,2,"div",25),u.pc(83,"positionFilter"),u.pc(84,"searchBy"),u.pc(85,"sortBy"),u.pc(86,"async"),u.Oc(87,he,0,0,"ng-template",null,26,u.Pc),u.Oc(89,ye,4,2,"div",25),u.pc(90,"positionFilter"),u.pc(91,"searchBy"),u.pc(92,"sortBy"),u.pc(93,"async"),u.Oc(94,ve,0,0,"ng-template",null,26,u.Pc),u.Zb(),u.ac(96,"div",27),u.ac(97,"div",28),u.ac(98,"span",29),u.Qc(99,"Total : "),u.Zb(),u.ac(100,"span",29),u.Qc(101),u.pc(102,"currency"),u.Zb(),u.Zb(),u.ac(103,"div",28),u.ac(104,"span",29),u.Qc(105,"Available : "),u.Zb(),u.ac(106,"span",29),u.Qc(107),u.pc(108,"currency"),u.Zb(),u.Zb(),u.ac(109,"div",28),u.ac(110,"span",29),u.Qc(111,"Used : "),u.Zb(),u.ac(112,"span",29),u.Qc(113),u.pc(114,"currency"),u.Zb(),u.Zb(),u.Zb(),u.Zb()),2&t){const t=u.Ec(22),r=u.Ec(88);u.wc("ngIf",u.qc(1,25,e.fyersService.isLoading$)),u.Hb(9),u.wc("ngModel",e.searchText),u.Hb(7),u.wc("ngStyle",u.Ac(104,Kt,e.getProfitColor(u.qc(17,27,e.fyersService.optionsMTM$)))),u.Hb(2),u.Sc(" ",u.sc(19,29,u.qc(20,33,e.fyersService.optionsMTM$),"INR","")," "),u.Hb(5),u.wc("ngIf",u.qc(24,35,e.fyersService.isLoading$))("ngIfElse",t),u.Hb(7),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(3),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(13),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(3),u.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),u.Hb(4),u.wc("ngForOf",u.rc(54,37,u.sc(55,40,u.tc(56,44,u.qc(57,49,e.fyersService.fyersPositions$),!0,e.sorting.direction,e.sorting.column),u.Ac(106,Te,e.searchText),!1),u.zc(108,Ze))),u.Hb(12),u.wc("activeColumn",e.journalSorting.column)("activeDirection",e.journalSorting.direction),u.Hb(12),u.wc("ngForOf",u.qc(78,51,u.sc(79,53,u.tc(80,57,u.qc(81,62,e.tradejournalsService.tradejournals$),!0,e.journalSorting.direction,e.journalSorting.column),u.Ac(109,Se,e.searchText),!1))),u.Hb(5),u.wc("ngIf",u.rc(83,64,u.sc(84,67,u.tc(85,71,u.qc(86,76,e.fyersService.fyersOrders$),!0,e.ordersSorting.direction,e.ordersSorting.column),u.Ac(111,Oe,e.searchText),!0),u.zc(113,Ze)))("ngIfElse",r),u.Hb(7),u.wc("ngIf",u.rc(90,78,u.sc(91,81,u.tc(92,85,u.qc(93,90,e.fyersService.fyersTradeBook$),!0,e.tradesSorting.direction,e.sorting.column),u.Ac(114,Te,e.searchText),!1),u.zc(116,Ze)))("ngIfElse",r),u.Hb(12),u.Sc(" ",u.sc(102,92,e.TotalAmount,"INR",""),""),u.Hb(6),u.Sc(" ",u.sc(108,96,e.AvailableMargin,"INR",""),""),u.Hb(6),u.Sc(" ",u.sc(114,100,e.UsedMargin,"INR",""),"")}},directives:[i.o,O.a,O.j,O.l,i.p,x.a,i.n,j.a,S.k],pipes:[i.b,i.d,gt.a,tt.a,L.a,zt,i.g,i.f],styles:[""]}),t})();var Qe=r("Kj3r"),je=r("eIep"),ke=r("9wGw");function we(t,e){1&t&&(u.Yb(0),u.ac(1,"div",10),u.Vb(2,"div",11),u.Zb(),u.Xb())}function Le(t,e){if(1&t&&(u.ac(0,"span"),u.Qc(1),u.Zb()),2&t){const t=u.oc(2);u.Hb(1),u.Rc(t.traintestlog.StockName)}}function Ce(t,e){if(1&t&&(u.Yb(0),u.Qc(1),u.Oc(2,Le,2,1,"span",1),u.Xb()),2&t){const t=u.oc();u.Hb(1),u.Sc(" ",t.id?"":"New Log"," "),u.Hb(1),u.wc("ngIf",t.traintestlog&&t.traintestlog.StockName)}}function Fe(t,e){1&t&&(u.ac(0,"span"),u.Qc(1,"Save"),u.Zb())}function Ie(t,e){1&t&&(u.ac(0,"span"),u.Qc(1,"Update"),u.Zb())}function Pe(t,e){if(1&t){const t=u.bc();u.ac(0,"span"),u.ac(1,"button",12),u.lc("click",function(){return u.Gc(t),u.oc().save()}),u.Oc(2,Fe,2,0,"span",1),u.Oc(3,Ie,2,0,"span",1),u.Zb(),u.Zb()}if(2&t){const t=u.oc();u.Hb(2),u.wc("ngIf",!t.traintestlog.id),u.Hb(1),u.wc("ngIf",t.traintestlog.id)}}function He(t,e){1&t&&u.Qc(0),2&t&&u.Sc(" ",e.result.stock," ")}function Me(t,e){if(1&t){const t=u.bc();u.ac(0,"div",13),u.ac(1,"form",14),u.lc("ngSubmit",function(){return u.Gc(t),u.oc().save()}),u.ac(2,"div",15),u.Vb(3,"div",16),u.Vb(4,"div",17),u.ac(5,"div",16),u.ac(6,"div",18),u.ac(7,"div",19),u.ac(8,"label",20),u.Vb(9,"input",21),u.Vb(10,"span"),u.Qc(11," Active "),u.Zb(),u.ac(12,"label",20),u.Vb(13,"input",22),u.Vb(14,"span"),u.Qc(15," Archive "),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(16,"div",23),u.Vb(17,"div",24),u.ac(18,"div",17),u.Oc(19,He,1,1,"ng-template",null,25,u.Pc),u.ac(21,"label"),u.Qc(22,"Stock Symbol"),u.Zb(),u.ac(23,"div",26),u.ac(24,"input",27),u.lc("ngModelChange",function(e){return u.Gc(t),u.oc().StockSymbol=e}),u.Zb(),u.ac(25,"div",28),u.ac(26,"span",29),u.Vb(27,"i",30),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(28,"div",17),u.ac(29,"label"),u.Qc(30,"Train Date"),u.Zb(),u.ac(31,"div",26),u.Vb(32,"input",31,32),u.ac(34,"div",33),u.lc("click",function(){return u.Gc(t),u.Ec(33).toggle()}),u.ac(35,"span",29),u.Vb(36,"i",34),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Vb(37,"div",35),u.Zb(),u.ac(38,"div",23),u.Vb(39,"div",24),u.ac(40,"div",17),u.ac(41,"label"),u.Qc(42,"Train From"),u.Zb(),u.ac(43,"div",26),u.Vb(44,"input",36,37),u.ac(46,"div",33),u.lc("click",function(){return u.Gc(t),u.Ec(45).toggle()}),u.ac(47,"span",29),u.Vb(48,"i",34),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.ac(49,"div",17),u.ac(50,"label"),u.Qc(51,"Train To"),u.Zb(),u.ac(52,"div",26),u.Vb(53,"input",38,39),u.ac(55,"div",33),u.lc("click",function(){return u.Gc(t),u.Ec(54).toggle()}),u.ac(56,"span",29),u.Vb(57,"i",34),u.Zb(),u.Zb(),u.Zb(),u.Zb(),u.Vb(58,"div",35),u.Zb(),u.ac(59,"div",23),u.Vb(60,"div",24),u.ac(61,"div",17),u.ac(62,"label"),u.Qc(63,"Stock Lower Price"),u.Zb(),u.Vb(64,"input",40),u.Zb(),u.ac(65,"div",17),u.ac(66,"label"),u.Qc(67,"Stock Upper Price"),u.Zb(),u.Vb(68,"input",41),u.Zb(),u.Vb(69,"div",35),u.Zb(),u.ac(70,"div",23),u.Vb(71,"div",24),u.ac(72,"div",17),u.ac(73,"label"),u.Qc(74,"Bullish Epoch"),u.Zb(),u.Vb(75,"input",42),u.Zb(),u.ac(76,"div",17),u.ac(77,"label"),u.Qc(78,"Bearish Epoch"),u.Zb(),u.Vb(79,"input",43),u.Zb(),u.Vb(80,"div",35),u.Zb(),u.ac(81,"div",23),u.Vb(82,"div",24),u.ac(83,"div",17),u.ac(84,"label"),u.Qc(85,"Other Bullish Epochs"),u.Zb(),u.Vb(86,"input",44),u.Zb(),u.ac(87,"div",17),u.ac(88,"label"),u.Qc(89,"Other Bearish Epoch"),u.Zb(),u.Vb(90,"input",45),u.Zb(),u.Vb(91,"div",35),u.Zb(),u.ac(92,"div",23),u.Vb(93,"div",24),u.ac(94,"div",46),u.ac(95,"label"),u.Qc(96,"Notes"),u.Zb(),u.Vb(97,"textarea",47),u.Zb(),u.Vb(98,"div",35),u.Zb(),u.ac(99,"div",23),u.Vb(100,"div",24),u.ac(101,"div",46),u.ac(102,"h4",48),u.Qc(103,"Test data range"),u.Zb(),u.Vb(104,"div",49),u.Zb(),u.Zb(),u.ac(105,"div",23),u.Vb(106,"div",24),u.ac(107,"div",17),u.ac(108,"label"),u.Qc(109,"Test1 From"),u.Zb(),u.Vb(110,"input",50),u.Zb(),u.ac(111,"div",17),u.ac(112,"label"),u.Qc(113,"Test1 to"),u.Zb(),u.Vb(114,"input",51),u.Zb(),u.Vb(115,"div",35),u.Zb(),u.ac(116,"div",23),u.Vb(117,"div",24),u.ac(118,"div",17),u.ac(119,"label"),u.Qc(120,"Test2 From"),u.Zb(),u.Vb(121,"input",52),u.Zb(),u.ac(122,"div",17),u.ac(123,"label"),u.Qc(124,"Test2 To"),u.Zb(),u.Vb(125,"input",53),u.Zb(),u.Vb(126,"div",35),u.Zb(),u.ac(127,"div",23),u.Vb(128,"div",24),u.ac(129,"div",17),u.ac(130,"label"),u.Qc(131,"Test3 From"),u.Zb(),u.Vb(132,"input",54),u.Zb(),u.ac(133,"div",17),u.ac(134,"label"),u.Qc(135,"Test3 To"),u.Zb(),u.Vb(136,"input",55),u.Zb(),u.Vb(137,"div",35),u.Zb(),u.ac(138,"div",23),u.Vb(139,"div",24),u.ac(140,"div",17),u.ac(141,"label"),u.Qc(142,"Test4 From"),u.Zb(),u.Vb(143,"input",56),u.Zb(),u.ac(144,"div",17),u.ac(145,"label"),u.Qc(146,"Test4 To"),u.Zb(),u.Vb(147,"input",57),u.Zb(),u.Vb(148,"div",35),u.Zb(),u.ac(149,"div",23),u.Vb(150,"div",24),u.ac(151,"div",17),u.ac(152,"label"),u.Qc(153,"Test5 From"),u.Zb(),u.Vb(154,"input",58),u.Zb(),u.ac(155,"div",17),u.ac(156,"label"),u.Qc(157,"Test5 To"),u.Zb(),u.Vb(158,"input",59),u.Zb(),u.Vb(159,"div",35),u.Zb(),u.ac(160,"div",23),u.Vb(161,"div",24),u.ac(162,"div",17),u.ac(163,"label"),u.Qc(164,"Test6 From"),u.Zb(),u.Vb(165,"input",60),u.Zb(),u.ac(166,"div",17),u.ac(167,"label"),u.Qc(168,"Test6 To"),u.Zb(),u.Vb(169,"input",61),u.Zb(),u.Vb(170,"div",35),u.Zb(),u.ac(171,"div",23),u.Vb(172,"div",24),u.ac(173,"div",17),u.ac(174,"label"),u.Qc(175,"Test7 From"),u.Zb(),u.Vb(176,"input",62),u.Zb(),u.ac(177,"div",17),u.ac(178,"label"),u.Qc(179,"Test7 To"),u.Zb(),u.Vb(180,"input",63),u.Zb(),u.Vb(181,"div",35),u.Zb(),u.ac(182,"div",23),u.Vb(183,"div",24),u.ac(184,"div",17),u.ac(185,"label"),u.Qc(186,"Test8 From"),u.Zb(),u.Vb(187,"input",64),u.Zb(),u.ac(188,"div",17),u.ac(189,"label"),u.Qc(190,"Test8 To"),u.Zb(),u.Vb(191,"input",65),u.Zb(),u.Vb(192,"div",35),u.Zb(),u.ac(193,"div",23),u.Vb(194,"div",24),u.ac(195,"div",17),u.ac(196,"label"),u.Qc(197,"Test9 From"),u.Zb(),u.Vb(198,"input",66),u.Zb(),u.ac(199,"div",17),u.ac(200,"label"),u.Qc(201,"Test9 To"),u.Zb(),u.Vb(202,"input",67),u.Zb(),u.Vb(203,"div",35),u.Zb(),u.ac(204,"div",23),u.Vb(205,"div",24),u.ac(206,"div",17),u.ac(207,"label"),u.Qc(208,"Test10 From"),u.Zb(),u.Vb(209,"input",68),u.Zb(),u.ac(210,"div",17),u.ac(211,"label"),u.Qc(212,"Test10 To"),u.Zb(),u.Vb(213,"input",69),u.Zb(),u.Vb(214,"div",35),u.Zb(),u.ac(215,"div",23),u.Vb(216,"div",24),u.ac(217,"div",17),u.ac(218,"label"),u.Qc(219,"Test11 From"),u.Zb(),u.Vb(220,"input",70),u.Zb(),u.ac(221,"div",17),u.ac(222,"label"),u.Qc(223,"Test11 To"),u.Zb(),u.Vb(224,"input",71),u.Zb(),u.Vb(225,"div",35),u.Zb(),u.ac(226,"div",23),u.Vb(227,"div",24),u.ac(228,"div",17),u.ac(229,"label"),u.Qc(230,"Test12 From"),u.Zb(),u.Vb(231,"input",72),u.Zb(),u.ac(232,"div",17),u.ac(233,"label"),u.Qc(234,"Test12 To"),u.Zb(),u.Vb(235,"input",73),u.Zb(),u.Vb(236,"div",35),u.Zb(),u.ac(237,"div",23),u.Vb(238,"div",24),u.ac(239,"div",17),u.ac(240,"label"),u.Qc(241,"Test13 From"),u.Zb(),u.Vb(242,"input",74),u.Zb(),u.ac(243,"div",17),u.ac(244,"label"),u.Qc(245,"Test13 To"),u.Zb(),u.Vb(246,"input",75),u.Zb(),u.Vb(247,"div",35),u.Zb(),u.ac(248,"div",23),u.Vb(249,"div",24),u.ac(250,"div",17),u.ac(251,"label"),u.Qc(252,"Test14 From"),u.Zb(),u.Vb(253,"input",76),u.Zb(),u.ac(254,"div",17),u.ac(255,"label"),u.Qc(256,"Test14 To"),u.Zb(),u.Vb(257,"input",77),u.Zb(),u.Vb(258,"div",35),u.Zb(),u.ac(259,"div",23),u.Vb(260,"div",24),u.ac(261,"div",17),u.ac(262,"label"),u.Qc(263,"Test15 From"),u.Zb(),u.Vb(264,"input",78),u.Zb(),u.ac(265,"div",17),u.ac(266,"label"),u.Qc(267,"Test15 To"),u.Zb(),u.Vb(268,"input",79),u.Zb(),u.Vb(269,"div",35),u.Zb(),u.ac(270,"div",23),u.Vb(271,"div",24),u.ac(272,"div",17),u.ac(273,"label"),u.Qc(274,"Test16 From"),u.Zb(),u.Vb(275,"input",80),u.Zb(),u.ac(276,"div",17),u.ac(277,"label"),u.Qc(278,"Test16 To"),u.Zb(),u.Vb(279,"input",81),u.Zb(),u.Vb(280,"div",35),u.Zb(),u.ac(281,"div",23),u.Vb(282,"div",24),u.ac(283,"div",17),u.ac(284,"label"),u.Qc(285,"Test17 From"),u.Zb(),u.Vb(286,"input",82),u.Zb(),u.ac(287,"div",17),u.ac(288,"label"),u.Qc(289,"Test17 To"),u.Zb(),u.Vb(290,"input",83),u.Zb(),u.Vb(291,"div",35),u.Zb(),u.ac(292,"div",23),u.Vb(293,"div",24),u.ac(294,"div",17),u.ac(295,"label"),u.Qc(296,"Test18 From"),u.Zb(),u.Vb(297,"input",84),u.Zb(),u.ac(298,"div",17),u.ac(299,"label"),u.Qc(300,"Test18 To"),u.Zb(),u.Vb(301,"input",85),u.Zb(),u.Vb(302,"div",35),u.Zb(),u.ac(303,"div",23),u.Vb(304,"div",24),u.ac(305,"div",17),u.ac(306,"label"),u.Qc(307,"Test19 From"),u.Zb(),u.Vb(308,"input",86),u.Zb(),u.ac(309,"div",17),u.ac(310,"label"),u.Qc(311,"Test19 To"),u.Zb(),u.Vb(312,"input",87),u.Zb(),u.Vb(313,"div",35),u.Zb(),u.ac(314,"div",23),u.Vb(315,"div",24),u.ac(316,"div",17),u.ac(317,"label"),u.Qc(318,"Test20 From"),u.Zb(),u.Vb(319,"input",88),u.Zb(),u.ac(320,"div",17),u.ac(321,"label"),u.Qc(322,"Test20 To"),u.Zb(),u.Vb(323,"input",89),u.Zb(),u.Vb(324,"div",35),u.Zb(),u.ac(325,"div",23),u.Vb(326,"div",24),u.ac(327,"div",46),u.ac(328,"label"),u.Qc(329,"Other Test Notes"),u.Zb(),u.Vb(330,"textarea",90),u.Zb(),u.Vb(331,"div",35),u.Zb(),u.Zb(),u.Zb()}if(2&t){const t=u.Ec(20),e=u.oc();u.Hb(1),u.wc("formGroup",e.formGroup),u.Hb(23),u.Mb("is-invalid",e.isControlInvalid("StockSymbol")),u.wc("ngModel",e.StockSymbol)("ngbTypeahead",e.searchStocks)("inputFormatter",e.formatter)("resultTemplate",t),u.Hb(8),u.Mb("is-invalid",e.isControlInvalid("TrainDate")),u.Hb(12),u.Mb("is-invalid",e.isControlInvalid("TrainFrom")),u.Hb(9),u.Mb("is-invalid",e.isControlInvalid("TrainTo"))}}let Ve=(()=>{class t{constructor(t,e,r,o,i,a){this.traintestlogsService=t,this.stockmasterService=e,this.toastr=r,this.fb=o,this.router=i,this.route=a,this.errorMessage="",this.subscriptions=[],this.searchStocks=t=>t.pipe(Object(Qe.a)(200),Object(n.a)(t=>""===t?[]:this.stocks.filter(e=>e.stock.toLowerCase().indexOf(t.toLowerCase())>-1).slice(0,10))),this.formatter=t=>t.stock}ngOnInit(){this.EMPTY_TRAINTESTLOG={id:void 0,StockSymbol:"",StockName:"",TrainDate:new Date,StockLower:"",StockUpper:"",TrainFrom:void 0,TrainTo:void 0,BullishEpoch:"",BearishEpoch:"",logStatus:"Active",OtherBullishEpochs:"",OtherBearishEpochs:"",Notes:"",Test1From:"",Test1To:"",Test2From:"",Test2To:"",Test3From:"",Test3To:"",Test4From:"",Test4To:"",Test5From:"",Test5To:"",Test6From:"",Test6To:"",Test7From:"",Test7To:"",Test8From:"",Test8To:"",Test9From:"",Test9To:"",Test10From:"",Test10To:"",Test11From:"",Test11To:"",Test12From:"",Test12To:"",Test13From:"",Test13To:"",Test14From:"",Test14To:"",Test15From:"",Test15To:"",Test16From:"",Test16To:"",Test17From:"",Test17To:"",Test18From:"",Test18To:"",Test19From:"",Test19To:"",Test20From:"",Test20To:""};const t=this.stockmasterService.stockmasters$.pipe(Object(n.a)(t=>{t.length?this.stocks=t:this.stockmasterService.fetch()}),Object(c.a)(t=>t)).subscribe();this.subscriptions.push(t),this.isLoading$=this.traintestlogsService.isLoading$,this.loadTrainTestLog()}loadTrainTestLog(){const t=this.route.paramMap.pipe(Object(je.a)(t=>(this.id=t.get("id"),this.id?this.traintestlogsService.getItemById(this.id):Object(l.a)(this.EMPTY_TRAINTESTLOG))),Object(c.a)(t=>(this.errorMessage=t,Object(l.a)(void 0)))).subscribe(t=>{t?(t.data?(this.traintestlog=t.data.traintestlog,this.traintestlog.TrainDate=N()(this.traintestlog.TrainDate).format("M/DD/YYYY").toString(),this.traintestlog.TrainFrom&&(this.traintestlog.TrainFrom=N()(this.traintestlog.TrainFrom).format("M/DD/YYYY").toString()),this.traintestlog.TrainTo&&(this.traintestlog.TrainTo=N()(this.traintestlog.TrainTo).format("M/DD/YYYY").toString()),this.StockSymbol=this.stocks.filter(t=>t.stock===this.traintestlog.StockSymbol),this.StockSymbol.stock=this.traintestlog.StockSymbol):(this.traintestlog=t,this.traintestlog.TrainDate=N()(this.traintestlog.TrainDate).format("M/DD/YYYY").toString()),this.loadForm()):this.router.navigate(["/live/trainTestLogs"],{relativeTo:this.route})});this.subscriptions.push(t)}loadForm(){this.traintestlog&&(this.formGroup=this.fb.group({StockSymbol:[this.traintestlog.StockSymbol,O.r.compose([O.r.required])],StockName:[this.traintestlog.StockName],TrainDate:[this.traintestlog.TrainDate,O.r.compose([O.r.nullValidator])],BullishEpoch:[this.traintestlog.BullishEpoch],BearishEpoch:[this.traintestlog.BearishEpoch],TrainFrom:[this.traintestlog.TrainFrom],TrainTo:[this.traintestlog.TrainTo],StockLower:[this.traintestlog.StockLower],StockUpper:[this.traintestlog.StockUpper],logStatus:[this.traintestlog.logStatus],OtherBullishEpochs:[this.traintestlog.OtherBullishEpochs],OtherBearishEpochs:[this.traintestlog.OtherBearishEpochs],Notes:[this.traintestlog.Notes],OtherTestnotes:[this.traintestlog.OtherTestnotes],Test1From:[this.traintestlog.Test1From],Test1To:[this.traintestlog.Test1To],Test2From:[this.traintestlog.Test2From],Test2To:[this.traintestlog.Test2To],Test3From:[this.traintestlog.Test3From],Test3To:[this.traintestlog.Test3To],Test4From:[this.traintestlog.Test4From],Test4To:[this.traintestlog.Test4To],Test5From:[this.traintestlog.Test5From],Test5To:[this.traintestlog.Test5To],Test6From:[this.traintestlog.Test6From],Test6To:[this.traintestlog.Test6To],Test7From:[this.traintestlog.Test7From],Test7To:[this.traintestlog.Test7To],Test8From:[this.traintestlog.Test8From],Test8To:[this.traintestlog.Test8To],Test9From:[this.traintestlog.Test9From],Test9To:[this.traintestlog.Test9To],Test10From:[this.traintestlog.Test10From],Test10To:[this.traintestlog.Test10To],Test11From:[this.traintestlog.Test11From],Test11To:[this.traintestlog.Test11To],Test12From:[this.traintestlog.Test12From],Test12To:[this.traintestlog.Test12To],Test13From:[this.traintestlog.Test13From],Test13To:[this.traintestlog.Test13To],Test14From:[this.traintestlog.Test14From],Test14To:[this.traintestlog.Test14To],Test15From:[this.traintestlog.Test15From],Test15To:[this.traintestlog.Test15To],Test16From:[this.traintestlog.Test16From],Test16To:[this.traintestlog.Test16To],Test17From:[this.traintestlog.Test17From],Test17To:[this.traintestlog.Test17To],Test18From:[this.traintestlog.Test18From],Test18To:[this.traintestlog.Test18To],Test19From:[this.traintestlog.Test19From],Test19To:[this.traintestlog.Test19To],Test20From:[this.traintestlog.Test20From],Test20To:[this.traintestlog.Test20To]}))}save(){if(this.formGroup.markAllAsTouched(),!this.formGroup.valid)return;const t=this.formGroup.value;this.traintestlog=Object.assign(this.traintestlog,t),this.traintestlog.StockSymbol=t.StockSymbol.stock,this.traintestlog.id?this.edit():this.create()}edit(){const t=this.traintestlogsService.update(this.traintestlog).pipe(Object(c.a)(t=>Object(l.a)(this.traintestlog))).subscribe();this.subscriptions.push(t)}create(){const t=this.traintestlogsService.create(this.traintestlog).pipe(Object(c.a)(t=>Object(l.a)(this.traintestlog))).subscribe(t=>{t.data&&(this.traintestlog.id=t.data.createTraintestlog.id)});this.subscriptions.push(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}isControlValid(t){const e=this.formGroup.controls[t];return e.valid&&(e.dirty||e.touched)}isControlInvalid(t){const e=this.formGroup.controls[t];return e.invalid&&(e.dirty||e.touched)}controlHasError(t,e){const r=this.formGroup.controls[e];return r.hasError(t)&&(r.dirty||r.touched)}isControlTouched(t){const e=this.formGroup.controls[t];return e.dirty||e.touched}}return t.\u0275fac=function(e){return new(e||t)(u.Ub(f),u.Ub(ke.a),u.Ub(p.b),u.Ub(O.c),u.Ub(S.h),u.Ub(S.a))},t.\u0275cmp=u.Ob({type:t,selectors:[["app-edit-train-test-logs"]],features:[u.Gb([{provide:a.b,useClass:V.b},{provide:a.c,useClass:V.c}])],decls:14,vars:6,consts:[[1,"card","card-custom","gutter-b"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button","routerLink","/live/trainTestLogs",1,"btn","btn-light"],[1,"fa","fa-arrow-left"],[1,"card-body"],["class","mt-5",4,"ngIf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],["type","button",1,"btn","btn-primary","font-weight-bold","ml-2",3,"click"],[1,"mt-5"],["action","#",1,"form","form-label-right",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-3"],[1,"col-lg-4"],[1,"col-9","col-form-label"],[1,"radio-inline"],[1,"radio","radio-outline","radio-outline-2x","radio-primary"],["type","radio","value","Active","formControlName","logStatus"],["type","radio","value","Archive","formControlName","logStatus"],[1,"form-group","row"],[1,"col-lg-1"],["rt",""],[1,"input-group"],["type","text","name","stockSymbol","placeholder","Stock Symbol","autocomplete","off","formControlName","StockSymbol",1,"form-control",3,"ngModel","ngbTypeahead","inputFormatter","resultTemplate","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"flaticon-layer"],["type","text","name","toDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","TrainDate",1,"form-control"],["to","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"text-dark-50","flaticon-calendar"],[1,"col-lg-2"],["type","text","name","TrainFrom","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","TrainFrom",1,"form-control"],["TrainFrom","ngbDatepicker"],["type","text","name","TrainTo","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","TrainTo",1,"form-control"],["TrainTo","ngbDatepicker"],["type","text","name","StockLower","autocomplete","off","formControlName","StockLower",1,"form-control"],["type","text","name","StockUpper","autocomplete","off","formControlName","StockUpper",1,"form-control"],["type","text","name","BullishEpoch","autocomplete","off","formControlName","BullishEpoch",1,"form-control"],["type","text","name","BearishEpoch","autocomplete","off","formControlName","BearishEpoch",1,"form-control"],["type","text","name","OtherBullishEpochs","autocomplete","off","formControlName","OtherBullishEpochs",1,"form-control"],["type","text","name","OtherBearishEpochs","autocomplete","off","formControlName","OtherBearishEpochs",1,"form-control"],[1,"col-lg-8"],["name","Notes","formControlName","Notes","placeholder","Notes","rows","5",1,"form-control"],[1,"text-dark","font-weight-bold","mb-5"],[1,"separator","separator-dashed"],["type","text","name","Test1From","autocomplete","off","formControlName","Test1From",1,"form-control"],["type","text","name","Test1To","autocomplete","off","formControlName","Test1To",1,"form-control"],["type","text","name","Test2From","autocomplete","off","formControlName","Test2From",1,"form-control"],["type","text","name","Test2To","autocomplete","off","formControlName","Test2To",1,"form-control"],["type","text","name","Test3From","autocomplete","off","formControlName","Test3From",1,"form-control"],["type","text","name","Test3To","autocomplete","off","formControlName","Test3To",1,"form-control"],["type","text","name","Test4From","autocomplete","off","formControlName","Test4From",1,"form-control"],["type","text","name","Test4To","autocomplete","off","formControlName","Test4To",1,"form-control"],["type","text","name","Test5From","autocomplete","off","formControlName","Test5From",1,"form-control"],["type","text","name","Test5To","autocomplete","off","formControlName","Test5To",1,"form-control"],["type","text","name","Test6From","autocomplete","off","formControlName","Test6From",1,"form-control"],["type","text","name","Test6To","autocomplete","off","formControlName","Test6To",1,"form-control"],["type","text","name","Test7From","autocomplete","off","formControlName","Test7From",1,"form-control"],["type","text","name","Test7To","autocomplete","off","formControlName","Test7To",1,"form-control"],["type","text","name","Test8From","autocomplete","off","formControlName","Test8From",1,"form-control"],["type","text","name","Test8To","autocomplete","off","formControlName","Test8To",1,"form-control"],["type","text","name","Test9From","autocomplete","off","formControlName","Test9From",1,"form-control"],["type","text","name","Test9To","autocomplete","off","formControlName","Test9To",1,"form-control"],["type","text","name","Test10From","autocomplete","off","formControlName","Test10From",1,"form-control"],["type","text","name","Test10To","autocomplete","off","formControlName","Test10To",1,"form-control"],["type","text","name","Test11From","autocomplete","off","formControlName","Test11From",1,"form-control"],["type","text","name","Test11To","autocomplete","off","formControlName","Test11To",1,"form-control"],["type","text","name","Test12From","autocomplete","off","formControlName","Test12From",1,"form-control"],["type","text","name","Test12To","autocomplete","off","formControlName","Test12To",1,"form-control"],["type","text","name","Test13From","autocomplete","off","formControlName","Test13From",1,"form-control"],["type","text","name","Test13To","autocomplete","off","formControlName","Test13To",1,"form-control"],["type","text","name","Test14From","autocomplete","off","formControlName","Test14From",1,"form-control"],["type","text","name","Test14To","autocomplete","off","formControlName","Test14To",1,"form-control"],["type","text","name","Test15From","autocomplete","off","formControlName","Test15From",1,"form-control"],["type","text","name","Test15To","autocomplete","off","formControlName","Test15To",1,"form-control"],["type","text","name","Test16From","autocomplete","off","formControlName","Test16From",1,"form-control"],["type","text","name","Test16To","autocomplete","off","formControlName","Test16To",1,"form-control"],["type","text","name","Test17From","autocomplete","off","formControlName","Test17From",1,"form-control"],["type","text","name","Test17To","autocomplete","off","formControlName","Test17To",1,"form-control"],["type","text","name","Test18From","autocomplete","off","formControlName","Test18From",1,"form-control"],["type","text","name","Test18To","autocomplete","off","formControlName","Test18To",1,"form-control"],["type","text","name","Test19From","autocomplete","off","formControlName","Test19From",1,"form-control"],["type","text","name","Test19To","autocomplete","off","formControlName","Test19To",1,"form-control"],["type","text","name","Test20From","autocomplete","off","formControlName","Test20From",1,"form-control"],["type","text","name","Test20To","autocomplete","off","formControlName","Test20To",1,"form-control"],["name","OtherTestnotes","formControlName","OtherTestnotes","placeholder","Other Tests","rows","5",1,"form-control"]],template:function(t,e){1&t&&(u.ac(0,"div",0),u.Oc(1,we,3,0,"ng-container",1),u.pc(2,"async"),u.ac(3,"div",2),u.ac(4,"div",3),u.ac(5,"h3",4),u.Oc(6,Ce,3,2,"ng-container",1),u.Zb(),u.Zb(),u.ac(7,"div",5),u.ac(8,"button",6),u.Vb(9,"i",7),u.Qc(10,"Back "),u.Zb(),u.Oc(11,Pe,4,2,"span",1),u.Zb(),u.Zb(),u.ac(12,"div",8),u.Oc(13,Me,332,13,"div",9),u.Zb(),u.Zb()),2&t&&(u.Hb(1),u.wc("ngIf",u.qc(2,4,e.isLoading$)),u.Hb(5),u.wc("ngIf",e.traintestlog),u.Hb(5),u.wc("ngIf",e.traintestlog),u.Hb(2),u.wc("ngIf",e.traintestlog))},directives:[i.o,S.i,O.t,O.k,O.e,O.o,O.a,O.j,O.d,a.o,a.i],pipes:[i.b],styles:[""]}),t})();const De=[{path:"",component:qt,children:[{path:"upstoxPositions",component:Ut},{path:"fyersPositions",component:xe},{path:"liveLogs",component:at},{path:"dailyPlan",component:X},{path:"trainTestLogs",component:M},{path:"trainTestLogs/add",component:Ve},{path:"trainTestLogs/edit",component:Ve},{path:"trainTestLogs/edit/:id",component:Ve},{path:"",redirectTo:"upstoxPositions",pathMatch:"full"},{path:"**",redirectTo:"upstoxPositions",pathMatch:"full"}]}];let Ne=(()=>{class t{}return t.\u0275mod=u.Sb({type:t}),t.\u0275inj=u.Rb({factory:function(e){return new(e||t)},imports:[[S.l.forChild(De)],S.l]}),t})(),Ee=(()=>{class t{}return t.\u0275mod=u.Sb({type:t}),t.\u0275inj=u.Rb({factory:function(e){return new(e||t)},imports:[[i.c,Ne,s.CRUDTableModule,j.b,o.a,O.g,a.l,a.d,O.p,k.a]]}),t})()},Kj3r:function(t,e,r){"use strict";r.d(e,"a",function(){return a});var o=r("7o/Q"),i=r("D0XW");function a(t,e=i.a){return r=>r.lift(new s(t,e))}class s{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new n(t,this.dueTime,this.scheduler))}}class n extends o.a{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},VV7X:function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r("2Vo4"),i=r("LRne"),a=r("vkgz"),s=r("JIr8"),n=r("nYR2"),c=r("fXoL"),l=r("EZBn"),b=r("5eHb"),d=r("+BVi");let u=(()=>{class t{constructor(t,e,r,i,a,s,n,c,l,b,d,u,g){this.getTradejournalsGQL=t,this.getStockTotalTradejournalsGQL=e,this.getStockAnalyticsTradejournalsGQL=r,this.tradejournalGQL=i,this.updateTradejournalGQL=a,this.createTradejournalGQL=s,this.removeTradejournalGQL=n,this.getYearlyTotalTradejournalsGQL=c,this.getMonthlyTotalTradejournalsGQL=l,this.getDailyTotalTradejournalsGQL=b,this.deleteAwsImageGQL=d,this.toastr=u,this.authService=g,this.isLoading=new o.a(!1),this.tradejournals=new o.a([]),this.stocktotaltradejournals=new o.a([]),this.yearlytotaltradejournals=new o.a([]),this.monthlytotaltradejournals=new o.a([]),this.dailytotaltradejournals=new o.a([]),this.stockanalyticstradejournals=new o.a([]),this.detailedtradejournals=new o.a([]),this.stocktradejournals=new o.a([]),this.stockanalyticsdetailtradejournals=new o.a([]),this.subscriptions=[],this.errorMessage=new o.a(""),this.paginationTotal=new o.a(0),this.totalPL=new o.a(0)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}get isLoading$(){return this.isLoading.asObservable()}get errorMessage$(){return this.errorMessage.asObservable()}get tradejournals$(){return this.tradejournals.asObservable()}get detailedtradejournals$(){return this.detailedtradejournals.asObservable()}get stocktradejournals$(){return this.stocktradejournals.asObservable()}get stocktotaltradejournals$(){return this.stocktotaltradejournals.asObservable()}get stockanalyticstradejournals$(){return this.stockanalyticstradejournals.asObservable()}get stockanalyticsdetailtradejournals$(){return this.stockanalyticsdetailtradejournals.asObservable()}get yearlytotaltradejournals$(){return this.yearlytotaltradejournals.asObservable()}get monthlytotaltradejournals$(){return this.monthlytotaltradejournals.asObservable()}get dailytotaltradejournals$(){return this.dailytotaltradejournals.asObservable()}get paginationTotal$(){return this.paginationTotal.asObservable()}get totalPL$(){return this.totalPL.asObservable()}getTradeJournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{if(t.errors)"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Trade Journals"));else{this.tradejournals.next(t.data.getTradejournals),this.paginationTotal.next(t.data.getTradejournals.length);let e=0;t.data.getTradejournals.forEach(t=>{e+=Number(t.totalgainloss)}),this.totalPL.next(e),this.isLoading.next(!1)}}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getDetailedTradeJournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Detailed Trade Journals")):(this.detailedtradejournals.next(t.data.getTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Detailed Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getStockTradeJournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Stock Trade Journals")):(this.stocktradejournals.next(t.data.getTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Stock Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getStockTotalTradejournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getStockTotalTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Stock Trade Journals")):(this.stocktotaltradejournals.next(t.data.getStockTotalTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Stock Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getStockAnalyticsTradejournals(){this.isLoading.next(!0),this.errorMessage.next("");const t=this.getStockAnalyticsTradejournalsGQL.fetch().pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Stock Trade Journals")):(this.stockanalyticstradejournals.next(t.data.getStockAnalyticsTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Stock Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(t)}getStockAnalyticsDetailTradejournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Stock Detail Trade Journals")):(this.stockanalyticsdetailtradejournals.next(t.data.getTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Stock Detail Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getyearlyTotalTradejournals(){this.isLoading.next(!0),this.errorMessage.next("");const t=this.getYearlyTotalTradejournalsGQL.fetch().pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Yearly Trade Journals")):(this.yearlytotaltradejournals.next(t.data.getYearlyTotalTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Yearly Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(t)}getMonthlyTotalTradejournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getMonthlyTotalTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Monthly Trade Journals")):(this.monthlytotaltradejournals.next(t.data.getMonthlyTotalTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Monthly Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getDailyTotalTradejournals(t){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getDailyTotalTradejournalsGQL.fetch({argsQuery:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Yearly Trade Journals")):(this.dailytotaltradejournals.next(t.data.getDailyTotalTradejournals),this.isLoading.next(!1))}),Object(s.a)(t=>(this.isLoading.next(!1),this.errorMessage.next(t),this.toastr.error(t.message,"Daily Trade Journals"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getItemById(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.tradejournalGQL.fetch({id:t}).pipe(Object(a.a)(t=>{if(!t.errors)return this.isLoading.next(!1),t.data.tradejournal;"Unauthorized"===t.errors[0].message?this.authService.logout():(this.isLoading.next(!1),this.toastr.error(t.errors[0].message,"Get Trade Journal"))}),Object(s.a)(t=>(this.errorMessage.next(t),this.toastr.error(t.message,"Get Trade Journal"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)}))}create(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.createTradejournalGQL.mutate({createTradejournalInput:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():this.toastr.error(t.errors[0].message,"Create Trade Journal"):this.toastr.info("Trade Journal created successfully","Create Trade Journal")}),Object(s.a)(e=>(this.errorMessage.next(e),this.toastr.error(e.message,"Create Trade Journal"),Object(i.a)(t))),Object(n.a)(()=>{this.isLoading.next(!1)}))}update(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.updateTradejournalGQL.mutate({updateTradejournalInput:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():this.toastr.error(t.errors[0].message,"Update Trade Journal"):this.toastr.info("Trade Journal updated successfully","Update Trade Journal")}),Object(s.a)(e=>(this.errorMessage.next(e),this.toastr.error(e.message,"Update Trade Journal"),Object(i.a)(t))),Object(n.a)(()=>{this.isLoading.next(!1)}))}remove(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.removeTradejournalGQL.mutate({id:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():this.toastr.error(t.errors[0].message,"Delete Trade Journal"):this.toastr.info("Trade Journal deleted successfully","Delete Trade Journal")}),Object(s.a)(t=>(this.errorMessage.next(t),this.toastr.error(t.message,"Delete Trade Journal"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)}))}deleteAWSImage(t){return this.isLoading.next(!0),this.errorMessage.next(""),this.deleteAwsImageGQL.mutate({key:t}).pipe(Object(a.a)(t=>{t.errors?"Unauthorized"===t.errors[0].message?this.authService.logout():this.toastr.error(t.errors[0].message,"Delete AWS S3 Image"):this.toastr.info("AWS S3 Image deleted successfully","Delete AWS S3 Image")}),Object(s.a)(t=>(this.errorMessage.next(t),this.toastr.error(t.message,"Delete AWS S3 Image"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(c.ic(l.C),c.ic(l.A),c.ic(l.y),c.ic(l.S),c.ic(l.Z),c.ic(l.g),c.ic(l.N),c.ic(l.E),c.ic(l.w),c.ic(l.p),c.ic(l.j),c.ic(b.b),c.ic(d.a))},t.\u0275prov=c.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);