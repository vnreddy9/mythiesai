(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"4Ih9":function(e,s,t){"use strict";t.d(s,"a",function(){return u});var r=t("2Vo4"),i=t("LRne"),o=t("vkgz"),a=t("JIr8"),n=t("nYR2"),h=t("fXoL"),c=t("EZBn"),d=t("5eHb"),g=t("+BVi");let u=(()=>{class e{constructor(e,s,t,i){this.dailyplansGQL=e,this.updateDailyplanGQL=s,this.toastr=t,this.authService=i,this.isLoading=new r.a(!1),this.isUpdateLoading=new r.a(!1),this.dailyplans=new r.a([]),this.subscriptions=[],this.errorMessage=new r.a("")}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}get isLoading$(){return this.isLoading.asObservable()}get isUpdateLoading$(){return this.isUpdateLoading.asObservable()}get errorMessage$(){return this.errorMessage.asObservable()}get dailyplans$(){return this.dailyplans.asObservable()}fetch(){this.isLoading.next(!0),this.errorMessage.next("");const e=this.dailyplansGQL.fetch().pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():(this.dailyplans.next(e.data.dailyplans),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Daily Plan"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}update(e){return this.isUpdateLoading.next(!0),this.errorMessage.next(""),this.updateDailyplanGQL.mutate({updateDailyplanInput:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message?this.authService.logout():this.toastr.error(e.errors[0].message,"Daily Plan Update"):this.toastr.info("Daily Plan updated successfully","Update Daily Plan")}),Object(a.a)(e=>(this.errorMessage.next(e),this.toastr.error(e.message,"Update Daily Plan"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isUpdateLoading.next(!1)}))}}return e.\u0275fac=function(s){return new(s||e)(h.ic(c.i),h.ic(c.W),h.ic(d.b),h.ic(g.a))},e.\u0275prov=h.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},AFNZ:function(e,s,t){"use strict";t.d(s,"a",function(){return i});var r=t("fXoL");let i=(()=>{class e{transform(e,s){if(!e||!s)return e;let t=[];return"Futures"===s.type&&(t=e.filter(e=>{if(e.symbol.endsWith("FUT"))return e})),"Options"===s.type&&(t=e.filter(e=>{if(!e.symbol.endsWith("FUT"))return e})),"Journal Options"===s.StockType&&(t=e.filter(e=>{if("Option"===e.StockType)return e})),"Journal Futures"===s.StockType&&(t=e.filter(e=>{if("Future"===e.StockType)return e})),t}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275pipe=r.Tb({name:"positionFilter",type:e,pure:!0}),e})()},Qy8N:function(e,s,t){"use strict";t.d(s,"a",function(){return r});class r{static MatchPassword(e){if(e.get("password").value===e.get("cPassword").value)return null;e.get("cPassword").setErrors({ConfirmPassword:!0})}}},nGje:function(e,s,t){"use strict";t.d(s,"a",function(){return u});var r=t("2Vo4"),i=t("LRne"),o=t("vkgz"),a=t("JIr8"),n=t("nYR2"),h=t("fXoL"),c=t("EZBn"),d=t("5eHb"),g=t("+BVi");let u=(()=>{class e{constructor(e,s,t,i,o,a,n,h,c,d,g){this.getFyersPositionsGQL=e,this.getFyersTradeBookGQL=s,this.getFyersOrdersGQL=t,this.getFyersFundsGQL=i,this.exitFyersPositionGQL=o,this.cancelFyersOrderGQL=a,this.exitAllFyersPositionGQL=n,this.placeFyersOrderGQL=h,this.getFyersLtpGQL=c,this.toastr=d,this.authService=g,this.isLoading=new r.a(!1),this.fyersPositions=new r.a([]),this.fyersTradeBook=new r.a([]),this.fyersOrders=new r.a([]),this.exitPosition=new r.a(null),this.cancelOrder=new r.a(null),this.futuresMTM=new r.a(0),this.optionsMTM=new r.a(0),this.fyersLTP=new r.a(0),this.fyersFuturePrice=new r.a(0),this.fyersOptionPrice=new r.a(0),this.fyersFunds=new r.a(null),this.subscriptions=[],this.errorMessage=new r.a("")}get isLoading$(){return this.isLoading.asObservable()}get futuresMTM$(){return this.futuresMTM.asObservable()}get optionsMTM$(){return this.optionsMTM.asObservable()}get fyersLTP$(){return this.fyersLTP.asObservable()}set fyersLTP$(e){this.fyersLTP.next(0)}get fyersOptionPrice$(){return this.fyersOptionPrice.asObservable()}set fyersOptionPrice$(e){this.fyersOptionPrice.next(0)}get fyersFuturePrice$(){return this.fyersFuturePrice.asObservable()}set fyersFuturePrice$(e){this.fyersFuturePrice.next(0)}get errorMessage$(){return this.errorMessage.asObservable()}get fyersPositions$(){return this.fyersPositions.asObservable()}get fyersTradeBook$(){return this.fyersTradeBook.asObservable()}get fyersOrders$(){return this.fyersOrders.asObservable()}get fyersFunds$(){return this.fyersFunds.asObservable()}get exitPosition$(){return this.exitPosition.asObservable()}get cancelOrder$(){return this.cancelOrder.asObservable()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getFyersPositions(){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getFyersPositionsGQL.fetch().pipe(Object(o.a)(e=>{if(e.errors)"Unauthorized"===e.errors[0].message&&this.authService.logout();else if(200!==e.data.getFyersPositions.code)this.isLoading.next(!1),this.toastr.error(e.data.getFyersPositions.message,"Fyers Positions");else{let s=0,t=0;e.data.getFyersPositions.netPositions.forEach(e=>{e.symbol.endsWith("FUT")?s+=Number(e.unrealized_profit)+Number(e.realized_profit):t+=Number(e.unrealized_profit)+Number(e.realized_profit)}),this.futuresMTM.next(s),this.optionsMTM.next(t),this.fyersPositions.next(e.data.getFyersPositions.netPositions),this.isLoading.next(!1)}}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Positions"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getFyersTradeBook(){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getFyersTradeBookGQL.fetch().pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():200!==e.data.getFyersTradeBook.code?(this.isLoading.next(!1),this.toastr.error(e.data.getFyersTradeBook.message,"Fyers Trade Book")):(this.fyersTradeBook.next(e.data.getFyersTradeBook.tradeBook),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Trade Book"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getFyersOrders(){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getFyersOrdersGQL.fetch().pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():200!==e.data.getFyersOrders.code?(this.isLoading.next(!1),this.toastr.error(e.data.getFyersOrders.message,"Fyers Order Book")):(this.fyersOrders.next(e.data.getFyersOrders.orderBook),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Order Book"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}getFyersFunds(){this.isLoading.next(!0),this.errorMessage.next("");const e=this.getFyersFundsGQL.fetch().pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():200!==e.data.getFyersFunds.code||(this.fyersFunds.next(e.data.getFyersFunds),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Funds"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}exitAllFyersPositions(){this.isLoading.next(!0),this.errorMessage.next("");const e=this.exitAllFyersPositionGQL.fetch().pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():200!==e.data.exitAllFyersPosition.code?(this.isLoading.next(!1),this.toastr.error(e.data.exitAllFyersPosition.code.toString()+" "+e.data.exitAllFyersPosition.message,"Fyers Exit Position"),setTimeout(()=>{},3e3),this.getFyersPositions(),this.getFyersTradeBook(),this.getFyersOrders()):(this.toastr.success(e.data.exitAllFyersPosition.code.toString()+" "+e.data.exitAllFyersPosition.message,"Fyers Exit All Positions"),this.exitPosition.next(e.data.exitAllFyersPosition),this.isLoading.next(!1),setTimeout(()=>{},3e3),this.getFyersPositions(),this.getFyersTradeBook(),this.getFyersOrders())}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Exit Position"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}exitFyersPosition(e){this.isLoading.next(!0),this.errorMessage.next("");const s=this.exitFyersPositionGQL.fetch({argsQuery:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():1101!==e.data.exitFyersPosition.code?(this.isLoading.next(!1),this.toastr.error(e.data.exitFyersPosition.code.toString()+" "+e.data.exitFyersPosition.message,"Fyers Exit Position"),setTimeout(()=>{},3e3),this.getFyersPositions(),this.getFyersTradeBook(),this.getFyersOrders()):(this.toastr.success(e.data.exitFyersPosition.code.toString()+" "+e.data.exitFyersPosition.message,"Fyers Exit Position"),this.exitPosition.next(e.data.exitFyersPosition),this.isLoading.next(!1),setTimeout(()=>{},3e3),this.getFyersPositions(),this.getFyersTradeBook(),this.getFyersOrders())}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Exit Position"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(s)}cancelFyersOrder(e){this.isLoading.next(!0),this.errorMessage.next("");const s=this.cancelFyersOrderGQL.fetch({argsQuery:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():1103!==e.data.cancelFyersOrder.code?(this.isLoading.next(!1),this.toastr.error(e.data.cancelFyersOrder.code.toString()+" "+e.data.cancelFyersOrder.message,"Fyers Cancel Order")):(this.toastr.success(e.data.cancelFyersOrder.code.toString()+" "+e.data.cancelFyersOrder.message,"Fyers Cancel Order"),this.cancelOrder.next(e.data.cancelFyersOrder),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Cancel Order"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(s)}placeFyersOrder(e){this.isLoading.next(!0),this.errorMessage.next("");const s=this.placeFyersOrderGQL.fetch({argsQuery:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message&&this.authService.logout():200!==e.data.placeFyersOrder.code?(this.isLoading.next(!1),this.toastr.error(e.data.placeFyersOrder.code.toString()+" Some error placing order","Fyers Place Order"),setTimeout(()=>{},3e3),this.getFyersPositions(),this.getFyersTradeBook(),this.getFyersOrders()):(this.toastr.success(e.data.placeFyersOrder.code.toString()+" Order placed successfully","Fyers Place Order"),this.isLoading.next(!1),setTimeout(()=>{},3e3),this.getFyersPositions(),this.getFyersTradeBook(),this.getFyersOrders())}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"Fyers Place Order"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(s)}getFyersLTP(e){this.isLoading.next(!0),this.errorMessage.next("");const s=this.getFyersLtpGQL.fetch({argsQuery:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message?this.authService.logout():this.toastr.error(e.errors[0].message,"get LTP"):(this.fyersLTP.next(e.data.getFyersLTP.LTP),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"get LTP"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(s)}getFyersOptionPrice(e){this.isLoading.next(!0),this.errorMessage.next("");const s=this.getFyersLtpGQL.fetch({argsQuery:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message?this.authService.logout():this.toastr.error(e.errors[0].message,"get Option Price"):(this.fyersOptionPrice.next(e.data.getFyersLTP.LTP),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"get Option Price"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(s)}getFyersFuturePrice(e){this.isLoading.next(!0),this.errorMessage.next("");const s=this.getFyersLtpGQL.fetch({argsQuery:e}).pipe(Object(o.a)(e=>{e.errors?"Unauthorized"===e.errors[0].message?this.authService.logout():this.toastr.error(e.errors[0].message,"get Future Price"):(this.fyersFuturePrice.next(e.data.getFyersLTP.LTP),this.isLoading.next(!1))}),Object(a.a)(e=>(this.isLoading.next(!1),this.errorMessage.next(e),this.toastr.error(e.message,"get Future Price"),Object(i.a)(void 0))),Object(n.a)(()=>{this.isLoading.next(!1)})).subscribe();this.subscriptions.push(s)}}return e.\u0275fac=function(s){return new(s||e)(h.ic(c.t),h.ic(c.u),h.ic(c.s),h.ic(c.q),h.ic(c.l),h.ic(c.c),h.ic(c.k),h.ic(c.I),h.ic(c.r),h.ic(d.b),h.ic(g.a))},e.\u0275prov=h.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},rrsC:function(e,s,t){"use strict";t.d(s,"a",function(){return r});class r extends class{setAuth(e){this.token=e.token}}{setUser(e){this.id=e.id,this.password=e.password||"",this.firstName=e.firstName||"",this.lastName=e.lastName||"",this.email=e.email||""}}}}]);