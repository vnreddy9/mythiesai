(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"p+kQ":function(t,e,o){"use strict";o.r(e),o.d(e,"TradeModule",function(){return Ge});var r=o("ofXK"),a=o("1kSV"),i=o("3Pt+"),n=o("zfYk"),c=o("RbrB"),s=o("lJxs"),l=o("JIr8"),u=o("Br0f"),d=o("fXoL"),b=o("VV7X"),p=o("tyNb"),g=o("xGIk"),m=o("e8Ap"),h=o("AFNZ"),f=o("onVv"),y=o("7yRD");function v(t,e){1&t&&(d.Yb(0),d.ac(1,"div",22),d.Vb(2,"div",23),d.Zb(),d.Xb())}function S(t,e){if(1&t){const t=d.bc();d.ac(0,"a",29),d.lc("click",function(){d.Gc(t);const e=d.oc().$implicit;return d.oc().delete(e.id)}),d.Vb(1,"span",30),d.Zb()}2&t&&(d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}const O=function(t){return{color:t}};function w(t,e){if(1&t&&(d.ac(0,"tr"),d.ac(1,"td",24),d.Qc(2),d.pc(3,"date"),d.Zb(),d.ac(4,"td",24),d.Qc(5),d.Zb(),d.ac(6,"td",24),d.Qc(7),d.pc(8,"number"),d.ac(9,"span",25),d.Qc(10),d.Zb(),d.Zb(),d.ac(11,"td",24),d.Qc(12),d.Zb(),d.ac(13,"td",24),d.Qc(14),d.Zb(),d.ac(15,"td"),d.ac(16,"a",26),d.Vb(17,"span",27),d.Zb(),d.Oc(18,S,2,1,"a",28),d.Zb(),d.Zb()),2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("ngStyle",d.Ac(20,O,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",d.rc(3,15,t.TradeDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(22,O,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",t.StockSymbol," "),d.Hb(1),d.wc("ngStyle",d.Ac(24,O,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",d.qc(8,18,t.totallots*t.lots)," "),d.Hb(3),d.Tc(" [",t.totallots," * ",t.lots,"]"),d.Hb(1),d.wc("ngStyle",d.Ac(26,O,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",t.optionpremium," "),d.Hb(1),d.wc("ngStyle",d.Ac(28,O,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",t.OptionStrategy," "),d.Hb(2),d.wc("routerLink","/trade/tradeJournal/edit/"+t.id),d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),d.Hb(1),d.wc("ngIf","Archive"==t.logStatus)}}function Z(t,e){if(1&t){const t=d.bc();d.ac(0,"a",29),d.lc("click",function(){d.Gc(t);const e=d.oc().$implicit;return d.oc().delete(e.id)}),d.Vb(1,"span",30),d.Zb()}2&t&&(d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function x(t,e){if(1&t&&(d.ac(0,"tr"),d.ac(1,"td",24),d.Qc(2),d.pc(3,"date"),d.Zb(),d.ac(4,"td",24),d.Qc(5),d.Zb(),d.ac(6,"td",24),d.Qc(7),d.ac(8,"span",25),d.Qc(9),d.Zb(),d.Zb(),d.ac(10,"td",24),d.Qc(11),d.Zb(),d.ac(12,"td"),d.ac(13,"a",26),d.Vb(14,"span",27),d.Zb(),d.Oc(15,Z,2,1,"a",28),d.Zb(),d.Zb()),2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("ngStyle",d.Ac(16,O,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",d.rc(3,13,t.TradeDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(18,O,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",t.StockSymbol," "),d.Hb(1),d.wc("ngStyle",d.Ac(20,O,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",t.totallots*t.lots," "),d.Hb(2),d.Tc(" [",t.totallots," * ",t.lots,"]"),d.Hb(1),d.wc("ngStyle",d.Ac(22,O,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",t.OptionStrategy," "),d.Hb(2),d.wc("routerLink","/trade/tradeJournal/edit/"+t.id),d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),d.Hb(1),d.wc("ngIf","Archive"==t.logStatus)}}const k=function(t){return{StockSymbol:t}},T=function(){return{StockType:"Journal Options"}},E=function(){return{StockType:"Journal Futures"}};let C=(()=>{class t{constructor(t){this.tradejournalsService=t,this.subscriptions=[]}ngOnInit(){this.sorting={column:"TradeDate",direction:"asc"},this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.getTradeJournals();const t=this.tradejournalsService.paginationTotal$.pipe(Object(s.a)(t=>{this.paginationTotal=t,this.paginator.recalculatePaginator(t)}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(t)}getTradeJournals(){this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.tradejournalsService.getTradeJournals({RequestType:"OpenPositions",Status:"Plan"})}getRowColor(t){return"Long Call Intraday"===t||"Short Put Intraday"===t?"#3699FF":"Short Call Intraday"===t||"Long Put Intraday"===t?"#F64E60":void 0}getFutureRowColor(t){return"Long"===t?"#3699FF":"Short"===t?"#F64E60":void 0}sort(t){const e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}paginate(t){this.paginator=t,this.paginator.pageSize=10}resetPaginate(){this.paginator.recalculatePaginator(this.paginationTotal)}delete(t){console.log("Delete ",t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(b.a))},t.\u0275cmp=d.Ob({type:t,selectors:[["app-options-payoff"]],decls:70,vars:48,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button","routerLink","/trade/tradeJournal/add",1,"btn","btn-sm","btn-primary"],[1,"card-body"],[1,"row","mb-5"],[1,"col-lg-5"],[1,"col-lg-2"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"form-group","row"],[1,"col-lg-11"],[1,"text-dark","font-weight-bold","mb-0"],[1,"col-lg-1"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","TradeDate",3,"activeColumn","activeDirection","sort"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"form-group","row","mt-10"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"font-weight-bold",3,"ngStyle"],[1,"text-muted"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete","class","btn btn-icon btn-light btn-hover-danger btn-sm",3,"click",4,"ngIf"],["title","Delete",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"]],template:function(t,e){1&t&&(d.Oc(0,v,3,0,"ng-container",0),d.pc(1,"async"),d.ac(2,"div",1),d.ac(3,"div",2),d.ac(4,"div",3),d.ac(5,"h3",4),d.Qc(6,"Plans"),d.Zb(),d.Zb(),d.ac(7,"div",5),d.ac(8,"button",6),d.Qc(9," New Journal "),d.Zb(),d.Zb(),d.Zb(),d.ac(10,"div",7),d.ac(11,"div",8),d.Vb(12,"div",9),d.Vb(13,"div",9),d.ac(14,"div",10),d.ac(15,"input",11),d.lc("ngModelChange",function(t){return e.searchText=t})("input",function(){return e.resetPaginate()}),d.Zb(),d.Zb(),d.Zb(),d.ac(16,"div",12),d.ac(17,"div",13),d.ac(18,"h4",14),d.Qc(19,"Options"),d.Zb(),d.Zb(),d.Vb(20,"div",15),d.Zb(),d.ac(21,"div",16),d.ac(22,"table",17),d.ac(23,"thead"),d.ac(24,"th"),d.Qc(25," Expiry Date "),d.ac(26,"app-sort-icon",18),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(27,"th"),d.Qc(28," Stock "),d.ac(29,"app-sort-icon",19),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(30,"th"),d.Qc(31,"Total Lots"),d.Zb(),d.ac(32,"th"),d.Qc(33,"Expected Premium"),d.Zb(),d.ac(34,"th"),d.Qc(35,"Option Strategy"),d.Zb(),d.ac(36,"th"),d.Qc(37,"Actions"),d.Zb(),d.Zb(),d.ac(38,"tbody"),d.Oc(39,w,19,30,"tr",20),d.pc(40,"positionFilter"),d.pc(41,"searchBy"),d.pc(42,"sortBy"),d.pc(43,"async"),d.Zb(),d.Zb(),d.Zb(),d.ac(44,"div",21),d.ac(45,"div",13),d.ac(46,"h4",14),d.Qc(47,"Futures"),d.Zb(),d.Zb(),d.Vb(48,"div",15),d.Zb(),d.ac(49,"div",16),d.ac(50,"table",17),d.ac(51,"thead"),d.ac(52,"th"),d.Qc(53," Date "),d.ac(54,"app-sort-icon",18),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(55,"th"),d.Qc(56," Stock "),d.ac(57,"app-sort-icon",19),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(58,"th"),d.Qc(59,"Total Lots"),d.Zb(),d.ac(60,"th"),d.Qc(61,"Strategy"),d.Zb(),d.ac(62,"th"),d.Qc(63,"Actions"),d.Zb(),d.Zb(),d.ac(64,"tbody"),d.Oc(65,x,16,24,"tr",20),d.pc(66,"positionFilter"),d.pc(67,"searchBy"),d.pc(68,"sortBy"),d.pc(69,"async"),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb()),2&t&&(d.wc("ngIf",d.qc(1,12,e.tradejournalsService.isLoading$)),d.Hb(15),d.wc("ngModel",e.searchText),d.Hb(11),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(10),d.wc("ngForOf",d.rc(40,14,d.sc(41,17,d.tc(42,21,d.qc(43,26,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),d.Ac(42,k,e.searchText),!1),d.zc(44,T))),d.Hb(15),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(8),d.wc("ngForOf",d.rc(66,28,d.sc(67,31,d.tc(68,35,d.qc(69,40,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),d.Ac(45,k,e.searchText),!1),d.zc(47,E))))},directives:[r.o,p.i,i.a,i.j,i.l,g.a,r.n,r.p,p.k,m.a],pipes:[r.b,h.a,f.a,y.a,r.f,r.g],styles:[""]}),t})();var D=o("WsYS"),P=o("Kj3r"),H=o("wd/R"),N=o.n(H),V=o("9wGw");function M(t,e){1&t&&(d.Yb(0),d.ac(1,"div",38),d.Vb(2,"div",39),d.Zb(),d.Xb())}function F(t,e){1&t&&d.Qc(0),2&t&&d.Sc(" ",e.result.stock," ")}function j(t,e){1&t&&(d.ac(0,"span"),d.Qc(1,"Profit : "),d.Zb())}function I(t,e){1&t&&(d.ac(0,"span"),d.Qc(1,"Loss : "),d.Zb())}const Q=function(t){return{color:t}};function A(t,e){if(1&t&&(d.ac(0,"div",40),d.Vb(1,"div",41),d.ac(2,"div",41),d.ac(3,"h4",42),d.Oc(4,j,2,0,"span",0),d.pc(5,"async"),d.Oc(6,I,2,0,"span",0),d.pc(7,"async"),d.Qc(8),d.pc(9,"currency"),d.pc(10,"async"),d.Zb(),d.Zb(),d.Zb()),2&t){const t=d.oc();d.Hb(3),d.wc("ngStyle",d.Ac(14,Q,t.getRowColor(t.totalPL))),d.Hb(1),d.wc("ngIf",d.qc(5,4,t.tradejournalsService.totalPL$)>0),d.Hb(2),d.wc("ngIf",d.qc(7,6,t.tradejournalsService.totalPL$)<0),d.Hb(2),d.Sc(" ",d.sc(9,8,d.qc(10,12,t.tradejournalsService.totalPL$),"INR","")," ")}}function L(t,e){1&t&&(d.ac(0,"a",47),d.Vb(1,"span",48),d.Zb()),2&t&&(d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function _(t,e){if(1&t&&(d.ac(0,"tr"),d.ac(1,"td",43),d.Qc(2),d.pc(3,"date"),d.Zb(),d.ac(4,"td",43),d.Qc(5),d.pc(6,"date"),d.Zb(),d.ac(7,"td",43),d.Qc(8),d.Zb(),d.ac(9,"td",43),d.Qc(10),d.Zb(),d.ac(11,"td",43),d.Qc(12),d.Zb(),d.ac(13,"td",43),d.Qc(14),d.Zb(),d.ac(15,"td"),d.ac(16,"a",44),d.Vb(17,"span",45),d.Zb(),d.Oc(18,L,2,1,"a",46),d.Zb(),d.Zb()),2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("ngStyle",d.Ac(23,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",d.rc(3,17,t.TradeDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(25,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",d.rc(6,20,t.LastExitDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(27,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",t.StockSymbol," "),d.Hb(1),d.wc("ngStyle",d.Ac(29,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ","Long Call Intraday"==t.OptionStrategy?"Long Call":"Long Put Intraday"==t.OptionStrategy?"Long Put":"Short Call Intraday"==t.OptionStrategy?"Short Call":"Short Put Intraday"==t.OptionStrategy?"Short Put":""," "),d.Hb(1),d.wc("ngStyle",d.Ac(31,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Uc(" ",t.lots*t.closedlots," [ ",t.closedlots," * ",t.lots,"] "),d.Hb(1),d.wc("ngStyle",d.Ac(33,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",t.totalgainloss," "),d.Hb(2),d.wc("routerLink","/trade/tradeJournal/edit/"+t.id),d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),d.Hb(1),d.wc("ngIf","Archive"==t.logStatus)}}function G(t,e){1&t&&(d.ac(0,"a",47),d.Vb(1,"span",48),d.Zb()),2&t&&(d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function Y(t,e){if(1&t&&(d.ac(0,"tr"),d.ac(1,"td",43),d.Qc(2),d.pc(3,"date"),d.Zb(),d.ac(4,"td",43),d.Qc(5),d.pc(6,"date"),d.Zb(),d.ac(7,"td",43),d.Qc(8),d.Zb(),d.ac(9,"td",43),d.Qc(10),d.Zb(),d.ac(11,"td",43),d.Qc(12),d.Zb(),d.ac(13,"td"),d.ac(14,"a",44),d.Vb(15,"span",45),d.Zb(),d.Oc(16,G,2,1,"a",46),d.Zb(),d.Zb()),2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("ngStyle",d.Ac(21,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",d.rc(3,15,t.TradeDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(23,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",d.rc(6,18,t.LastExitDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(25,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",t.StockSymbol," "),d.Hb(1),d.wc("ngStyle",d.Ac(27,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Uc(" ",t.lots*t.totallots," [ ",t.totallots," * ",t.lots,"] "),d.Hb(1),d.wc("ngStyle",d.Ac(29,Q,o.getRowColor(t.totalgainloss))),d.Hb(1),d.Sc(" ",t.totalgainloss," "),d.Hb(2),d.wc("routerLink","/trade/tradeJournal/edit/"+t.id),d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),d.Hb(1),d.wc("ngIf","Archive"==t.logStatus)}}const R=function(){return{StockType:"Journal Options"}},q=function(){return{StockType:"Journal Futures"}};let $=(()=>{class t{constructor(t,e){this.tradejournalsService=t,this.stockmasterService=e,this.subscriptions=[],this.searchStocks=t=>t.pipe(Object(P.a)(200),Object(s.a)(t=>""===t?[]:this.stocks.filter(e=>e.stock.toLowerCase().indexOf(t.toLowerCase())>-1).slice(0,10))),this.formatter=t=>t.stock}ngOnInit(){this.sorting={column:"TradeDate",direction:"desc"},this.StockSymbol="",this.totalPL=0,this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.getTradeJournals();const t=this.tradejournalsService.paginationTotal$.pipe(Object(s.a)(t=>{this.paginationTotal=t,this.paginator.recalculatePaginator(t)}),Object(l.a)(t=>t)).subscribe(),e=this.stockmasterService.stockmasters$.pipe(Object(s.a)(t=>{t.length?this.stocks=t:this.stockmasterService.fetch()}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(e),this.subscriptions.push(t)}getTradeJournals(){this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.toDate=N()().format("M/DD/YYYY").toString(),this.fromDate=N()([N()().year(),N()().month()]).format("M/DD/YYYY"),this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:N()([N()().year(),N()().month()]).format("M/DD/YYYY"),toDate:N()().add(1,"days").format()})}sort(t){const e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}paginate(t){this.paginator=t,this.paginator.pageSize=10}resetPaginate(){this.paginator.recalculatePaginator(this.paginationTotal)}getRowColor(t){return t>=0?"green":t<0?"red":void 0}refreshTradeJournals(){this.totalPL=0,this.StockSymbol?this.tradejournalsService.getStockTradeJournals({RequestType:"ClosedPositions",Status:"Closed",StockType:"Option",StockSymbol:this.StockSymbol.stock,fromDate:N()(this.fromDate),toDate:N()(this.toDate).add(1,"days").format()}):this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",StockType:"Option",fromDate:N()(this.fromDate),toDate:N()(this.toDate).add(1,"days").format()})}resetTradeJournals(){this.toDate=N()().format("M/DD/YYYY").toString(),this.fromDate=N()([N()().year(),N()().month()]).format("M/DD/YYYY"),this.totalPL=0,this.StockSymbol="",this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",StockType:"Option",fromDate:N()([N()().year(),N()().month()]).format("M/DD/YYYY"),toDate:N()().add(1,"days").format()})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(b.a),d.Ub(V.a))},t.\u0275cmp=d.Ob({type:t,selectors:[["app-closed-trades"]],features:[d.Gb([{provide:a.b,useClass:D.b},{provide:a.c,useClass:D.c}])],decls:110,vars:48,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"card-body"],[1,"form-group","row"],[1,"col-lg-1"],[1,"col-lg-2"],[1,"input-group"],["type","text","name","fromDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["from","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"text-dark-50","flaticon-calendar"],["type","text","name","toDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["to","ngbDatepicker"],[1,"col-lg-3"],["rt",""],["type","text","name","stockSymbol","placeholder","Stock Symbol","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngbTypeahead","inputFormatter","resultTemplate","ngModelChange"],[1,"input-group-append"],[1,"flaticon-layer"],[1,"btn","btn-sm","btn-primary","form-control-sm","mr-5",3,"click"],[1,"flaticon-refresh"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"separator","separator-dashed","my-10"],["class","row mb-5",4,"ngIf"],[1,"col-lg-11"],[1,"text-dark","font-weight-bold","mb-0"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","TradeDate",3,"activeColumn","activeDirection","sort"],["column","LastExitDate",3,"activeColumn","activeDirection","sort"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"form-group","row","mt-5"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row","mb-5"],[1,"col-lg-6"],[1,"text-right","mr-15","mb-1",3,"ngStyle"],[1,"font-weight-bold",3,"ngStyle"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete","class","btn btn-icon btn-light btn-hover-danger btn-sm",4,"ngIf"],["title","Delete",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"]],template:function(t,e){if(1&t){const t=d.bc();d.Oc(0,M,3,0,"ng-container",0),d.pc(1,"async"),d.ac(2,"div",1),d.ac(3,"div",2),d.ac(4,"div",3),d.ac(5,"h3",4),d.Qc(6,"Closed Positions"),d.Zb(),d.Zb(),d.Vb(7,"div",5),d.Zb(),d.ac(8,"div",6),d.ac(9,"div",7),d.Vb(10,"div",8),d.ac(11,"div",9),d.ac(12,"label"),d.Qc(13,"From"),d.Zb(),d.ac(14,"div",10),d.ac(15,"input",11,12),d.lc("ngModelChange",function(t){return e.fromDate=t}),d.Zb(),d.ac(17,"div",13),d.lc("click",function(){return d.Gc(t),d.Ec(16).toggle()}),d.ac(18,"span",14),d.Vb(19,"i",15),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(20,"div",9),d.ac(21,"label"),d.Qc(22,"To"),d.Zb(),d.ac(23,"div",10),d.ac(24,"input",16,17),d.lc("ngModelChange",function(t){return e.toDate=t}),d.Zb(),d.ac(26,"div",13),d.lc("click",function(){return d.Gc(t),d.Ec(25).toggle()}),d.ac(27,"span",14),d.Vb(28,"i",15),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(29,"div",18),d.Oc(30,F,1,1,"ng-template",null,19,d.Pc),d.ac(32,"label"),d.Qc(33,"Stock"),d.Zb(),d.ac(34,"div",10),d.ac(35,"input",20),d.lc("ngModelChange",function(t){return e.StockSymbol=t}),d.Zb(),d.ac(36,"div",21),d.ac(37,"span",14),d.Vb(38,"i",22),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(39,"div",18),d.ac(40,"label"),d.Qc(41,"\xa0"),d.Zb(),d.ac(42,"div",10),d.ac(43,"button",23),d.lc("click",function(){return e.refreshTradeJournals()}),d.Vb(44,"i",24),d.Qc(45," Get Positions "),d.Zb(),d.ac(46,"button",25),d.lc("click",function(){return e.resetTradeJournals()}),d.Vb(47,"i",26),d.Qc(48," Reset "),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Vb(49,"div",27),d.Oc(50,A,11,16,"div",28),d.pc(51,"async"),d.ac(52,"div",7),d.ac(53,"div",29),d.ac(54,"h4",30),d.Qc(55,"Options"),d.Zb(),d.Zb(),d.Vb(56,"div",8),d.Zb(),d.ac(57,"div",31),d.ac(58,"table",32),d.ac(59,"thead"),d.ac(60,"th"),d.Qc(61," Trade Date "),d.ac(62,"app-sort-icon",33),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(63,"th"),d.Qc(64," Exit Date "),d.ac(65,"app-sort-icon",34),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(66,"th"),d.Qc(67," Stock "),d.ac(68,"app-sort-icon",35),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(69,"th"),d.Qc(70,"Type"),d.Zb(),d.ac(71,"th"),d.Qc(72,"Traded Lots"),d.Zb(),d.ac(73,"th"),d.Qc(74,"Profit&Loss"),d.Zb(),d.ac(75,"th"),d.Qc(76,"Actions"),d.Zb(),d.Zb(),d.ac(77,"tbody"),d.Oc(78,_,19,35,"tr",36),d.pc(79,"positionFilter"),d.pc(80,"sortBy"),d.pc(81,"async"),d.Zb(),d.Zb(),d.Zb(),d.ac(82,"div",37),d.ac(83,"div",29),d.ac(84,"h4",30),d.Qc(85,"Futures"),d.Zb(),d.Zb(),d.Vb(86,"div",8),d.Zb(),d.ac(87,"div",31),d.ac(88,"table",32),d.ac(89,"thead"),d.ac(90,"th"),d.Qc(91," Trade Date "),d.ac(92,"app-sort-icon",33),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(93,"th"),d.Qc(94," Exit Date "),d.ac(95,"app-sort-icon",34),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(96,"th"),d.Qc(97," Stock "),d.ac(98,"app-sort-icon",35),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(99,"th"),d.Qc(100,"Traded Lots"),d.Zb(),d.ac(101,"th"),d.Qc(102,"Profit&Loss"),d.Zb(),d.ac(103,"th"),d.Qc(104,"Actions"),d.Zb(),d.Zb(),d.ac(105,"tbody"),d.Oc(106,Y,17,31,"tr",36),d.pc(107,"positionFilter"),d.pc(108,"sortBy"),d.pc(109,"async"),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb()}if(2&t){const t=d.Ec(31);d.wc("ngIf",d.qc(1,22,e.tradejournalsService.isLoading$)),d.Hb(15),d.wc("ngModel",e.fromDate),d.Hb(9),d.wc("ngModel",e.toDate),d.Hb(11),d.wc("ngModel",e.StockSymbol)("ngbTypeahead",e.searchStocks)("inputFormatter",e.formatter)("resultTemplate",t),d.Hb(15),d.wc("ngIf",d.qc(51,24,e.tradejournalsService.totalPL$)),d.Hb(12),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(10),d.wc("ngForOf",d.rc(79,26,d.tc(80,29,d.qc(81,34,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),d.zc(46,R))),d.Hb(14),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(8),d.wc("ngForOf",d.rc(107,36,d.tc(108,39,d.qc(109,44,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),d.zc(47,q)))}},directives:[r.o,a.i,i.a,i.j,i.l,a.o,g.a,r.n,r.p,p.k,m.a],pipes:[r.b,h.a,y.a,r.d,r.f],styles:[""]}),t})();var J=o("LRne"),U=o("vkgz"),B=o("nGje");function W(t,e){1&t&&(d.Yb(0),d.ac(1,"div",22),d.Vb(2,"div",23),d.Zb(),d.Xb())}function z(t,e){if(1&t&&(d.ac(0,"span"),d.Qc(1),d.Zb()),2&t){const t=d.oc().$implicit;d.Hb(1),d.Sc(" ",t.TradesOptionsEntry[0].strike,"")}}function X(t,e){if(1&t&&(d.ac(0,"span"),d.Qc(1),d.Zb()),2&t){const t=d.oc().$implicit;d.Hb(1),d.Sc(" ",t.priceentry,"")}}const K=function(t){return{color:t}};function tt(t,e){if(1&t&&(d.ac(0,"tr"),d.ac(1,"td",24),d.Qc(2),d.pc(3,"date"),d.Zb(),d.ac(4,"td",24),d.Qc(5),d.Zb(),d.ac(6,"td",24),d.Qc(7),d.Zb(),d.ac(8,"td",24),d.Oc(9,z,2,1,"span",0),d.Oc(10,X,2,1,"span",0),d.Zb(),d.ac(11,"td",24),d.Qc(12),d.pc(13,"number"),d.ac(14,"span",25),d.Qc(15),d.Zb(),d.Zb(),d.ac(16,"td"),d.ac(17,"a",26),d.Vb(18,"span",27),d.Zb(),d.Zb(),d.Zb()),2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("ngStyle",d.Ac(20,K,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",d.rc(3,15,t.TradeDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(22,K,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",t.StockSymbol," "),d.Hb(1),d.wc("ngStyle",d.Ac(24,K,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",t.OptionStrategy," "),d.Hb(1),d.wc("ngStyle",d.Ac(26,K,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.wc("ngIf","Long Call Intraday"===t.OptionStrategy||"Long Put Intraday"===t.OptionStrategy||"Short Call Intraday"===t.OptionStrategy||"Short Put Intraday"===t.OptionStrategy),d.Hb(1),d.wc("ngIf","Long Call Intraday"!==t.OptionStrategy&&"Long Put Intraday"!==t.OptionStrategy&&"Short Call Intraday"!==t.OptionStrategy&&"Short Put Intraday"!==t.OptionStrategy),d.Hb(1),d.wc("ngStyle",d.Ac(28,K,o.getRowColor(t.OptionStrategy))),d.Hb(1),d.Sc(" ",d.qc(13,18,t.totallots*t.lots)," "),d.Hb(3),d.Tc(" [",t.totallots," * ",t.lots,"]"),d.Hb(2),d.wc("routerLink","/trade/tradeJournal/edit/"+t.id),d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}function et(t,e){if(1&t&&(d.ac(0,"tr"),d.ac(1,"td",24),d.Qc(2),d.pc(3,"date"),d.Zb(),d.ac(4,"td",24),d.Qc(5),d.Zb(),d.ac(6,"td",24),d.ac(7,"span"),d.Qc(8),d.Zb(),d.Zb(),d.ac(9,"td",24),d.Qc(10),d.Zb(),d.ac(11,"td",24),d.Qc(12),d.pc(13,"number"),d.ac(14,"span",25),d.Qc(15),d.Zb(),d.Zb(),d.ac(16,"td"),d.ac(17,"a",26),d.Vb(18,"span",27),d.Zb(),d.Zb(),d.Zb()),2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("ngStyle",d.Ac(19,K,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",d.rc(3,14,t.TradeDate,"mediumDate")," "),d.Hb(2),d.wc("ngStyle",d.Ac(21,K,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",t.StockSymbol," "),d.Hb(1),d.wc("ngStyle",d.Ac(23,K,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(2),d.Sc(" ",t.TradesFuturesEntry[0].futuresType,""),d.Hb(1),d.wc("ngStyle",d.Ac(25,K,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",t.OptionStrategy," "),d.Hb(1),d.wc("ngStyle",d.Ac(27,K,o.getFutureRowColor(t.TradesFuturesEntry[0].futuresType))),d.Hb(1),d.Sc(" ",d.qc(13,17,t.totallots*t.lots)," "),d.Hb(3),d.Tc(" [",t.totallots," * ",t.lots,"]"),d.Hb(2),d.wc("routerLink","/trade/tradeJournal/edit/"+t.id),d.Hb(1),d.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}const ot=function(t){return{StockSymbol:t}},rt=function(){return{StockType:"Journal Options"}},at=function(){return{StockType:"Journal Futures"}};let it=(()=>{class t{constructor(t,e){this.tradejournalsService=t,this.fyersService=e,this.isDirty=!1,this.subscriptions=[]}ngOnInit(){this.EMPTY_JOURNAL={id:void 0},this.sorting={column:"TradeDate",direction:"asc"},this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.getTradeJournals();const t=this.tradejournalsService.paginationTotal$.pipe(Object(s.a)(t=>{this.paginationTotal=t,this.paginator.recalculatePaginator(t)}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(t)}getTradeJournals(){this.paginator=new u.PaginatorState,this.paginator.pageSize=10,this.tradejournalsService.getTradeJournals({RequestType:"OpenPositions",Status:"Open"})}placeOrder(t){if(t){const e=this.tradejournalsService.getItemById(t).pipe(Object(U.a)(()=>{this.isDirty=!1}),Object(l.a)(t=>Object(J.a)(this.EMPTY_JOURNAL))).subscribe(t=>{if(t.data&&(this.tradejournal=t.data.tradejournal,this.tradejournal)){const t=this.tradejournal.OptionStrategy;let e="";"Long Call Intraday"===t&&(e="Long Call"),"Long Put Intraday"===t&&(e="Long Put"),"Short Call Intraday"===t&&(e="Short Call"),"Short Put Intraday"===t&&(e="Short Put"),this.tradejournal.TradesOptionsEntry.forEach((t,o)=>{const r=t.tradesymbol,a=t.type,i=[];let n=0;if("Long Call"!==a&&"Long WCall"!==a&&"Long Put"!==a&&"Long WPut"!==a||(n=1),"Short Call"!==a&&"Short WCall"!==a&&"Short Put"!==a&&"Short WPut"!==a||(n=-1),confirm("TRADE : "+e+" "+r.substring(0,r.length-7))){const t={symbol:r.substring(4,r.length-7),qty:Number(Number(Number(this.tradejournal.lots)*Number(this.tradejournal.totallots)).toFixed(0)),type:2,side:n,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};i.push(t);const e={placeOrder:i};null!==e&&this.fyersService.placeFyersOrder(e)}})}});this.subscriptions.push(e)}}sort(t){const e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}paginate(t){this.paginator=t,this.paginator.pageSize=10}resetPaginate(){this.paginator.recalculatePaginator(this.paginationTotal)}delete(t){console.log("Delete ",t)}getRowColor(t){return"Long Call Intraday"===t||"Short Put Intraday"===t?"#3699FF":"Short Call Intraday"===t||"Long Put Intraday"===t?"#F64E60":void 0}getFutureRowColor(t){return"Long"===t?"#3699FF":"Short"===t?"#F64E60":void 0}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(b.a),d.Ub(B.a))},t.\u0275cmp=d.Ob({type:t,selectors:[["app-open-positions"]],decls:72,vars:48,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button","routerLink","/trade/tradeJournal/add",1,"btn","btn-sm","btn-primary"],[1,"card-body"],[1,"row","mb-5"],[1,"col-lg-5"],[1,"col-lg-2"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"form-group","row"],[1,"col-lg-11"],[1,"text-dark","font-weight-bold","mb-0"],[1,"col-lg-1"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","TradeDate",3,"activeColumn","activeDirection","sort"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"form-group","mt-10","row"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"font-weight-bold",3,"ngStyle"],[1,"text-muted"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"]],template:function(t,e){1&t&&(d.Oc(0,W,3,0,"ng-container",0),d.pc(1,"async"),d.ac(2,"div",1),d.ac(3,"div",2),d.ac(4,"div",3),d.ac(5,"h3",4),d.Qc(6,"Open Positions"),d.Zb(),d.Zb(),d.ac(7,"div",5),d.ac(8,"button",6),d.Qc(9," New Journal "),d.Zb(),d.Zb(),d.Zb(),d.ac(10,"div",7),d.ac(11,"div",8),d.Vb(12,"div",9),d.Vb(13,"div",9),d.ac(14,"div",10),d.ac(15,"input",11),d.lc("ngModelChange",function(t){return e.searchText=t})("input",function(){return e.resetPaginate()}),d.Zb(),d.Zb(),d.Zb(),d.ac(16,"div",12),d.ac(17,"div",13),d.ac(18,"h4",14),d.Qc(19,"Options"),d.Zb(),d.Zb(),d.Vb(20,"div",15),d.Zb(),d.ac(21,"div",16),d.ac(22,"table",17),d.ac(23,"thead"),d.ac(24,"th"),d.Qc(25," Trade Date "),d.ac(26,"app-sort-icon",18),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(27,"th"),d.Qc(28," Stock "),d.ac(29,"app-sort-icon",19),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(30,"th"),d.Qc(31,"Option Strategy"),d.Zb(),d.ac(32,"th"),d.Qc(33,"Strike"),d.Zb(),d.ac(34,"th"),d.Qc(35,"Total Lots"),d.Zb(),d.ac(36,"th"),d.Qc(37,"Actions"),d.Zb(),d.Zb(),d.ac(38,"tbody"),d.Oc(39,tt,19,30,"tr",20),d.pc(40,"positionFilter"),d.pc(41,"searchBy"),d.pc(42,"sortBy"),d.pc(43,"async"),d.Zb(),d.Zb(),d.Zb(),d.ac(44,"div",21),d.ac(45,"div",13),d.ac(46,"h4",14),d.Qc(47,"Futures"),d.Zb(),d.Zb(),d.Vb(48,"div",15),d.Zb(),d.ac(49,"div",16),d.ac(50,"table",17),d.ac(51,"thead"),d.ac(52,"th"),d.Qc(53," Trade Date "),d.ac(54,"app-sort-icon",18),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(55,"th"),d.Qc(56," Stock "),d.ac(57,"app-sort-icon",19),d.lc("sort",function(t){return e.sort(t)}),d.Zb(),d.Zb(),d.ac(58,"th"),d.Qc(59,"Type"),d.Zb(),d.ac(60,"th"),d.Qc(61,"Strategy"),d.Zb(),d.ac(62,"th"),d.Qc(63,"Total Lots"),d.Zb(),d.ac(64,"th"),d.Qc(65,"Actions"),d.Zb(),d.Zb(),d.ac(66,"tbody"),d.Oc(67,et,19,29,"tr",20),d.pc(68,"positionFilter"),d.pc(69,"searchBy"),d.pc(70,"sortBy"),d.pc(71,"async"),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb()),2&t&&(d.wc("ngIf",d.qc(1,12,e.tradejournalsService.isLoading$)),d.Hb(15),d.wc("ngModel",e.searchText),d.Hb(11),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(10),d.wc("ngForOf",d.rc(40,14,d.sc(41,17,d.tc(42,21,d.qc(43,26,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),d.Ac(42,ot,e.searchText),!1),d.zc(44,rt))),d.Hb(15),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(3),d.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),d.Hb(10),d.wc("ngForOf",d.rc(68,28,d.sc(69,31,d.tc(70,35,d.qc(71,40,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),d.Ac(45,ot,e.searchText),!1),d.zc(47,at))))},directives:[r.o,p.i,i.a,i.j,i.l,g.a,r.n,r.p,p.k,m.a],pipes:[r.b,h.a,f.a,y.a,r.f,r.g],styles:[""]}),t})(),nt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Ob({type:t,selectors:[["app-trade"]],decls:1,vars:0,template:function(t,e){1&t&&d.Vb(0,"router-outlet")},directives:[p.m],styles:[""]}),t})();var ct=o("2Vo4"),st=o("eIep"),lt=o("IzEk"),ut=o("tk/3"),dt=o("AytR"),bt=o("U1i7"),pt=o("5eHb"),gt=o("zC+P");function mt(t,e){if(1&t&&(d.ac(0,"span"),d.Qc(1),d.Zb()),2&t){const t=d.oc();d.Hb(1),d.Rc(t._placeholder)}}function ht(t,e){if(1&t){const t=d.bc();d.ac(0,"span",14),d.Qc(1),d.ac(2,"a",15),d.lc("click",function(o){d.Gc(t);const r=e.$implicit;return d.oc().onItemClick(o,r)}),d.Qc(3,"x"),d.Zb(),d.Zb()}if(2&t){const t=e.$implicit,o=e.index,r=d.oc();d.wc("hidden",o>r._settings.itemsShowLimit-1),d.Hb(1),d.Sc(" ",t.text," ")}}function ft(t,e){if(1&t&&(d.ac(0,"span",16),d.Qc(1),d.Zb()),2&t){const t=d.oc();d.Hb(1),d.Sc("+",t.itemShowRemaining(),"")}}function yt(t,e){if(1&t){const t=d.bc();d.ac(0,"li",17),d.lc("click",function(){return d.Gc(t),d.oc().toggleSelectAll()}),d.Vb(1,"input",18),d.ac(2,"div"),d.Qc(3),d.Zb(),d.Zb()}if(2&t){const t=d.oc();d.Hb(1),d.wc("checked",t.isAllItemsSelected())("disabled",t.disabled||t.isLimitSelectionReached()),d.Hb(2),d.Rc(t.isAllItemsSelected()?t._settings.unSelectAllText:t._settings.selectAllText)}}function vt(t,e){if(1&t){const t=d.bc();d.ac(0,"li",19),d.ac(1,"input",20),d.lc("ngModelChange",function(e){return d.Gc(t),d.oc().filter.text=e})("ngModelChange",function(e){return d.Gc(t),d.oc().onFilterTextChange(e)}),d.Zb(),d.Zb()}if(2&t){const t=d.oc();d.Hb(1),d.wc("readOnly",t.disabled)("placeholder",t._settings.searchPlaceholderText)("ngModel",t.filter.text)}}function St(t,e){if(1&t){const t=d.bc();d.ac(0,"li",21),d.lc("click",function(o){d.Gc(t);const r=e.$implicit;return d.oc().onItemClick(o,r)}),d.Vb(1,"input",22),d.ac(2,"div"),d.Qc(3),d.Zb(),d.Zb()}if(2&t){const t=e.$implicit,o=d.oc();d.Hb(1),d.wc("checked",o.isSelected(t))("disabled",o.disabled||o.isLimitSelectionReached()&&!o.isSelected(t)||t.isDisabled),d.Ib("aria-label",t.text),d.Hb(2),d.Rc(t.text)}}function Ot(t,e){if(1&t&&(d.ac(0,"li",23),d.ac(1,"h5"),d.Qc(2),d.Zb(),d.Zb()),2&t){const t=d.oc();d.Hb(2),d.Rc(t._settings.noDataAvailablePlaceholderText)}}const wt=function(t){return{"dropdown-multiselect--active":t}};class Zt{constructor(t){"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.isDisabled=t.isDisabled)}}let xt=(()=>{let t=class{transform(t,e){return t&&e?t.filter(t=>this.applyFilter(t,e)):t}applyFilter(t,e){return"string"==typeof t.text&&"string"==typeof e.text?!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase())):!(e.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(e.text.toString().toLowerCase()))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Tb({name:"multiSelectFilter",type:t,pure:!1}),t})();const kt={provide:i.i,useExisting:Object(d.bb)(()=>Et),multi:!0},Tt=()=>{};let Et=(()=>{let t=class{constructor(t){this.listFilterPipe=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new Zt(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new d.r,this.onDropDownClose=new d.r,this.onSelect=new d.r,this.onDeSelect=new d.r,this.onSelectAll=new d.r,this.onDeSelectAll=new d.r,this.onTouchedCallback=Tt,this.onChangeCallback=Tt}set placeholder(t){this._placeholder=t||"Select"}set settings(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}set data(t){if(t){const e=t[0];this._sourceDataType=typeof e,this._sourceDataFields=this.getFields(e),this._data=t.map(t=>new Zt("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(t){this.onFilterChange.emit(t)}onItemClick(t,e){if(this.disabled||e.isDisabled)return!1;const o=this.isSelected(e),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;o?this.removeSelected(e):r&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(t){if(null!=t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){const e=t[0];this.selectedItems=[new Zt("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]})]}}catch(e){}else{const e=t.map(t=>new Zt("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?e.splice(0,this._settings.limitSelection):e}else this.selectedItems=[];this.onChangeCallback(t)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(t,e){return e.id}isSelected(t){let e=!1;return this.selectedItems.forEach(o=>{t.id===o.id&&(e=!0)}),e}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let t=this.listFilterPipe.transform(this._data,this.filter);const e=t.filter(t=>t.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}removeSelected(t){this.selectedItems.forEach(e=>{t.id===e.id&&this.selectedItems.splice(this.selectedItems.indexOf(e),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}emittedValue(t){const e=[];if(Array.isArray(t))t.map(t=>{e.push(this.objectify(t))});else if(t)return this.objectify(t);return e}objectify(t){if("object"===this._sourceDataType){const e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(e[this._settings.disabledField]=t.isDisabled),e}return"number"===this._sourceDataType?Number(t.id):t.text}toggleDropdown(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(t=>!t.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(t){const e=[];if("object"!=typeof t)return e;for(const o in t)e.push(o);return e}};return t.\u0275fac=function(e){return new(e||t)(d.Ub(xt))},t.\u0275cmp=d.Ob({type:t,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,e){1&t&&d.lc("blur",function(){return e.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[d.Gb([kt])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 6px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(t,e){1&t&&(d.ac(0,"div",0),d.lc("blur",function(){return e.onTouched()})("clickOutside",function(){return e.closeDropdown()}),d.ac(1,"div"),d.ac(2,"span",1),d.lc("click",function(t){return e.toggleDropdown(t)}),d.Oc(3,mt,2,1,"span",2),d.Oc(4,ht,4,2,"span",3),d.ac(5,"span",4),d.Oc(6,ft,2,1,"span",5),d.Vb(7,"span",6),d.Zb(),d.Zb(),d.Zb(),d.ac(8,"div",7),d.ac(9,"ul",8),d.Oc(10,yt,4,3,"li",9),d.Oc(11,vt,2,3,"li",10),d.Zb(),d.ac(12,"ul",11),d.Oc(13,St,4,4,"li",12),d.pc(14,"multiSelectFilter"),d.Oc(15,Ot,3,1,"li",13),d.Zb(),d.Zb(),d.Zb()),2&t&&(d.Hb(1),d.Mb("disabled",e.disabled),d.Hb(2),d.wc("ngIf",0==e.selectedItems.length),d.Hb(1),d.wc("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByFn),d.Hb(1),d.wc("ngClass",d.Ac(17,wt,e._settings.defaultOpen)),d.Hb(1),d.wc("ngIf",e.itemShowRemaining()>0),d.Hb(2),d.wc("hidden",!e._settings.defaultOpen),d.Hb(2),d.wc("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),d.Hb(1),d.wc("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&e._settings.allowSearchFilter),d.Hb(1),d.Mc("max-height",e._settings.maxHeight+"px"),d.Hb(1),d.wc("ngForOf",d.rc(14,14,e._data,e.filter)),d.Hb(2),d.wc("ngIf",0==e._data.length&&!e._settings.allowRemoteDataSearch))},directives:function(){return[Ct,r.o,r.n,r.m,i.a,i.j,i.l]},pipes:function(){return[xt]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),t=Object(gt.c)([Object(gt.f)("design:paramtypes",[xt])],t),t})(),Ct=(()=>{let t=class{constructor(t){this._elementRef=t,this.clickOutside=new d.r}onClick(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))}};return t.\u0275fac=function(e){return new(e||t)(d.Ub(d.p))},t.\u0275dir=d.Pb({type:t,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&d.lc("click",function(t){return e.onClick(t,t.target)},!1,d.Fc)},outputs:{clickOutside:"clickOutside"}}),t=Object(gt.c)([Object(gt.f)("design:paramtypes",[d.p])],t),t})();var Dt;let Pt=(()=>{let t=Dt=class{static forRoot(){return{ngModule:Dt}}};return t.\u0275mod=d.Sb({type:t}),t.\u0275inj=d.Rb({factory:function(e){return new(e||t)},providers:[xt],imports:[[r.c,i.g]]}),t})();var Ht=o("CV0D");const Nt=["chart"];function Vt(t,e){1&t&&(d.Yb(0),d.ac(1,"div",15),d.Vb(2,"div",16),d.Zb(),d.Xb())}function Mt(t,e){1&t&&(d.ac(0,"span"),d.Qc(1,"New Stock"),d.Zb())}function Ft(t,e){if(1&t&&(d.ac(0,"span"),d.Qc(1),d.Zb()),2&t){const t=d.oc(2);d.Hb(1),d.Rc(t.tradejournal.StockName)}}function jt(t,e){if(1&t&&(d.Yb(0),d.Oc(1,Mt,2,0,"span",1),d.Oc(2,Ft,2,1,"span",1),d.Xb()),2&t){const t=d.oc();d.Hb(1),d.wc("ngIf",!t.tradejournal.id),d.Hb(1),d.wc("ngIf",t.tradejournal.id)}}function It(t,e){1&t&&(d.ac(0,"span"),d.Qc(1,"Save"),d.Zb())}function Qt(t,e){1&t&&(d.ac(0,"span"),d.Qc(1,"Update"),d.Zb())}function At(t,e){if(1&t){const t=d.bc();d.ac(0,"span"),d.ac(1,"button",17),d.lc("click",function(){return d.Gc(t),d.oc().save()}),d.Oc(2,It,2,0,"span",1),d.Oc(3,Qt,2,0,"span",1),d.Zb(),d.Zb()}if(2&t){const t=d.oc();d.Hb(2),d.wc("ngIf",!t.tradejournal.id),d.Hb(1),d.wc("ngIf",t.tradejournal.id)}}const Lt=function(t){return{color:t}};function _t(t,e){if(1&t&&(d.ac(0,"div",50),d.ac(1,"div",24),d.ac(2,"div",51),d.Qc(3),d.Zb(),d.ac(4,"div",51),d.Qc(5),d.pc(6,"currency"),d.Zb(),d.ac(7,"div",51),d.Qc(8," P&L : "),d.ac(9,"span",52),d.Qc(10),d.pc(11,"currency"),d.Zb(),d.Zb(),d.Zb(),d.Zb()),2&t){const t=d.oc(3);d.Hb(3),d.Sc(" Traded Lots : ",t.tradejournal.closedlots," "),d.Hb(2),d.Sc(" Premium : ",d.sc(6,4,t.tradejournal.optionpremium,"INR","\u20b9 ")," "),d.Hb(4),d.wc("ngStyle",d.Ac(12,Lt,t.getProfitColor(t.tradejournal.totalgainloss))),d.Hb(1),d.Sc(" ",d.sc(11,8,t.tradejournal.totalgainloss,"INR","\u20b9 ")," ")}}function Gt(t,e){if(1&t&&(d.ac(0,"div",50),d.ac(1,"div",24),d.ac(2,"div",51),d.Qc(3),d.Zb(),d.ac(4,"div",51),d.Qc(5,"Type : Future"),d.Zb(),d.ac(6,"div",51),d.Qc(7," P&L : "),d.ac(8,"span",52),d.Qc(9),d.pc(10,"currency"),d.Zb(),d.Zb(),d.Zb(),d.Zb()),2&t){const t=d.oc(3);d.Hb(3),d.Sc(" Traded Lots : ",t.tradejournal.totallots," "),d.Hb(5),d.wc("ngStyle",d.Ac(7,Lt,t.getProfitColor(t.tradejournal.totalgainloss))),d.Hb(1),d.Sc(" ",d.sc(10,3,t.tradejournal.totalgainloss,"INR","\u20b9 ")," ")}}function Yt(t,e){if(1&t&&(d.ac(0,"div",47),d.Vb(1,"div",22),d.ac(2,"div",23),d.ac(3,"div",48),d.Oc(4,_t,12,14,"div",49),d.Oc(5,Gt,11,9,"div",49),d.Zb(),d.Zb(),d.Vb(6,"div",22),d.Zb()),2&t){const t=d.oc(2);d.Hb(4),d.wc("ngIf","Option"===t.formGroup.get("StockType").value),d.Hb(1),d.wc("ngIf","Future"===t.formGroup.get("StockType").value)}}function Rt(t,e){1&t&&d.Qc(0),2&t&&d.Sc(" ",e.result.stock," ")}function qt(t,e){if(1&t){const t=d.bc();d.ac(0,"i",59),d.lc("click",function(){return d.Gc(t),d.oc(4).getFyersLTP()}),d.Zb()}}function $t(t,e){1&t&&(d.Yb(0),d.Vb(1,"span",60),d.Xb())}function Jt(t,e){if(1&t&&(d.ac(0,"div",56),d.Qc(1," LTP : "),d.ac(2,"b"),d.Qc(3),d.pc(4,"currency"),d.Zb(),d.Oc(5,qt,1,0,"ng-template",null,57,d.Pc),d.Oc(7,$t,2,0,"ng-container",58),d.pc(8,"async"),d.Zb()),2&t){const t=d.Ec(6),e=d.oc(3);d.Hb(3),d.Rc(d.sc(4,3,e.LTP,"INR","")),d.Hb(4),d.wc("ngIf",d.qc(8,7,e.fyersService.isLoading$))("ngIfElse",t)}}function Ut(t,e){if(1&t&&(d.ac(0,"div",53),d.ac(1,"div",24),d.Oc(2,Jt,9,9,"div",54),d.ac(3,"div",55),d.Qc(4),d.Zb(),d.Zb(),d.Zb()),2&t){const t=d.oc(2);d.Hb(2),d.wc("ngIf","Closed"!==t.tradejournal.Status),d.Hb(2),d.Sc("Lots : ",t.tradejournal.lots,"")}}function Bt(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t.keywordvalue),d.Hb(1),d.Sc(" ",t.keywordvalue," ")}}function Wt(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t.keywordvalue),d.Hb(1),d.Sc(" ",t.keywordvalue," ")}}function zt(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t.keywordvalue),d.Hb(1),d.Sc(" ",t.keywordvalue," ")}}function Xt(t,e){1&t&&(d.ac(0,"div",21),d.Vb(1,"div",22),d.ac(2,"div",61),d.ac(3,"h4",62),d.Qc(4,"Entries & Exits"),d.Zb(),d.Zb(),d.Vb(5,"div",22),d.Zb())}function Kt(t,e){if(1&t&&(d.ac(0,"div",63),d.Vb(1,"div",64),d.ac(2,"div",51),d.ac(3,"div",65),d.ac(4,"div",66),d.Qc(5),d.Zb(),d.Zb(),d.Zb(),d.Zb()),2&t){const t=d.oc(2);d.Hb(5),d.Sc(" Total Lots : ",t.futureTotalLots," ")}}function te(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function ee(t,e){if(1&t){const t=d.bc();d.ac(0,"a",87),d.lc("click",function(){d.Gc(t);const e=d.oc(2).index;return d.oc(3).removeTradesOptionsEntry(e)}),d.Vb(1,"i",88),d.Qc(2," Remove Entry "),d.Zb()}}function oe(t,e){if(1&t&&(d.ac(0,"div",85),d.Oc(1,ee,3,0,"a",86),d.Zb()),2&t){const t=d.oc(4);d.Hb(1),d.wc("ngIf",t.TradesFuturesEntry.length>1)}}function re(t,e){if(1&t){const t=d.bc();d.ac(0,"div",68),d.ac(1,"div",69),d.ac(2,"div",70),d.ac(3,"div",9),d.ac(4,"div",24),d.ac(5,"div",71),d.ac(6,"label"),d.Qc(7,"Date "),d.Zb(),d.ac(8,"div",27),d.Vb(9,"input",72,73),d.ac(11,"div",74),d.lc("click",function(){return d.Gc(t),d.Ec(10).toggle()}),d.ac(12,"span",30),d.Vb(13,"i",75),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(14,"div",71),d.ac(15,"label"),d.Qc(16,"Type"),d.Zb(),d.ac(17,"select",76),d.Qc(18," > "),d.Oc(19,te,2,2,"option",35),d.Zb(),d.Zb(),d.ac(20,"div",71),d.ac(21,"label"),d.Qc(22,"Entry Lots"),d.Zb(),d.ac(23,"input",77),d.lc("blur",function(){d.Gc(t);const o=e.index;return d.oc(3).getFyersFuturePrice(o)}),d.Zb(),d.Zb(),d.ac(24,"div",71),d.ac(25,"label"),d.Qc(26,"Entry Price"),d.Zb(),d.ac(27,"input",78),d.lc("blur",function(){return d.Gc(t),d.oc(3).futureAnalyse()}),d.Zb(),d.Zb(),d.ac(28,"div",71),d.ac(29,"label"),d.Qc(30,"Exit Price"),d.Zb(),d.ac(31,"input",79),d.lc("blur",function(){return d.Gc(t),d.oc(3).futureAnalyse()}),d.Zb(),d.Zb(),d.ac(32,"div",71),d.ac(33,"label"),d.Qc(34,"Exit Date"),d.Zb(),d.ac(35,"div",27),d.Vb(36,"input",80,81),d.ac(38,"div",74),d.lc("click",function(){return d.Gc(t),d.Ec(37).toggle()}),d.ac(39,"span",30),d.Vb(40,"i",75),d.Zb(),d.Zb(),d.Zb(),d.ac(41,"div",82),d.ac(42,"span",52),d.Qc(43),d.pc(44,"currency"),d.Zb(),d.Zb(),d.Zb(),d.ac(45,"div",24),d.ac(46,"div",83),d.Qc(47),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Oc(48,oe,2,1,"div",84),d.Zb()}if(2&t){const t=e.index,o=d.oc(3);d.Hb(1),d.wc("formGroupName",t),d.Hb(8),d.Mb("is-invalid",o.TradesFuturesEntry.controls[t].get("futuresEntryDate").errors),d.Hb(8),d.Mb("is-invalid",o.TradesFuturesEntry.controls[t].get("futuresType").errors),d.Hb(2),d.wc("ngForOf",o.futureTypes),d.Hb(4),d.Mb("is-invalid",o.TradesFuturesEntry.controls[t].get("futuresEntryLots").errors),d.Hb(4),d.Mb("is-invalid",o.TradesFuturesEntry.controls[t].get("futuresEntryPrice").errors),d.Hb(4),d.Mb("is-invalid",o.TradesFuturesEntry.controls[t].get("futuresExitPrice").errors),d.Hb(5),d.Mb("is-invalid",o.TradesFuturesEntry.controls[t].get("futuresExitDate").errors),d.Hb(6),d.wc("ngStyle",d.Ac(22,Lt,o.getProfitColor(o.TradesFuturesEntry.controls[t].get("futuresProfitLoss").value))),d.Hb(1),d.Sc(" ",d.sc(44,18,o.TradesFuturesEntry.controls[t].get("futuresProfitLoss").value,"INR","\u20b9 ")," "),d.Hb(4),d.Sc(" ",o.TradesFuturesEntry.controls[t].get("futuresTradeSymbol").value," "),d.Hb(1),d.wc("ngIf","Closed"!==o.tradejournal.Status)}}function ae(t,e){if(1&t&&(d.ac(0,"div",21),d.Vb(1,"div",22),d.ac(2,"div",23),d.Oc(3,re,49,24,"div",67),d.Zb(),d.Vb(4,"div",22),d.Zb()),2&t){const t=d.oc(2);d.Hb(3),d.wc("ngForOf",t.TradesFuturesEntry.controls)}}function ie(t,e){1&t&&(d.ac(0,"div",21),d.Vb(1,"div",22),d.ac(2,"div",61),d.ac(3,"h4",62),d.Qc(4,"Entries & Exits"),d.Zb(),d.Zb(),d.Vb(5,"div",22),d.Zb())}function ne(t,e){if(1&t){const t=d.bc();d.ac(0,"div",51),d.ac(1,"button",93),d.lc("click",function(){return d.Gc(t),d.oc(3).placeOrder()}),d.Vb(2,"i",94),d.Qc(3," Trade Strategy "),d.Zb(),d.Zb()}}function ce(t,e){if(1&t&&(d.ac(0,"div",89),d.Vb(1,"div",90),d.ac(2,"div",90),d.ac(3,"div",65),d.ac(4,"div",91),d.Qc(5),d.Zb(),d.ac(6,"div",91),d.Qc(7),d.pc(8,"currency"),d.Zb(),d.Oc(9,ne,4,0,"div",92),d.Vb(10,"div",71),d.Zb(),d.Zb(),d.Vb(11,"div",22),d.Zb()),2&t){const t=d.oc(2);d.Hb(5),d.Uc(" Total Lots : ",t.tradejournal.totallots*t.tradejournal.lots," [ ",t.tradejournal.totallots," * ",t.tradejournal.lots,"] "),d.Hb(2),d.Sc(" Premium : ",d.sc(8,5,t.tradejournal.optionpremium,"INR","\u20b9 ")," "),d.Hb(2),d.wc("ngIf","Option PayOff"===t.formGroup.get("Status").value&&"Option"===t.formGroup.get("StockType").value&&t.tradejournal.totallots)}}function se(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function le(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function ue(t,e){if(1&t){const t=d.bc();d.ac(0,"a",87),d.lc("click",function(){d.Gc(t);const e=d.oc(2).index;return d.oc(3).removeTradesOptionsEntry(e)}),d.Vb(1,"i",88),d.Qc(2," Remove Entry "),d.Zb()}}function de(t,e){if(1&t&&(d.ac(0,"div",85),d.Oc(1,ue,3,0,"a",86),d.Zb()),2&t){const t=d.oc(4);d.Hb(1),d.wc("ngIf",t.TradesOptionsEntry.length>1)}}function be(t,e){if(1&t){const t=d.bc();d.ac(0,"div",96),d.ac(1,"div",69),d.ac(2,"div",70),d.ac(3,"div",9),d.ac(4,"div",24),d.ac(5,"div",71),d.ac(6,"label"),d.Qc(7,"Date "),d.Zb(),d.ac(8,"div",27),d.Vb(9,"input",97,73),d.ac(11,"div",74),d.lc("click",function(){return d.Gc(t),d.Ec(10).toggle()}),d.ac(12,"span",30),d.Vb(13,"i",75),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(14,"div",71),d.ac(15,"label"),d.Qc(16,"Type"),d.Zb(),d.ac(17,"select",98),d.Qc(18," > "),d.Oc(19,se,2,2,"option",35),d.Zb(),d.Zb(),d.ac(20,"div",71),d.ac(21,"label"),d.Qc(22,"Month"),d.Zb(),d.ac(23,"select",99),d.Oc(24,le,2,2,"option",35),d.Zb(),d.Zb(),d.ac(25,"div",71),d.ac(26,"label"),d.Qc(27,"Strike"),d.Zb(),d.ac(28,"input",100),d.lc("blur",function(){d.Gc(t);const o=e.index;return d.oc(3).getFyersOptionPrice(o)}),d.Zb(),d.Zb(),d.ac(29,"div",71),d.ac(30,"label"),d.Qc(31,"Entry Lots"),d.Zb(),d.ac(32,"input",101),d.lc("blur",function(){return d.Gc(t),d.oc(3).analyse()}),d.Zb(),d.Zb(),d.ac(33,"div",71),d.ac(34,"label"),d.Qc(35,"Entry Price"),d.Zb(),d.ac(36,"input",102),d.lc("blur",function(){return d.Gc(t),d.oc(3).analyse()}),d.Zb(),d.Zb(),d.Zb(),d.ac(37,"div",103),d.ac(38,"div",71),d.ac(39,"label"),d.Qc(40,"Exit Date "),d.Zb(),d.ac(41,"div",27),d.Vb(42,"input",104,81),d.ac(44,"div",74),d.lc("click",function(){return d.Gc(t),d.Ec(43).toggle()}),d.ac(45,"span",30),d.Vb(46,"i",75),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(47,"div",71),d.ac(48,"label"),d.Qc(49,"Max Risk (\u20b9)"),d.Zb(),d.Vb(50,"input",105),d.Zb(),d.ac(51,"div",71),d.ac(52,"label"),d.Qc(53,"Max Reward (\u20b9)"),d.Zb(),d.Vb(54,"input",106),d.Zb(),d.ac(55,"div",71),d.ac(56,"label"),d.Qc(57,"Breakeven"),d.Zb(),d.Vb(58,"input",107),d.Zb(),d.ac(59,"div",71),d.ac(60,"label"),d.Qc(61,"Premium Received"),d.Zb(),d.Vb(62,"input",108),d.Zb(),d.ac(63,"div",71),d.ac(64,"label"),d.Qc(65,"Exit Price"),d.Zb(),d.ac(66,"input",109),d.lc("blur",function(){d.Gc(t);const o=e.index;return d.oc(3).optTotals(o)}),d.Zb(),d.ac(67,"div",82),d.ac(68,"span",52),d.Qc(69),d.pc(70,"currency"),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(71,"div",24),d.ac(72,"div",110),d.Qc(73),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Oc(74,de,2,1,"div",84),d.Zb()}if(2&t){const t=e.index,o=d.oc(3);d.Hb(1),d.wc("formGroupName",t),d.Hb(8),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("EntryDate").errors),d.Hb(8),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("type").errors),d.Hb(2),d.wc("ngForOf",o.optionTypes),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("month").errors),d.Hb(1),d.wc("ngForOf",o.Months),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("strike").errors),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("entrylots").errors),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("entryprice").errors),d.Hb(6),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("ExitDate").errors),d.Hb(8),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("optionmaxrisk").errors),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("optionmaxreward").errors),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("optionbreakeven").errors),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("optionpremium").errors),d.Hb(4),d.Mb("is-invalid",o.TradesOptionsEntry.controls[t].get("exitprice").errors),d.Hb(2),d.wc("ngStyle",d.Ac(35,Lt,o.getProfitColor(o.TradesOptionsEntry.controls[t].get("profitloss").value))),d.Hb(1),d.Sc(" ",d.sc(70,31,o.TradesOptionsEntry.controls[t].get("profitloss").value,"INR","\u20b9 ")," "),d.Hb(4),d.Sc(" ",o.TradesOptionsEntry.controls[t].get("tradesymbol").value," "),d.Hb(1),d.wc("ngIf","Closed"!==o.tradejournal.Status)}}function pe(t,e){if(1&t&&(d.ac(0,"div",21),d.Vb(1,"div",22),d.ac(2,"div",23),d.Oc(3,be,75,37,"div",95),d.Zb(),d.Vb(4,"div",22),d.Zb()),2&t){const t=d.oc(2);d.Hb(3),d.wc("ngForOf",t.TradesOptionsEntry.controls)}}function ge(t,e){if(1&t){const t=d.bc();d.ac(0,"div",42),d.Vb(1,"div",22),d.ac(2,"div",111),d.ac(3,"a",112),d.lc("click",function(){return d.Gc(t),d.oc(2).addTradesOptionsEntry()}),d.Vb(4,"i",113),d.Qc(5," New Option Entry "),d.Zb(),d.Zb(),d.Vb(6,"div",22),d.Zb()}}function me(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function he(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function fe(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function ye(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t),d.Hb(1),d.Sc(" ",t," ")}}function ve(t,e){if(1&t&&(d.ac(0,"option",34),d.Qc(1),d.Zb()),2&t){const t=e.$implicit;d.wc("ngValue",t.keywordvalue),d.Hb(1),d.Sc(" ",t.keywordvalue," ")}}function Se(t,e){if(1&t){const t=d.bc();d.ac(0,"a",87),d.lc("click",function(){d.Gc(t);const e=d.oc(2).index;return d.oc(3).removetradeHour(e)}),d.Vb(1,"i",88),d.Qc(2," Remove Entry "),d.Zb()}}function Oe(t,e){if(1&t&&(d.ac(0,"div",85),d.Oc(1,Se,3,0,"a",86),d.Zb()),2&t){const t=d.oc(4);d.Hb(1),d.wc("ngIf",t.tradeHour.length>1)}}const we=function(){return{keywordtype:"Trade Outcome"}};function Ze(t,e){if(1&t&&(d.ac(0,"div",120),d.ac(1,"div",69),d.ac(2,"div",121),d.ac(3,"div",9),d.ac(4,"div",122),d.ac(5,"div",51),d.ac(6,"div",116),d.ac(7,"div",42),d.ac(8,"div",90),d.ac(9,"label"),d.Qc(10,"Entry Hour"),d.Zb(),d.ac(11,"select",123),d.Oc(12,me,2,2,"option",35),d.Zb(),d.Zb(),d.ac(13,"div",90),d.ac(14,"label"),d.Qc(15,"Entry Minutes"),d.Zb(),d.ac(16,"select",124),d.Oc(17,he,2,2,"option",35),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(18,"div",51),d.ac(19,"div",116),d.ac(20,"div",24),d.ac(21,"div",90),d.ac(22,"label"),d.Qc(23,"Exit Hour"),d.Zb(),d.ac(24,"select",125),d.Oc(25,fe,2,2,"option",35),d.Zb(),d.Zb(),d.ac(26,"div",90),d.ac(27,"label"),d.Qc(28,"Exit Minutes"),d.Zb(),d.ac(29,"select",126),d.Oc(30,ye,2,2,"option",35),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.ac(31,"div",51),d.ac(32,"div",116),d.ac(33,"div",24),d.ac(34,"div",116),d.ac(35,"label"),d.Qc(36,"Trade Outcome"),d.Zb(),d.ac(37,"select",127),d.Vb(38,"option",34),d.Oc(39,ve,2,2,"option",35),d.pc(40,"sortBy"),d.pc(41,"searchBy"),d.pc(42,"async"),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Oc(43,Oe,2,1,"div",84),d.Zb()),2&t){const t=e.index,o=d.oc(3);d.Hb(1),d.wc("formGroupName",t),d.Hb(10),d.Mb("is-invalid",o.tradeHour.controls[t].get("entryHour").errors),d.Hb(1),d.wc("ngForOf",o.Hours),d.Hb(4),d.Mb("is-invalid",o.tradeHour.controls[t].get("entryMinute").errors),d.Hb(1),d.wc("ngForOf",o.Minutes),d.Hb(7),d.Mb("is-invalid",o.tradeHour.controls[t].get("exitHour").errors),d.Hb(1),d.wc("ngForOf",o.Hours),d.Hb(4),d.Mb("is-invalid",o.tradeHour.controls[t].get("exitMinute").errors),d.Hb(1),d.wc("ngForOf",o.Minutes),d.Hb(7),d.Mb("is-invalid",o.tradeHour.controls[t].get("outcome").errors),d.Hb(1),d.wc("ngValue",null),d.Hb(1),d.wc("ngForOf",d.tc(40,18,d.sc(41,23,d.qc(42,27,o.keywordsService.keywords$),d.zc(29,we),!1),!1,"asc","order")),d.Hb(4),d.wc("ngIf","Closed"!==o.tradejournal.Status)}}function xe(t,e){if(1&t){const t=d.bc();d.ac(0,"div",42),d.Vb(1,"div",22),d.ac(2,"div",128),d.ac(3,"a",112),d.lc("click",function(){return d.Gc(t),d.oc(3).addtradeHour()}),d.Vb(4,"i",113),d.Qc(5," New Entry "),d.Zb(),d.Zb(),d.Zb()}}const ke=function(){return{keywordtype:"Trade Tag"}};function Te(t,e){if(1&t&&(d.Yb(0),d.Oc(1,Ze,44,30,"div",114),d.Oc(2,xe,6,0,"div",41),d.ac(3,"div",115),d.ac(4,"label"),d.Qc(5,"Trade Tags"),d.Zb(),d.ac(6,"div",116),d.Vb(7,"ng-multiselect-dropdown",117),d.pc(8,"sortBy"),d.pc(9,"searchBy"),d.pc(10,"async"),d.Zb(),d.Zb(),d.ac(11,"div",118),d.ac(12,"label"),d.Qc(13,"Notes"),d.Zb(),d.Vb(14,"textarea",119),d.Zb(),d.Xb()),2&t){const t=d.oc(2);d.Hb(1),d.wc("ngForOf",t.tradeHour.controls),d.Hb(1),d.wc("ngIf","Closed"!==t.tradejournal.Status),d.Hb(5),d.wc("settings",t.dropdownSettings)("data",d.tc(8,4,d.sc(9,9,d.qc(10,13,t.keywordsService.keywords$),d.zc(15,ke),!1),!1,"asc","order"))}}function Ee(t,e){if(1&t){const t=d.bc();d.ac(0,"div"),d.Vb(1,"img",134),d.ac(2,"div",24),d.ac(3,"div",128),d.ac(4,"a",135),d.lc("click",function(){d.Gc(t);const o=e.$implicit;return d.oc(3).deleteAwsImage(o)}),d.Qc(5," Delete Image "),d.Zb(),d.Zb(),d.Vb(6,"div",22),d.Zb(),d.Zb()}if(2&t){const t=e.$implicit;d.Hb(1),d.yc("src","https://mythies-journal-images.s3.ap-south-1.amazonaws.com/",t.image,"",d.Ic)}}function Ce(t,e){if(1&t){const t=d.bc();d.Yb(0),d.ac(1,"div",129),d.ac(2,"div",116),d.Oc(3,Ee,7,1,"div",130),d.pc(4,"async"),d.Zb(),d.Zb(),d.ac(5,"div",131),d.ac(6,"div",85),d.ac(7,"label",132),d.Qc(8," Upload Chart"),d.Zb(),d.ac(9,"input",133),d.lc("change",function(e){return d.Gc(t),d.oc(2).uploadImage(e)}),d.Zb(),d.Zb(),d.Zb(),d.Xb()}if(2&t){const t=d.oc(2);d.Hb(3),d.wc("ngForOf",d.qc(4,1,t.JournalImages$))}}const De=function(){return{keywordtype:"Stock Type"}},Pe=function(){return{keywordtype:"Option Strategy"}},He=function(){return{keywordtype:"Trade Status"}};function Ne(t,e){if(1&t){const t=d.bc();d.ac(0,"div",18),d.ac(1,"form",19),d.lc("ngSubmit",function(){return d.Gc(t),d.oc().save()}),d.Oc(2,Yt,7,2,"div",20),d.ac(3,"div",21),d.Vb(4,"div",22),d.ac(5,"div",23),d.ac(6,"div",24),d.ac(7,"div",25),d.Oc(8,Rt,1,1,"ng-template",null,26,d.Pc),d.ac(10,"label"),d.Qc(11,"Stock Symbol"),d.Zb(),d.ac(12,"div",27),d.ac(13,"input",28),d.lc("ngModelChange",function(e){return d.Gc(t),d.oc().SelStockSymbol=e})("blur",function(){return d.Gc(t),d.oc().getFyersLTP()}),d.Zb(),d.ac(14,"div",29),d.ac(15,"span",30),d.Vb(16,"i",31),d.Zb(),d.Zb(),d.Zb(),d.Oc(17,Ut,5,2,"div",32),d.Zb(),d.ac(18,"div",25),d.ac(19,"label"),d.Qc(20,"Type"),d.Zb(),d.ac(21,"select",33),d.lc("change",function(){return d.Gc(t),d.oc().typeChange()}),d.Vb(22,"option",34),d.Oc(23,Bt,2,2,"option",35),d.pc(24,"sortBy"),d.pc(25,"searchBy"),d.pc(26,"async"),d.Zb(),d.Zb(),d.ac(27,"div",25),d.ac(28,"label"),d.Qc(29,"Strategy"),d.Zb(),d.ac(30,"select",36),d.Vb(31,"option",34),d.Oc(32,Wt,2,2,"option",35),d.pc(33,"sortBy"),d.pc(34,"searchBy"),d.pc(35,"async"),d.Zb(),d.Zb(),d.ac(36,"div",25),d.ac(37,"label"),d.Qc(38,"Status"),d.Zb(),d.ac(39,"select",37),d.Oc(40,zt,2,2,"option",35),d.pc(41,"sortBy"),d.pc(42,"searchBy"),d.pc(43,"async"),d.Zb(),d.Zb(),d.Zb(),d.Zb(),d.Vb(44,"div",22),d.Zb(),d.Oc(45,Xt,6,0,"div",38),d.Oc(46,Kt,6,1,"div",39),d.Oc(47,ae,5,1,"div",38),d.Oc(48,ie,6,0,"div",38),d.Oc(49,ce,12,9,"div",40),d.Oc(50,pe,5,1,"div",38),d.Oc(51,ge,7,0,"div",41),d.ac(52,"div",42),d.Vb(53,"div",22),d.ac(54,"div",23),d.ac(55,"ul",43),d.ac(56,"li",44),d.lc("click",function(){d.Gc(t);const e=d.oc();return e.changeTab(e.tabs.NOTES_TAB)}),d.ac(57,"a",45),d.Qc(58," Notes "),d.Zb(),d.Zb(),d.ac(59,"li",44),d.lc("click",function(){d.Gc(t);const e=d.oc();return e.changeTab(e.tabs.CHARTS_TAB)}),d.ac(60,"a",46),d.Qc(61,"Charts"),d.Zb(),d.Zb(),d.Zb(),d.Oc(62,Te,15,16,"ng-container",1),d.Oc(63,Ce,10,3,"ng-container",1),d.Zb(),d.Zb(),d.Zb(),d.Zb()}if(2&t){const t=d.Ec(9),e=d.oc();d.Hb(1),d.wc("formGroup",e.formGroup),d.Hb(1),d.wc("ngIf","Closed"===e.formGroup.get("Status").value),d.Hb(11),d.Mb("is-invalid",e.isControlInvalid("StockSymbol")),d.wc("ngModel",e.SelStockSymbol)("ngbTypeahead",e.searchStocks)("inputFormatter",e.formatter)("resultTemplate",t),d.Hb(4),d.wc("ngIf",e.SelStockSymbol),d.Hb(4),d.Mb("is-invalid",e.isControlInvalid("StockType")),d.Hb(1),d.wc("ngValue",null),d.Hb(1),d.wc("ngForOf",d.tc(24,35,d.sc(25,40,d.qc(26,44,e.keywordsService.keywords$),d.zc(68,De),!1),!1,"asc","order")),d.Hb(7),d.Mb("is-invalid",e.isControlInvalid("OptionStrategy")),d.Hb(1),d.wc("ngValue",null),d.Hb(1),d.wc("ngForOf",d.tc(33,46,d.sc(34,51,d.qc(35,55,e.keywordsService.keywords$),d.zc(69,Pe),!1),!1,"asc","order")),d.Hb(7),d.Mb("is-invalid",e.isControlInvalid("Status")),d.Hb(1),d.wc("ngForOf",d.tc(41,57,d.sc(42,62,d.qc(43,66,e.keywordsService.keywords$),d.zc(70,He),!1),!1,"asc","order")),d.Hb(5),d.wc("ngIf","Future"===e.formGroup.get("StockType").value),d.Hb(1),d.wc("ngIf","Future"===e.formGroup.get("StockType").value&&"Closed"!==e.formGroup.get("Status").value&&e.futureTotalLots),d.Hb(1),d.wc("ngIf","Future"===e.formGroup.get("StockType").value),d.Hb(1),d.wc("ngIf","Option"===e.formGroup.get("StockType").value),d.Hb(1),d.wc("ngIf","Option"===e.formGroup.get("StockType").value&&"Closed"!==e.formGroup.get("Status").value&&e.tradejournal.totallots),d.Hb(1),d.wc("ngIf","Option"===e.formGroup.get("StockType").value),d.Hb(1),d.wc("ngIf","Closed"!==e.tradejournal.Status&&"Option"===e.formGroup.get("StockType").value),d.Hb(6),d.Mb("active",e.activeTabId===e.tabs.NOTES_TAB),d.Ib("aria-selected",e.activeTabId===e.tabs.NOTES_TAB),d.Hb(3),d.Mb("active",e.activeTabId===e.tabs.CHARTS_TAB),d.Ib("aria-selected",e.activeTabId===e.tabs.CHARTS_TAB),d.Hb(2),d.wc("ngIf",e.activeTabId===e.tabs.NOTES_TAB),d.Hb(1),d.wc("ngIf",e.activeTabId===e.tabs.CHARTS_TAB)}}function Ve(t,e){1&t&&d.Vb(0,"div",136)}function Me(t,e){if(1&t&&(d.ac(0,"div",137),d.Vb(1,"apx-chart",138),d.Zb()),2&t){const t=d.oc();d.Hb(1),d.wc("series",t.chartOptions.series)("chart",t.chartOptions.chart)("dataLabels",t.chartOptions.dataLabels)("plotOptions",t.chartOptions.plotOptions)("yaxis",t.chartOptions.yaxis)("xaxis",t.chartOptions.xaxis)("title",t.chartOptions.title)("tooltip",t.chartOptions.tooltip)("stroke",t.chartOptions.stroke)("markers",t.chartOptions.markers)("grid",t.chartOptions.grid)("annotations",t.chartOptions.annotations)("noData",t.chartOptions.nodata)("colors",t.chartOptions.colors)}}function Fe(t,e){if(1&t){const t=d.bc();d.Yb(0),d.ac(1,"button",139),d.lc("click",function(){return d.Gc(t),d.oc(2).remove()}),d.Qc(2," Delete "),d.Zb(),d.Xb()}}function je(t,e){if(1&t&&(d.Yb(0),d.Oc(1,Fe,3,0,"ng-container",1),d.Xb()),2&t){const t=d.oc();d.Hb(1),d.wc("ngIf",t.tradejournal.id)}}let Ie=(()=>{class t{constructor(t,e,o,r,a,i,n,c,l,u){this.tradejournalsService=t,this.location=e,this.stockmasterService=o,this.fyersService=r,this.keywordsService=a,this.toastr=i,this.fb=n,this.router=c,this.route=l,this.http=u,this.errorMessage="",this.subscriptions=[],this.optionTypes=[],this.futureTypes=[],this.optionPayOff=[],this.isDirty=!1,this.Months=[],this.Minutes=[],this.Hours=[],this.dropdownSettings={},this.JournalImages=new ct.a(null),this.tabs={NOTES_TAB:0,CHARTS_TAB:1},this.activeTabId=this.tabs.NOTES_TAB,this.searchStocks=t=>t.pipe(Object(P.a)(200),Object(s.a)(t=>""===t?[]:this.stocks.filter(e=>e.stock.toLowerCase().indexOf(t.toLowerCase())>-1).slice(0,10))),this.formatter=t=>t.stock,this.chartOptions={series:[{name:"Pay Off",data:[]}],chart:{height:500,type:"line",toolbar:{show:!1},zoom:{enabled:!1}},colors:[],nodata:{text:"No trades found"},dataLabels:{enabled:!1},stroke:{show:!0,width:3},markers:{size:3,strokeWidth:0,hover:{size:5}},annotations:{},tooltip:{custom:({series:t,seriesIndex:e,dataPointIndex:o,w:r})=>'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+r.config.series[0].data[o].stockname+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Underlying Price : '+r.globals.labels[o].toFixed(2)+'</p><p style="margin-bottom: -15px">Pay Off : '+t[e][o].toFixed(2)+"</p></div></div>",fixed:{enabled:!0,position:"topRight",offsetX:0,offsetY:-40}},yaxis:{labels:{formatter:t=>"\u20b9 "+t,style:{fontSize:"14px"}},title:{offsetX:0,offsetY:0,text:"Pay Off",style:{fontSize:"15px",fontWeight:"normal",color:"#546E7A"}}},xaxis:{labels:{show:!1},title:{offsetX:0,offsetY:0,text:"Price of Underlying",style:{fontSize:"15px",fontWeight:"normal",color:"#546E7A"}}},grid:{xaxis:{lines:{show:!1}}},title:{text:"Total Pay Off Profile",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}}}get JournalImages$(){return this.JournalImages.asObservable()}changeTab(t){this.activeTabId=t}canDeactivate(){return this.isDirty}ngOnInit(){this.EMPTY_JOURNAL={id:void 0,Status:"Plan",StockType:"Option"},this.LTP=0,this.dropdownSettings={singleSelection:!1,idField:"id",textField:"keywordvalue",itemsShowLimit:100,allowSearchFilter:!0,enableCheckAll:!1,maxHeight:300},this.optionTypes=["","Long Call","Long WCall","Long Put","Long WPut","Short Call","Short WCall","Short Put","Short WPut"],this.futureTypes=["","Long","Short"],this.Months=N.a.monthsShort(),this.Minutes=["0","1","5","10","15","20","25","30","35","40","45","50","55"],this.Hours=["9","10","11","12","13","14","15"],this.fyersService.fyersLTP$=0,this.keywordsService.fetch();const t=this.stockmasterService.stockmasters$.pipe(Object(s.a)(t=>{t.length?this.stocks=t:this.stockmasterService.fetch()}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(t);const e=this.fyersService.fyersLTP$.pipe(Object(s.a)(t=>{this.LTP=t,Number(t)>0&&this.analyse()}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(t),this.subscriptions.push(e),this.loadJournal()}loadJournal(){const t=this.route.paramMap.pipe(Object(st.a)(t=>(this.id=t.get("id"),this.id?this.tradejournalsService.getItemById(this.id):Object(J.a)(this.EMPTY_JOURNAL))),Object(l.a)(t=>(this.errorMessage=t,Object(J.a)(void 0)))).subscribe(t=>{t?(t.data?(this.tradejournal=t.data.tradejournal,this.SelStockSymbol=this.stocks.filter(t=>t.stock===this.tradejournal.StockSymbol),this.JournalImages.next(this.tradejournal.journalImage),this.SelStockSymbol.stock=this.tradejournal.StockSymbol,this.SelStockSymbol.lots=this.tradejournal.lots,this.getFyersLTP()):this.tradejournal=t,this.loadForm()):this.router.navigate(["/trade/openPositions"],{relativeTo:this.route})});this.subscriptions.push(t)}loadForm(){if(!this.tradejournal)return;this.formGroup=this.fb.group({StockSymbol:[this.tradejournal.StockSymbol,i.r.compose([i.r.required])],StockName:[this.tradejournal.StockName],OptionStrategy:[this.tradejournal.OptionStrategy,i.r.compose([i.r.required])],StockType:[this.tradejournal.StockType,i.r.compose([i.r.required])],Status:[this.tradejournal.Status,i.r.compose([i.r.required])],Notes:[this.tradejournal.Notes],AllTradeTag:[this.tradejournal.AllTradeTag],TradesOptionsEntry:this.fb.array([]),TradesFuturesEntry:this.fb.array([]),tradeHour:this.fb.array([])}),this.tradejournal.TradesOptionsEntry?(this.formGroup.patchValue({TradesOptionsEntry:this.tradejournal.TradesOptionsEntry}),this.setTradesOptionsEntry()):this.addTradesOptionsEntry(),this.tradejournal.tradeHour?(this.formGroup.patchValue({tradeHour:this.tradejournal.tradeHour}),this.settradeHour()):this.addtradeHour(),this.tradejournal.TradesFuturesEntry?(this.formGroup.patchValue({TradesFuturesEntry:this.tradejournal.TradesFuturesEntry}),this.setTradesFuturesEntry()):this.addTradesFuturesEntry();const t=this.formGroup.valueChanges.subscribe(t=>this.isDirty=!0);this.subscriptions.push(t)}settradeHour(){this.tradejournal.tradeHour.forEach(t=>{this.tradeHour.push(this.fb.group(t))})}setTradesOptionsEntry(){this.tradejournal.TradesOptionsEntry.forEach(t=>{t.EntryDate&&(t.EntryDate=N()(t.EntryDate).format("M/DD/YYYY").toString()),t.ExitDate&&(t.ExitDate=N()(t.ExitDate).format("M/DD/YYYY").toString()),t.tradesymbol||(t.tradesymbol=""),this.TradesOptionsEntry.push(this.fb.group(t))})}setTradesFuturesEntry(){this.tradejournal.TradesFuturesEntry.forEach(t=>{t.futuresEntryDate&&(t.futuresEntryDate=N()(t.futuresEntryDate).format("M/DD/YYYY").toString()),t.futuresExitDate&&(t.futuresExitDate=N()(t.futuresExitDate).format("M/DD/YYYY").toString()),t.futuresTradeSymbol||(t.futuresTradeSymbol=""),this.TradesFuturesEntry.push(this.fb.group(t))})}newTradesOptionsEntry(){const t={EntryDate:N()().format("M/DD/YYYY").toString(),month:N()().format("MMM"),ExitDate:null,strike:null,type:null,entrylots:null,optionbreakeven:null,optionmaxrisk:null,optionmaxreward:null,optionpremium:null,profitloss:null,entryprice:null,exitprice:null,tradesymbol:null,Notes:null};return this.fb.group({EntryDate:[t.EntryDate],month:[t.month],type:[t.type],strike:[t.strike],entrylots:[t.entrylots],optionbreakeven:[t.optionbreakeven],optionmaxrisk:[t.optionmaxrisk],optionmaxreward:[t.optionmaxreward],optionpremium:[t.optionpremium],profitloss:[t.profitloss],entryprice:[t.entryprice],ExitDate:[t.ExitDate],exitprice:[t.exitprice],tradesymbol:[t.tradesymbol]})}newTradesFuturesEntry(){const t={futuresEntryDate:N()().format("M/DD/YYYY").toString(),futuresExitDate:null,futuresType:null,futuresEntryLots:null,futuresProfitLoss:null,futuresEntryPrice:null,futuresExitPrice:null,futuresTradeSymbol:null};return this.fb.group({futuresEntryDate:[t.futuresEntryDate],futuresType:[t.futuresType],futuresEntryLots:[t.futuresEntryLots],futuresProfitLoss:[t.futuresProfitLoss],futuresEntryPrice:[t.futuresEntryPrice],futuresExitDate:[t.futuresExitDate],futuresExitPrice:[t.futuresExitPrice],futuresTradeSymbol:[t.futuresTradeSymbol]})}newTradeHour(){return this.fb.group({entryHour:[null],entryMinute:[null],exitHour:[null],exitMinute:[null],outcome:[null]})}get tradeHour(){return this.formGroup.get("tradeHour")}addtradeHour(){this.tradeHour.push(this.newTradeHour())}removetradeHour(t){confirm("Are you sure remove entry? ")&&this.tradeHour.removeAt(t)}get TradesOptionsEntry(){return this.formGroup.get("TradesOptionsEntry")}addTradesOptionsEntry(){this.TradesOptionsEntry.push(this.newTradesOptionsEntry())}removeTradesOptionsEntry(t){confirm("Are you sure remove entry? ")&&this.TradesOptionsEntry.removeAt(t)}get TradesFuturesEntry(){return this.formGroup.get("TradesFuturesEntry")}addTradesFuturesEntry(){this.TradesFuturesEntry.push(this.newTradesFuturesEntry())}setValidators(){"Future"===this.formGroup.get("StockType").value&&("Open"!==this.formGroup.get("Status").value&&"Plan"!==this.formGroup.get("Status").value||this.TradesFuturesEntry.controls.forEach(t=>{t.get("futuresEntryDate").setValidators([i.r.required]),t.get("futuresType").setValidators([i.r.required]),t.get("futuresEntryLots").setValidators([i.r.required]),t.get("futuresEntryPrice").setValidators([i.r.required]),t.get("futuresExitDate").clearValidators(),t.get("futuresExitPrice").clearValidators(),t.get("futuresEntryDate").updateValueAndValidity(),t.get("futuresType").updateValueAndValidity(),t.get("futuresEntryLots").updateValueAndValidity(),t.get("futuresEntryPrice").updateValueAndValidity(),t.get("futuresExitDate").updateValueAndValidity(),t.get("futuresExitPrice").updateValueAndValidity()}),"Closed"===this.formGroup.get("Status").value&&this.TradesFuturesEntry.controls.forEach(t=>{t.get("futuresEntryDate").setValidators([i.r.required]),t.get("futuresType").setValidators([i.r.required]),t.get("futuresEntryLots").setValidators([i.r.required]),t.get("futuresEntryPrice").setValidators([i.r.required]),t.get("futuresExitDate").setValidators([i.r.required]),t.get("futuresExitPrice").setValidators([i.r.required]),t.get("futuresEntryDate").updateValueAndValidity(),t.get("futuresType").updateValueAndValidity(),t.get("futuresEntryLots").updateValueAndValidity(),t.get("futuresEntryPrice").updateValueAndValidity(),t.get("futuresExitDate").updateValueAndValidity(),t.get("futuresExitPrice").updateValueAndValidity()})),"Option"===this.formGroup.get("StockType").value&&("Open"===this.formGroup.get("Status").value&&this.TradesOptionsEntry.controls.forEach(t=>{t.get("EntryDate").setValidators([i.r.required]),t.get("month").setValidators([i.r.required]),t.get("type").setValidators([i.r.required]),t.get("strike").setValidators([i.r.required]),t.get("entrylots").setValidators([i.r.required]),t.get("entryprice").setValidators([i.r.required]),t.get("ExitDate").clearValidators(),t.get("exitprice").clearValidators(),t.get("EntryDate").updateValueAndValidity(),t.get("month").updateValueAndValidity(),t.get("type").updateValueAndValidity(),t.get("strike").updateValueAndValidity(),t.get("entrylots").updateValueAndValidity(),t.get("entryprice").updateValueAndValidity(),t.get("ExitDate").updateValueAndValidity(),t.get("exitprice").updateValueAndValidity()}),"Closed"===this.formGroup.get("Status").value&&this.TradesOptionsEntry.controls.forEach(t=>{t.get("EntryDate").setValidators([i.r.required]),t.get("month").setValidators([i.r.required]),t.get("type").setValidators([i.r.required]),t.get("strike").setValidators([i.r.required]),t.get("entrylots").setValidators([i.r.required]),t.get("entryprice").setValidators([i.r.required]),t.get("ExitDate").setValidators([i.r.required]),t.get("exitprice").setValidators([i.r.required]),t.get("EntryDate").updateValueAndValidity(),t.get("month").updateValueAndValidity(),t.get("type").updateValueAndValidity(),t.get("strike").updateValueAndValidity(),t.get("entrylots").updateValueAndValidity(),t.get("entryprice").updateValueAndValidity(),t.get("ExitDate").updateValueAndValidity(),t.get("exitprice").updateValueAndValidity()}),"Plan"===this.formGroup.get("Status").value&&this.TradesOptionsEntry.controls.forEach(t=>{t.get("EntryDate").setValidators([i.r.required]),t.get("month").setValidators([i.r.required]),t.get("type").setValidators([i.r.required]),t.get("strike").setValidators([i.r.required]),t.get("entrylots").setValidators([i.r.required]),t.get("entryprice").setValidators([i.r.required]),t.get("ExitDate").clearValidators(),t.get("exitprice").clearValidators(),t.get("EntryDate").updateValueAndValidity(),t.get("month").updateValueAndValidity(),t.get("type").updateValueAndValidity(),t.get("strike").updateValueAndValidity(),t.get("entrylots").updateValueAndValidity(),t.get("entryprice").updateValueAndValidity(),t.get("ExitDate").updateValueAndValidity(),t.get("exitprice").updateValueAndValidity()}))}getFyersOptionPrice(t){const e=this.TradesOptionsEntry.controls[t].get("strike").value,o=this.TradesOptionsEntry.controls[t].get("type").value,r=this.TradesOptionsEntry.controls[t].get("EntryDate").value;if(this.SelStockSymbol&&e&&o&&r){const a=this.SelStockSymbol.stock;let i="";if("Long Call"!==o&&"Short Call"!==o||(i=("NSE:"+a+N()(r).format("YYMMM")+e+"CE").toUpperCase()),"Long Put"!==o&&"Short Put"!==o||(i=("NSE:"+a+N()(r).format("YYMMM")+e+"PE").toUpperCase()),"Long WCall"!==o&&"Short WCall"!==o||(i=("NSE:"+a+N()(r).format("YYMDD")+e+"CE").toUpperCase(),"Oct"===N()(r).format("MMM")&&(i="NSE:"+a+N()(r).format("YY")+"O"+N()(r).format("DD")+e+"CE"),"Nov"===N()(r).format("MMM")&&(i="NSE:"+a+N()(r).format("YY")+"N"+N()(r).format("DD")+e+"CE"),"Dec"===N()(r).format("MMM")&&(i="NSE:"+a+N()(r).format("YY")+"D"+N()(r).format("DD")+e+"CE")),"Long WPut"!==o&&"Short WPut"!==o||(i=("NSE:"+a+N()(r).format("YYMDD")+e+"PE").toUpperCase(),"Oct"===N()(r).format("MMM")&&(i="NSE:"+a+N()(r).format("YY")+"O"+N()(r).format("DD")+e+"PE"),"Nov"===N()(r).format("MMM")&&(i="NSE:"+a+N()(r).format("YY")+"N"+N()(r).format("DD")+e+"PE"),"Dec"===N()(r).format("MMM")&&(i="NSE:"+a+N()(r).format("YY")+"D"+N()(r).format("DD")+e+"PE")),this.TradesOptionsEntry.controls[t].get("tradesymbol").setValue(i.toUpperCase()+"-MARGIN"),"Plan"===this.formGroup.get("Status").value){this.fyersService.fyersOptionPrice$=0,this.fyersService.getFyersOptionPrice({symbol:i});const e=this.fyersService.fyersOptionPrice$.pipe(Object(lt.a)(2),Object(s.a)(e=>{this.TradesOptionsEntry.controls[t].get("entryprice").setValue(e.toString())}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(e)}if("Open"===this.formGroup.get("Status").value&&("Long Call Intraday"===this.formGroup.get("OptionStrategy").value||"Long Put Intraday"===this.formGroup.get("OptionStrategy").value||"Short Call Intraday"===this.formGroup.get("OptionStrategy").value||"Short Put Intraday"===this.formGroup.get("OptionStrategy").value)){this.fyersService.fyersOptionPrice$=0,this.fyersService.getFyersOptionPrice({symbol:i});const e=this.fyersService.fyersOptionPrice$.pipe(Object(lt.a)(2),Object(s.a)(e=>{this.TradesOptionsEntry.controls[t].get("entryprice").setValue(e.toString())}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(e)}}}getFyersFuturePrice(t){const e=this.TradesFuturesEntry.controls[t].get("futuresEntryDate").value;if(this.SelStockSymbol){let o="";if(o=this.SelStockSymbol.stock+N()(e).format("YYMMM")+"FUT",o="NSE:"+o.toUpperCase(),this.TradesFuturesEntry.controls[t].get("futuresTradeSymbol").setValue(o+"-MARGIN"),this.futureAnalyse(),"Plan"===this.formGroup.get("Status").value){this.fyersService.fyersFuturePrice$=0,this.fyersService.getFyersFuturePrice({symbol:o});const e=this.fyersService.fyersFuturePrice$.pipe(Object(lt.a)(2),Object(s.a)(e=>{this.TradesFuturesEntry.controls[t].get("futuresEntryPrice").setValue(e.toString())}),Object(l.a)(t=>t)).subscribe();this.subscriptions.push(e)}}}typeChange(){"Future"===this.formGroup.controls.StockType.value?(this.formGroup.controls.OptionStrategy.setValue("Futures Intraday"),this.formGroup.controls.Status.setValue("Plan")):(this.formGroup.controls.OptionStrategy.setValue(""),this.formGroup.controls.Status.setValue("Plan"))}getFyersLTP(){if("Closed"!==this.tradejournal.Status){this.fyersService.fyersLTP$=0;let t=this.SelStockSymbol.stock;this.SelStockSymbol.lots&&(this.tradejournal.lots=this.SelStockSymbol.lots),t="NSE:"+t+"-EQ","NIFTY"===this.SelStockSymbol.stock&&(t="NSE:NIFTY50-INDEX"),"BANKNIFTY"===this.SelStockSymbol.stock&&(t="NSE:NIFTYBANK-INDEX"),this.fyersService.getFyersLTP({symbol:t})}}optTotals(t){if("Option"===this.formGroup.get("StockType").value){const e=this.TradesOptionsEntry.controls[t].get("strike").value,o=this.TradesOptionsEntry.controls[t].get("type").value,r=this.TradesOptionsEntry.controls[t].get("entrylots").value,a=this.TradesOptionsEntry.controls[t].get("entryprice").value,i=this.TradesOptionsEntry.controls[t].get("exitprice").value;if(this.SelStockSymbol&&null!==e&&null!==o&&null!==r&&null!==a){if("Long Call"===o||"Long WCall"===o){const o=Number(a)*Number(r),n=Number(e)*Number(r),c=Number(r),s=Number(n)/Number(c),l=Number(o)/Number(c),u=Number(s)+Number(l),d=Number(o)*Number(this.tradejournal.lots),b="Infinity",p=-Number(o)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(u.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(d.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(b),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(p.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),i){const e=(Number(i)-Number(a))*Number(r)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(e.toFixed(2))}}if("Short Call"===o||"Short WCall"===o){const o=Number(a)*Number(r),n=Number(e)*Number(r),c=Number(r),s=Number(n)/Number(c),l=Number(o)/Number(c),u=Number(s)+Number(l),d="Infinity",b=Number(o)*Number(this.tradejournal.lots),p=Number(o)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(u.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(d),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(b.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(p.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),i){const e=(Number(a)-Number(i))*Number(r)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(e.toFixed(2))}}if("Long Put"===o||"Long WPut"===o){const o=Number(a)*Number(r),n=Number(e)*Number(r),c=Number(r),s=Number(n)/Number(c),l=Number(o)/Number(c),u=Number(s)-Number(l),d=Number(o)*Number(this.tradejournal.lots),b=Number(u)*(Number(c)*Number(this.tradejournal.lots)),p=-Number(o)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(u.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(d.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(b.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(p.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),i){const e=(Number(i)-Number(a))*Number(r)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(e.toFixed(2))}}if("Short Put"===o||"Short WPut"===o){const o=Number(a)*Number(r),n=Number(e)*Number(r),c=Number(r),s=Number(n)/Number(c),l=Number(o)/Number(c),u=Number(s)-Number(l),d=Number(u)*(Number(c)*Number(this.tradejournal.lots)),b=Number(o)*Number(this.tradejournal.lots),p=Number(o)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(u.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(d.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(b.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(p.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),i){const e=(Number(a)-Number(i))*Number(r)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(e.toFixed(2))}}}this.optionTotals()}}optionTotals(){if("Option"===this.formGroup.get("StockType").value){let t=0,e=0,o=0,r=0;this.TradesOptionsEntry.controls.forEach(a=>{const i=a.get("type").value,n=a.get("entryprice").value,c=a.get("exitprice").value,s=a.get("profitloss").value,l=a.get("entrylots").value;""!==i&&("Long Call"!==i&&"Long WCall"!==i||(t=Number(t)-Number(n)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),"Short Call"!==i&&"Short WCall"!==i||(t=Number(t)+Number(n)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),"Long Put"!==i&&"Long WPut"!==i||(t=Number(t)-Number(n)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),"Short Put"!==i&&"Short WPut"!==i||(t=Number(t)+Number(n)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),c&&(o=Number(o)+Number(l)),r+=Number(l))}),this.tradejournal.totallots=Number(r)-Number(o),this.tradejournal.optionpremium=Number((Number(t)*Number(this.tradejournal.lots)).toFixed(2)),this.tradejournal.totalgainloss=Number(Number(e).toFixed(2)),this.tradejournal.closedlots=o,this.tradejournal.FirstEntryDate=N()(this.TradesOptionsEntry.controls[0].get("EntryDate").value).format("DD MMM YYYY"),this.TradesOptionsEntry.controls[this.TradesOptionsEntry.length-1].get("ExitDate").value&&(this.tradejournal.LastExitDate=N()(this.TradesOptionsEntry.controls[this.TradesOptionsEntry.length-1].get("ExitDate").value).add(6,"h")),this.tradejournal.TradeType=this.tradejournal.optionpremium>0?"Short":"Long"}}optionPayOffChart(){if("Option"===this.formGroup.get("StockType").value){this.optionPayOff=[];let t="";for(let e=80;e<121;e++){const o={valueNumber:e,payOffPosition:[],priceOfUnderlying:0,annotation:null,totalPayoff:0};this.TradesOptionsEntry.controls.forEach((r,a)=>{const i=r.get("type").value,n=r.get("optionpremium").value,c=r.get("entrylots").value,s=r.get("strike").value;if(""!==i){const r=this.LTP;let a=0,l=0;if(t=r,o.priceOfUnderlying=Number(Number(Number(r)-Number(r)*(1-.01*(e-1))).toFixed(2)),"Long Call"!==i&&"Long WCall"!==i||(a=Number(c)*Number(this.tradejournal.lots),l=Number(a)*Number(Number(o.priceOfUnderlying)-Number(s))+Number(n)),"Short Call"!==i&&"Short WCall"!==i||(a=-Number(c)*Number(this.tradejournal.lots),l=Number(a)*Number(Number(o.priceOfUnderlying)-Number(s))+Number(n)),"Long Put"!==i&&"Long WPut"!==i||(a=Number(c)*Number(this.tradejournal.lots),l=Number(a)*Number(Number(s)-Number(o.priceOfUnderlying))+Number(n)),"Short Put"!==i&&"Short WPut"!==i||(a=-Number(c)*Number(this.tradejournal.lots),l=Number(a)*Number(Number(s)-Number(o.priceOfUnderlying))+Number(n)),Number(a)>0){const t=Math.max(Number(Number(n).toFixed(2)),Number(l.toFixed(2)));o.payOffPosition.push(t)}else{const t=Math.min(Number(Number(n).toFixed(2)),Number(l.toFixed(2)));o.payOffPosition.push(t)}}});let r=0;o.payOffPosition.forEach((t,e)=>{r=Number(r)+Number(t)}),Number(t)===Number(o.priceOfUnderlying)&&(o.annotation=o.priceOfUnderlying),o.totalPayoff=r,this.optionPayOff.push(o),this.updateSeries()}}}updateSeries(){if("Option"===this.formGroup.get("StockType").value){const t=[];let e="",o="";e=this.tradejournal.StockName?this.tradejournal.StockSymbol:this.SelStockSymbol.stock,this.optionPayOff.map(r=>{const a={x:0,y:0,stockname:"",annotation:0};r.annotation&&(o=r.annotation),a.x=r.priceOfUnderlying,a.y=r.totalPayoff,a.stockname=e,t.push(a)}),this.chartOptions.series=[{name:"P&L",data:t}];let r="#008FFB";r=this.tradejournal.optionpremium>0?"#FF4560":"#4CAF50",this.chartOptions.colors=[r],this.chartOptions.annotations={position:"back",yaxis:[{y:0,borderWidth:3,borderColor:"#4CAF50",strokeDashArray:5}],xaxis:[{x:o,strokeDashArray:0,borderColor:"#5653FE",label:{borderColor:"#5653FE",position:"bottom",style:{color:"#fff",background:"#5653FE"},text:o.toString()}}]}}}futureAnalyse(){this.TradesFuturesEntry.controls.forEach((t,e)=>{const o=this.SelStockSymbol.stock,r=t.get("futuresEntryDate").value;let a=0;this.futureTotalLots=t.get("futuresEntryLots").value*this.tradejournal.lots+" ["+t.get("futuresEntryLots").value+" * "+this.tradejournal.lots+"]",this.tradejournal.totallots=Number(t.get("futuresEntryLots").value);const i=o+N()(r).format("YYMMM")+"FUT";t.get("futuresTradeSymbol").setValue("NSE:"+i.toUpperCase()+"-MARGIN");const n=t.get("futuresExitPrice").value,c=t.get("futuresEntryPrice").value,s=t.get("futuresEntryLots").value,l=t.get("futuresType").value,u=Number(s)*Number(this.tradejournal.lots);n&&("Long"===l&&(a=(Number(n)-Number(c))*Number(u)),"Short"===l&&(a=(Number(c)-Number(n))*Number(u)),t.get("futuresProfitLoss").setValue(a.toString()),this.tradejournal.LastExitDate=N()(t.get("futuresExitDate").value).add(6,"h"),this.tradejournal.totalgainloss=Number(Number(a).toFixed(2)))})}analyse(){"Option"===this.formGroup.get("StockType").value&&(this.TradesOptionsEntry.controls.forEach((t,e)=>{this.optTotals(e)}),"Closed"!==this.formGroup.get("Status").value&&this.optionPayOffChart()),"Future"===this.formGroup.get("StockType").value&&this.futureAnalyse()}save(){this.setValidators(),this.formGroup.markAllAsTouched(),this.formGroup.valid?(this.tradejournal=Object.assign(this.tradejournal,this.formGroup.value),this.tradejournal.StockSymbol=this.SelStockSymbol.stock,this.SelStockSymbol.stockname&&(this.tradejournal.StockName=this.SelStockSymbol.stockname),"Option"===this.formGroup.get("StockType").value&&(this.tradejournal.TradeDate=N()(this.TradesOptionsEntry.controls[0].get("EntryDate").value).format("DD MMM YYYY")),"Future"===this.formGroup.get("StockType").value&&(this.futureAnalyse(),this.tradejournal.TradeDate=N()(this.TradesFuturesEntry.controls[0].get("futuresEntryDate").value).format("DD MMM YYYY"),"Closed"===this.formGroup.get("Status").value&&(this.tradejournal.LastExitDate=N()(this.TradesFuturesEntry.controls[0].get("futuresExitDate").value).format("DD MMM YYYY"))),this.tradejournal.id?this.edit():this.create()):this.toastr.error("Please check all fields for errors","Form validations failed")}edit(){"Closed"===this.formGroup.get("Status").value&&(this.tradejournal.ExitPriceLTP||(this.tradejournal.ExitPriceLTP=this.LTP));const t=this.tradejournalsService.update(this.tradejournal).pipe(Object(U.a)(()=>{this.isDirty=!1}),Object(l.a)(t=>Object(J.a)(this.tradejournal))).subscribe(t=>{t.data&&this.formGroup.markAsPristine()});this.subscriptions.push(t)}create(){const t=this.tradejournalsService.create(this.tradejournal).pipe(Object(U.a)(()=>{this.isDirty=!1}),Object(l.a)(t=>Object(J.a)(this.tradejournal))).subscribe(t=>{t.data&&(this.tradejournal.id=t.data.createTradejournal.id)});this.subscriptions.push(t)}remove(){if(confirm("Are you sure to delete "+this.tradejournal.StockSymbol)){this.tradejournal.journalImage&&this.tradejournal.journalImage.forEach(t=>{this.deleteAwsImage(t)});const t=this.tradejournalsService.remove(this.tradejournal.id).pipe(Object(U.a)(()=>{this.isDirty=!1,"Closed"===this.formGroup.get("Status").value&&this.router.navigate(["/trade/closedTrades"]),"Open"===this.formGroup.get("Status").value&&this.router.navigate(["/trade/openPositions"]),"Plan"===this.formGroup.get("Status").value&&this.router.navigate(["/trade/optionsPayoff"])}),Object(l.a)(t=>Object(J.a)(this.tradejournal))).subscribe();this.subscriptions.push(t)}}deleteAwsImage(t){const e=this.tradejournalsService.deleteAWSImage(t.key).pipe(Object(U.a)(()=>{this.isDirty=!0;const e=this.tradejournal.journalImage.indexOf(t);this.tradejournal.journalImage.splice(e,1)}),Object(l.a)(t=>Object(J.a)(null))).subscribe();this.subscriptions.push(e)}uploadImage(t){if(this.tradejournal.id){const e=t.target.files[0];let o=new ut.e;const r=JSON.parse(localStorage.getItem("accessToken"));o=o.append("Authorization","Bearer "+r.token);const a=new FormData;a.append("file",e),this.http.post(dt.a.uploadURL,a,{headers:o}).subscribe({next:t=>{this.tradejournal.journalImage=this.tradejournal.journalImage||[],this.tradejournal.journalImage.push({image:t.key,key:t.key}),this.JournalImages.next(this.tradejournal.journalImage)},error:t=>{this.toastr.error("Image upload failed",t)}})}else this.toastr.error("Save Journal Before uploading images","Image upload")}placeOrder(){if(confirm("Are you sure trade this strategy for "+this.SelStockSymbol.stock)){const t=[];let e=0,o="";if(this.SelStockSymbol){this.TradesOptionsEntry.controls.forEach((r,a)=>{const i=r.get("type").value,n=r.get("entrylots").value,c=r.get("strike").value,s=r.get("EntryDate").value;if(c&&s&&n&&i){const a=this.SelStockSymbol.stock;"Long Call"!==i&&"Short Call"!==i||(o=a+N()(s).format("YYMMM")+c+"CE"),"Long Put"!==i&&"Short Put"!==i||(o=a+N()(s).format("YYMMM")+c+"PE"),"Long WCall"!==i&&"Short WCall"!==i||(o=a+N()(s).format("YYMDD")+c+"CE","Oct"===N()(s).format("MMM")&&(o=a+N()(s).format("YY")+"O"+N()(s).format("DD")+c+"CE"),"Nov"===N()(s).format("MMM")&&(o=a+N()(s).format("YY")+"N"+N()(s).format("DD")+c+"CE"),"Dec"===N()(s).format("MMM")&&(o=a+N()(s).format("YY")+"D"+N()(s).format("DD")+c+"CE")),"Long WPut"!==i&&"Short WPut"!==i||(o=a+N()(s).format("YYMDD")+c+"PE","Oct"===N()(s).format("MMM")&&(o=a+N()(s).format("YY")+"O"+N()(s).format("DD")+c+"PE"),"Nov"===N()(s).format("MMM")&&(o=a+N()(s).format("YY")+"N"+N()(s).format("DD")+c+"PE"),"Dec"===N()(s).format("MMM")&&(o=a+N()(s).format("YY")+"D"+N()(s).format("DD")+c+"PE")),"Long Call"!==i&&"Long WCall"!==i&&"Long Put"!==i&&"Long WPut"!==i||(e=1),"Short Call"!==i&&"Short WCall"!==i&&"Short Put"!==i&&"Short WPut"!==i||(e=-1),r.get("tradesymbol").setValue("NSE:"+o.toUpperCase()+"-MARGIN");const l={symbol:"NSE:"+o,qty:Number(Number(Number(this.SelStockSymbol.lots)*Number(n)).toFixed(0)),type:2,side:e,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};t.push(l)}});const r={placeOrder:t};null!==r&&this.fyersService.placeFyersOrder(r)}}}backClicked(){this.location.back()}getProfitColor(t){return Number(t)>0?"green":"red"}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}isControlValid(t){const e=this.formGroup.controls[t];return e.valid&&(e.dirty||e.touched)}isControlInvalid(t){const e=this.formGroup.controls[t];return e.invalid&&(e.dirty||e.touched)}controlHasError(t,e){const o=this.formGroup.controls[e];return o.hasError(t)&&(o.dirty||o.touched)}isControlTouched(t){const e=this.formGroup.controls[t];return e.dirty||e.touched}}return t.\u0275fac=function(e){return new(e||t)(d.Ub(b.a),d.Ub(r.k),d.Ub(V.a),d.Ub(B.a),d.Ub(bt.a),d.Ub(pt.b),d.Ub(i.c),d.Ub(p.h),d.Ub(p.a),d.Ub(ut.c))},t.\u0275cmp=d.Ob({type:t,selectors:[["app-trade-journal"]],viewQuery:function(t,e){var o;1&t&&d.Lc(Nt,!0),2&t&&d.Dc(o=d.mc())&&(e.chart=o.first)},features:[d.Gb([{provide:a.b,useClass:D.b},{provide:a.c,useClass:D.c}])],decls:22,vars:11,consts:[[1,"card","card-custom","gutter-b"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button",1,"btn","btn-light",3,"click"],[1,"fa","fa-arrow-left"],["type","button",1,"btn","btn-success","ml-2",3,"click"],[1,"card-body"],["class","mt-5",4,"ngIf"],["class","separator separator-dashed my-10",4,"ngIf"],["id","chart",4,"ngIf"],[1,"card-footer","d-flex","justify-content-between"],[1,"col","text-right"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],["type","button",1,"btn","btn-primary","font-weight-bold","ml-2",3,"click"],[1,"mt-5"],["action","#",1,"form","form-label-right",3,"formGroup","ngSubmit"],["class","row mt-5 mb-10",4,"ngIf"],[1,"form-group","row"],[1,"col-lg-1"],[1,"col-lg-10"],[1,"row"],[1,"col-lg-3"],["rt",""],[1,"input-group"],["type","text","name","StockSymbol","placeholder","Stock Symbol","autocomplete","off","formControlName","StockSymbol",1,"form-control",3,"ngModel","ngbTypeahead","inputFormatter","resultTemplate","ngModelChange","blur"],[1,"input-group-append"],[1,"input-group-text"],[1,"flaticon-layer"],["class","feedback mt-2 ml-5",4,"ngIf"],["name","StockType","formControlName","StockType",1,"form-control",3,"change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","OptionStrategy","formControlName","OptionStrategy",1,"form-control"],["name","Status","formControlName","Status",1,"form-control"],["class","form-group row",4,"ngIf"],["class","row mt-1 mb-0",4,"ngIf"],["class","row mt-5 mb-0",4,"ngIf"],["class","row mt-0",4,"ngIf"],[1,"row","mt-0"],["role","tablist",1,"nav","nav-tabs","nav-tabs-line"],[1,"nav-item","cursor-pointer",3,"click"],["data-toggle","tab","role","tab",1,"nav-link"],["data-toggle","tab","role","button",1,"nav-link"],[1,"row","mt-5","mb-10"],[1,"card","card-custom","bg-light-danger","text-dark","font-size-lg"],["class","card-body","style","padding: 1.3rem 2.25rem !important",4,"ngIf"],[1,"card-body",2,"padding","1.3rem 2.25rem !important"],[1,"col-lg-4"],[3,"ngStyle"],[1,"feedback","mt-2","ml-5"],["class","col-lg-7",4,"ngIf"],[1,"col-lg-5"],[1,"col-lg-7"],["ltpLoading",""],[4,"ngIf","ngIfElse"],[1,"icon-md","text-primary","flaticon-refresh","text-hover-primary","cursor-pointer","ml-3",3,"click"],[1,"spinner","spinner-primary","spinner-sm","ml-2","mt-2"],[1,"col-lg-9"],[1,"text-dark","font-weight-bold","mb-0"],[1,"row","mt-1","mb-0"],[1,"col-lg-8"],[1,"row","font-weight-bold","font-size-lg","text-muted"],[1,"col-lg-6","mt-3"],["class","row form-group","formArrayName","TradesFuturesEntry",4,"ngFor","ngForOf"],["formArrayName","TradesFuturesEntry",1,"row","form-group"],[1,"col-sm-12",3,"formGroupName"],[1,"card","card-custom","bg-light-primary"],[1,"col-lg-2"],["type","text","name","futuresEntryDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","futuresEntryDate",1,"form-control"],["to","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"text-dark-50","flaticon-calendar"],["formControlName","futuresType",1,"form-control"],["type","text","name","futuresEntryLots","autocomplete","off","formControlName","futuresEntryLots",1,"form-control",3,"blur"],["type","text","name","futuresEntryPrice","autocomplete","off","formControlName","futuresEntryPrice",1,"form-control",3,"blur"],["type","text","name","futuresExitPrice","autocomplete","off","formControlName","futuresExitPrice",1,"form-control",3,"blur"],["type","text","name","futuresExitDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","futuresExitDate",1,"form-control"],["exit","ngbDatepicker"],[1,"text-right","mt-3",2,"margin-bottom","-25px !important"],[1,"text-left","mt-3",2,"margin-left","25px !important"],["class","col-lg-12 text-right",4,"ngIf"],[1,"col-lg-12","text-right"],["class","btn btn-text-danger btn-icon-danger",3,"click",4,"ngIf"],[1,"btn","btn-text-danger","btn-icon-danger",3,"click"],[1,"flaticon-close"],[1,"row","mt-5","mb-0"],[1,"col-lg-6"],[1,"col-lg-4","mt-3"],["class","col-lg-4",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light-info",3,"click"],[1,"flaticon2-shopping-cart-1"],["class","row form-group","formArrayName","TradesOptionsEntry",4,"ngFor","ngForOf"],["formArrayName","TradesOptionsEntry",1,"row","form-group"],["type","text","name","toDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","EntryDate",1,"form-control"],["formControlName","type",1,"form-control"],["formControlName","month",1,"form-control"],["type","text","name","strike","autocomplete","off","formControlName","strike",1,"form-control",3,"blur"],["type","text","name","entrylots","autocomplete","off","formControlName","entrylots",1,"form-control",3,"blur"],["type","text","name","entryprice","autocomplete","off","formControlName","entryprice",1,"form-control",3,"blur"],[1,"row","mt-5"],["type","text","name","ExitDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","ExitDate",1,"form-control"],["type","text","name","optionmaxrisk","autocomplete","off","readonly","","formControlName","optionmaxrisk",1,"form-control"],["type","text","name","optionmaxreward","autocomplete","off","readonly","","formControlName","optionmaxreward",1,"form-control"],["type","text","name","optionbreakeven","autocomplete","off","readonly","","formControlName","optionbreakeven",1,"form-control"],["type","text","name","optionpremium","autocomplete","off","readonly","","formControlName","optionpremium",1,"form-control"],["type","text","name","exitprice","autocomplete","off","formControlName","exitprice",1,"form-control",3,"blur"],[1,"text-left","mt-3",2,"margin-left","10px !important"],[1,"col-lg-10","text-right"],[1,"btn","btn-text-success","btn-icon-success","font-weight-bolder","text-right",3,"click"],[1,"flaticon2-add"],["class","row form-group mt-5","formArrayName","tradeHour",4,"ngFor","ngForOf"],[1,"form-group","row","ml-5","mr-5","mt-5"],[1,"col-lg-12"],["formControlName","AllTradeTag",3,"settings","data"],[1,"form-group","row","ml-5","mr-5","mt-10"],["name","Notes","formControlName","Notes","placeholder","Notes","rows","10",1,"form-control"],["formArrayName","tradeHour",1,"row","form-group","mt-5"],[1,"card","card-custom","bg-gray-100"],[1,"row",2,"margin-top","-15px","margin-bottom","-5px"],["formControlName","entryHour",1,"form-control"],["formControlName","entryMinute",1,"form-control"],["formControlName","exitHour",1,"form-control"],["formControlName","exitMinute",1,"form-control"],["formControlName","outcome",1,"form-control"],[1,"col-lg-11","text-right"],[1,"row","mt-10"],[4,"ngFor","ngForOf"],[1,"row","mt-10","mr-10"],["for","file",1,"btn","btn-text-success","btn-icon-success","font-weight-bolder","text-right","flaticon-upload"],["type","file","id","file","accept","image/*",3,"change"],[1,"img-fluid",2,"width","1050px","height","580px",3,"src"],[1,"btn","btn-text-danger","btn-icon-danger","flaticon-close",3,"click"],[1,"separator","separator-dashed","my-10"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","stroke","markers","grid","annotations","noData","colors"],["type","button",1,"btn","btn-danger","btn-hover-danger","ml-2",3,"click"]],template:function(t,e){1&t&&(d.ac(0,"div",0),d.Oc(1,Vt,3,0,"ng-container",1),d.pc(2,"async"),d.pc(3,"async"),d.ac(4,"div",2),d.ac(5,"div",3),d.ac(6,"h3",4),d.Oc(7,jt,3,2,"ng-container",1),d.Zb(),d.Zb(),d.ac(8,"div",5),d.ac(9,"button",6),d.lc("click",function(){return e.backClicked()}),d.Vb(10,"i",7),d.Qc(11,"Back "),d.Zb(),d.ac(12,"button",8),d.lc("click",function(){return e.analyse()}),d.Qc(13," Analyse "),d.Zb(),d.Oc(14,At,4,2,"span",1),d.Zb(),d.Zb(),d.ac(15,"div",9),d.Oc(16,Ne,64,71,"div",10),d.Oc(17,Ve,1,0,"div",11),d.Oc(18,Me,2,14,"div",12),d.Zb(),d.ac(19,"div",13),d.ac(20,"div",14),d.Oc(21,je,2,1,"ng-container",1),d.Zb(),d.Zb(),d.Zb()),2&t&&(d.Hb(1),d.wc("ngIf",d.qc(2,7,e.tradejournalsService.isLoading$)||d.qc(3,9,e.fyersService.isLoading$)),d.Hb(6),d.wc("ngIf",e.tradejournal),d.Hb(7),d.wc("ngIf",e.tradejournal),d.Hb(2),d.wc("ngIf",e.tradejournal),d.Hb(1),d.wc("ngIf",e.optionPayOff.length>0&&"Option"===e.formGroup.get("StockType").value),d.Hb(1),d.wc("ngIf",e.optionPayOff.length>0&&"Option"===e.formGroup.get("StockType").value&&"Long Call Intraday"!==e.formGroup.get("OptionStrategy").value&&"Long Put Intraday"!==e.formGroup.get("OptionStrategy").value&&"Short Call Intraday"!==e.formGroup.get("OptionStrategy").value&&"Short Put Intraday"!==e.formGroup.get("OptionStrategy").value),d.Hb(3),d.wc("ngIf",e.tradejournal))},directives:[r.o,i.t,i.k,i.e,i.a,a.o,i.j,i.d,i.q,i.m,i.s,r.n,r.p,i.b,i.f,a.i,Et,Ht.a],pipes:[r.b,y.a,f.a,r.d],styles:["#chart[_ngcontent-%COMP%]{max-width:75%;margin:35px auto}"]}),t})(),Qe=(()=>{class t{canDeactivate(t,e,o){return!t.canDeactivate()||confirm("There are changes you have made to the page. If you quit, you will lose your changes.")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=d.Qb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ae=[{path:"",component:nt,children:[{path:"openPositions",component:it},{path:"closedTrades",component:$},{path:"optionsPayoff",component:C},{path:"tradeJournal/add",component:Ie,canDeactivate:[Qe]},{path:"tradeJournal/edit",component:Ie,canDeactivate:[Qe]},{path:"tradeJournal/edit/:id",component:Ie,canDeactivate:[Qe]},{path:"",redirectTo:"openPositions",pathMatch:"full"},{path:"**",redirectTo:"openPositions",pathMatch:"full"}]}];let Le=(()=>{class t{}return t.\u0275mod=d.Sb({type:t}),t.\u0275inj=d.Rb({factory:function(e){return new(e||t)},imports:[[p.l.forChild(Ae)],p.l]}),t})();var _e=o("oOf3");let Ge=(()=>{class t{}return t.\u0275mod=d.Sb({type:t}),t.\u0275inj=d.Rb({factory:function(e){return new(e||t)},imports:[[r.c,Le,Ht.b,_e.a,m.b,c.a,n.a,i.g,a.l,a.d,i.p,Pt]]}),t})()}}]);