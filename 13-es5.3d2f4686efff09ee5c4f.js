!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{FYdh:function(e,a,i){"use strict";i.r(a),i.d(a,"AnalyticsModule",function(){return xe});var o,s=i("zfYk"),c=i("e8Ap"),l=i("RbrB"),u=i("ofXK"),d=i("wd/R"),h=i.n(d),f=i("cp0P"),p=i("lJxs"),g=i("JIr8"),y=i("fXoL"),v=i("2Vo4"),b=i("LRne"),m=i("vkgz"),x=i("nYR2"),O=i("EZBn"),T=i("5eHb"),k=i("+BVi"),D=((o=function(){function t(e,a,n,i,o,s,c,l){r(this,t),this.getAlgoTradesGQL=e,this.getStockTotalAlgoTradesGQL=a,this.getYearlyTotalAlgoTradesGQL=n,this.getMonthlyTotalAlgoTradesGQL=i,this.getDailyTotalAlgoTradesGQL=o,this.getStockAlgoTradesGQL=s,this.toastr=c,this.authService=l,this.isLoading=new v.a(!1),this.algotrades=new v.a([]),this.stockdetailalgotrades=new v.a([]),this.detailedalgotrades=new v.a([]),this.stockalgotrades=new v.a([]),this.monthalgotrades=new v.a([]),this.dailyalgotrades=new v.a([]),this.stocktotalalgotrades=new v.a([]),this.yearlytotalalgotrades=new v.a([]),this.subscriptions=[],this.errorMessage=new v.a("")}return n(t,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}},{key:"getAlgoTrades",value:function(t){var e=this;this.isLoading.next(!0),this.errorMessage.next("");var r=this.getAlgoTradesGQL.fetch({argsQuery:t}).pipe(Object(m.a)(function(t){t.errors?"Unauthorized"===t.errors[0].message?e.authService.logout():(e.isLoading.next(!1),e.toastr.error(t.errors[0].message,"Algo Trades")):(e.algotrades.next(t.data.getAlgoTrades),e.isLoading.next(!1))}),Object(g.a)(function(t){return e.isLoading.next(!1),e.errorMessage.next(t),e.toastr.error(t.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){e.isLoading.next(!1)})).subscribe();this.subscriptions.push(r)}},{key:"getStockDetailAlgoTrades",value:function(t){var e=this;this.isLoading.next(!0),this.errorMessage.next("");var r=this.getStockAlgoTradesGQL.fetch({argsQuery:t}).pipe(Object(m.a)(function(t){t.errors?"Unauthorized"===t.errors[0].message?e.authService.logout():(e.isLoading.next(!1),e.toastr.error(t.errors[0].message,"Stock Detail Algo Trades")):(e.stockdetailalgotrades.next(t.data.getStockAlgoTrades),e.isLoading.next(!1))}),Object(g.a)(function(t){return e.isLoading.next(!1),e.errorMessage.next(t),e.toastr.error(t.message,"Stock Detail Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){e.isLoading.next(!1)})).subscribe();this.subscriptions.push(r)}},{key:"getDetailedAlgoTrades",value:function(t){var e=this;this.isLoading.next(!0),this.errorMessage.next("");var r=this.getAlgoTradesGQL.fetch({argsQuery:t}).pipe(Object(m.a)(function(t){t.errors?"Unauthorized"===t.errors[0].message?e.authService.logout():(e.isLoading.next(!1),e.toastr.error(t.errors[0].message,"Algo Trades")):(e.detailedalgotrades.next(t.data.getAlgoTrades),e.isLoading.next(!1))}),Object(g.a)(function(t){return e.isLoading.next(!1),e.errorMessage.next(t),e.toastr.error(t.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){e.isLoading.next(!1)})).subscribe();this.subscriptions.push(r)}},{key:"getStockAlgoTrades",value:function(t){var e=this;this.isLoading.next(!0),this.errorMessage.next("");var r=this.getAlgoTradesGQL.fetch({argsQuery:t}).pipe(Object(m.a)(function(t){t.errors?"Unauthorized"===t.errors[0].message?e.authService.logout():(e.isLoading.next(!1),e.toastr.error(t.errors[0].message,"Algo Trades")):(e.stockalgotrades.next(t.data.getAlgoTrades),e.isLoading.next(!1))}),Object(g.a)(function(t){return e.isLoading.next(!1),e.errorMessage.next(t),e.toastr.error(t.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){e.isLoading.next(!1)})).subscribe();this.subscriptions.push(r)}},{key:"getStockTotalAlgoTrades",value:function(){var t=this;this.isLoading.next(!0),this.errorMessage.next("");var e=this.getStockTotalAlgoTradesGQL.fetch().pipe(Object(m.a)(function(e){e.errors?"Unauthorized"===e.errors[0].message?t.authService.logout():(t.isLoading.next(!1),t.toastr.error(e.errors[0].message,"Algo Trades")):(t.stocktotalalgotrades.next(e.data.getStockTotalAlgoTrades),t.isLoading.next(!1))}),Object(g.a)(function(e){return t.isLoading.next(!1),t.errorMessage.next(e),t.toastr.error(e.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){t.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}},{key:"getyearlyTotalAlgoTrades",value:function(){var t=this;this.isLoading.next(!0),this.errorMessage.next("");var e=this.getYearlyTotalAlgoTradesGQL.fetch().pipe(Object(m.a)(function(e){e.errors?"Unauthorized"===e.errors[0].message?t.authService.logout():(t.isLoading.next(!1),t.toastr.error(e.errors[0].message,"Algo Trades")):(t.yearlytotalalgotrades.next(e.data.getYearlyTotalAlgoTrades),t.isLoading.next(!1))}),Object(g.a)(function(e){return t.isLoading.next(!1),t.errorMessage.next(e),t.toastr.error(e.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){t.isLoading.next(!1)})).subscribe();this.subscriptions.push(e)}},{key:"getMonthAlgoTrades",value:function(t){var e=this;this.isLoading.next(!0),this.errorMessage.next("");var r=this.getMonthlyTotalAlgoTradesGQL.fetch({argsQuery:t}).pipe(Object(m.a)(function(t){t.errors?"Unauthorized"===t.errors[0].message?e.authService.logout():(e.isLoading.next(!1),e.toastr.error(t.errors[0].message,"Algo Trades")):(e.monthalgotrades.next(t.data.getMonthlyTotalAlgoTrades),e.isLoading.next(!1))}),Object(g.a)(function(t){return e.isLoading.next(!1),e.errorMessage.next(t),e.toastr.error(t.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){e.isLoading.next(!1)})).subscribe();this.subscriptions.push(r)}},{key:"getDailyAlgoTrades",value:function(t){var e=this;this.isLoading.next(!0),this.errorMessage.next("");var r=this.getDailyTotalAlgoTradesGQL.fetch({argsQuery:t}).pipe(Object(m.a)(function(t){t.errors?"Unauthorized"===t.errors[0].message?e.authService.logout():(e.isLoading.next(!1),e.toastr.error(t.errors[0].message,"Algo Trades")):(e.dailyalgotrades.next(t.data.getDailyTotalAlgoTrades),e.isLoading.next(!1))}),Object(g.a)(function(t){return e.isLoading.next(!1),e.errorMessage.next(t),e.toastr.error(t.message,"Algo Trades"),Object(b.a)(void 0)}),Object(x.a)(function(){e.isLoading.next(!1)})).subscribe();this.subscriptions.push(r)}},{key:"isLoading$",get:function(){return this.isLoading.asObservable()}},{key:"errorMessage$",get:function(){return this.errorMessage.asObservable()}},{key:"algotrades$",get:function(){return this.algotrades.asObservable()}},{key:"stockdetailalgotrades$",get:function(){return this.stockdetailalgotrades.asObservable()}},{key:"detailedalgotrades$",get:function(){return this.detailedalgotrades.asObservable()}},{key:"stockalgotrades$",get:function(){return this.stockalgotrades.asObservable()}},{key:"monthalgotrades$",get:function(){return this.monthalgotrades.asObservable()}},{key:"dailyalgotrades$",get:function(){return this.dailyalgotrades.asObservable()}},{key:"stocktotalalgotrades$",get:function(){return this.stocktotalalgotrades.asObservable()}},{key:"yearlytotalalgotrades$",get:function(){return this.yearlytotalalgotrades.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||o)(y.ic(O.n),y.ic(O.z),y.ic(O.D),y.ic(O.v),y.ic(O.o),y.ic(O.x),y.ic(T.b),y.ic(k.a))},o.\u0275prov=y.Qb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),S=i("VV7X"),w=i("CV0D"),L=["chart"];function _(t,e){1&t&&(y.Yb(0),y.ac(1,"div",14),y.Vb(2,"div",15),y.Zb(),y.Xb())}function P(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function C(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}var M=function(t){return{color:t}};function Z(t,e){if(1&t&&(y.ac(0,"div",16),y.Vb(1,"div",17),y.ac(2,"div",18),y.ac(3,"h4",19),y.Oc(4,P,2,0,"span",1),y.Oc(5,C,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",20),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,M,r.getProfitColor(r.YearlyTotalPL))),y.Hb(1),y.wc("ngIf",r.YearlyTotalPL>0),y.Hb(1),y.wc("ngIf",r.YearlyTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.YearlyTotalPL,"INR","")," ")}}function Y(t,e){if(1&t&&(y.ac(0,"div",21),y.Vb(1,"apx-chart",22),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.chartOptions.series)("chart",r.chartOptions.chart)("dataLabels",r.chartOptions.dataLabels)("plotOptions",r.chartOptions.plotOptions)("yaxis",r.chartOptions.yaxis)("xaxis",r.chartOptions.xaxis)("title",r.chartOptions.title)("tooltip",r.chartOptions.tooltip)("noData",r.chartOptions.nodata)("colors",r.chartOptions.colors)}}function j(t,e){1&t&&y.Vb(0,"div",23)}function W(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function A(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}function I(t,e){if(1&t&&(y.ac(0,"div",24),y.Vb(1,"div",25),y.ac(2,"div",26),y.ac(3,"h4",19),y.Oc(4,W,2,0,"span",1),y.Oc(5,A,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",27),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,M,r.getProfitColor(r.DetailedMonthTotalPL))),y.Hb(1),y.wc("ngIf",r.DetailedMonthTotalPL>0),y.Hb(1),y.wc("ngIf",r.DetailedMonthTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.DetailedMonthTotalPL,"INR","")," ")}}function R(t,e){if(1&t&&(y.ac(0,"div",21),y.Vb(1,"apx-chart",22),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.MonthChartOptions.series)("chart",r.MonthChartOptions.chart)("dataLabels",r.MonthChartOptions.dataLabels)("plotOptions",r.MonthChartOptions.plotOptions)("yaxis",r.MonthChartOptions.yaxis)("xaxis",r.MonthChartOptions.xaxis)("title",r.MonthChartOptions.title)("tooltip",r.MonthChartOptions.tooltip)("noData",r.MonthChartOptions.nodata)("colors",r.MonthChartOptions.colors)}}function E(t,e){1&t&&y.Vb(0,"div",23)}function H(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function F(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}function N(t,e){if(1&t&&(y.ac(0,"div",24),y.Vb(1,"div",25),y.ac(2,"div",26),y.ac(3,"h4",19),y.Oc(4,H,2,0,"span",1),y.Oc(5,F,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",27),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,M,r.getProfitColor(r.DetailedDailyTotalPL))),y.Hb(1),y.wc("ngIf",r.DetailedDailyTotalPL>0),y.Hb(1),y.wc("ngIf",r.DetailedDailyTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.DetailedDailyTotalPL,"INR","")," ")}}function Q(t,e){if(1&t&&(y.ac(0,"div",21),y.Vb(1,"apx-chart",22),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.DailyChartOptions.series)("chart",r.DailyChartOptions.chart)("dataLabels",r.DailyChartOptions.dataLabels)("plotOptions",r.DailyChartOptions.plotOptions)("yaxis",r.DailyChartOptions.yaxis)("xaxis",r.DailyChartOptions.xaxis)("title",r.DailyChartOptions.title)("tooltip",r.DailyChartOptions.tooltip)("noData",r.DailyChartOptions.nodata)("colors",r.DailyChartOptions.colors)}}function V(t,e){1&t&&y.Vb(0,"div",23)}function z(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function B(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}function $(t,e){if(1&t&&(y.ac(0,"div",28),y.Vb(1,"div",17),y.ac(2,"div",18),y.ac(3,"h4",19),y.Oc(4,z,2,0,"span",1),y.Oc(5,B,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",20),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,M,r.getProfitColor(r.DailyTotalPL))),y.Hb(1),y.wc("ngIf",r.DailyTotalPL>0),y.Hb(1),y.wc("ngIf",r.DailyTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.DailyTotalPL,"INR","")," ")}}function U(t,e){if(1&t&&(y.ac(0,"div",21),y.Vb(1,"apx-chart",22),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.DetailedChartOptions.series)("chart",r.DetailedChartOptions.chart)("dataLabels",r.DetailedChartOptions.dataLabels)("plotOptions",r.DetailedChartOptions.plotOptions)("yaxis",r.DetailedChartOptions.yaxis)("xaxis",r.DetailedChartOptions.xaxis)("title",r.DetailedChartOptions.title)("tooltip",r.DetailedChartOptions.tooltip)("noData",r.DetailedChartOptions.nodata)("colors",r.DetailedChartOptions.colors)}}var J,G=((J=function(){function t(e,a){var n=this;r(this,t),this.algotradesService=e,this.tradejournalsService=a,this.yearlytotalalgotrades=[],this.yearlytotaltradejournals=[],this.monthlytotaltradejournals=[],this.dailytotaltradejournals=[],this.detailedtradejournals=[],this.combineTrades=[],this.YearlyTotalPL=0,this.DetailedMonthTotalPL=0,this.DetailedDailyTotalPL=0,this.subscriptions=[],this.totalTrades=0,this.GetSortOrder=function(t){return function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}},this.chartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){n.getMonthAlgoTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},colors:["#FF9800"],nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Trades : '+n.config.series[0].data[a].trades+'</p><p style="margin-bottom: -15px">P&L : '+e[r][a]+"</p></div></div>"}},title:{text:"Yearly Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!0}}},this.MonthChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){n.getDailyAlgoTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},colors:["#FD6A6A"],nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+t.w.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p style="margin-bottom: -15px">P&L : '+e[r][a]+"</p></div></div>"}},title:{text:""},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!0}}},this.DailyChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){n.getAlgoTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},colors:["#43BCCD"],nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+t.w.globals.labels[a]+" "+n.selectedMonth+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p style="margin-bottom: -15px">P&L : '+e[r][a]+"</p></div></div>"}},title:{text:""},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!0}}},this.DetailedChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1}},colors:["#C4BBAF"],nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Date : '+n.config.series[0].data[a].tradedate+'</p><p style="margin-bottom: -15px">P&L : '+e[r][a]+"</p></div></div>"}},title:{text:""},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}}}return n(t,[{key:"ngOnInit",value:function(){var t=this,e=Object(f.a)({algotrades:this.algotradesService.yearlytotalalgotrades$.pipe(Object(p.a)(function(e){t.yearlytotalalgotrades=[],t.yearlytotalalgotrades=e.map(function(t){return{x:t._id,y:t.Profit,trades:t.Trades}}),t.updateYearlySeries()}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.yearlytotaltradejournals$.pipe(Object(p.a)(function(e){t.yearlytotaltradejournals=[],t.yearlytotaltradejournals=e.map(function(t){return{x:t._id,y:t.Profit,trades:t.Trades}}),t.updateYearlySeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(e);var r=Object(f.a)({algotrades:this.algotradesService.monthalgotrades$.pipe(Object(p.a)(function(e){t.monthalgotrades=[],t.monthalgotrades=e.map(function(t){return{x:h()(t._id,"M").format("MMM"),y:t.Profit,trades:t.Trades}}),t.updateDetailedMonthSeries()}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.monthlytotaltradejournals$.pipe(Object(p.a)(function(e){t.monthlytotaltradejournals=[],t.monthlytotaltradejournals=e.map(function(t){return{x:h()(t._id,"M").format("MMM"),y:t.Profit,trades:t.Trades}}),t.updateDetailedMonthSeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(r);var a=Object(f.a)({algotrades:this.algotradesService.dailyalgotrades$.pipe(Object(p.a)(function(e){t.dailyalgotrades=[],t.dailyalgotrades=e.map(function(t){return{x:t._id,y:t.Profit,trades:t.Trades}}),t.updateDetailedDailySeries()}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.dailytotaltradejournals$.pipe(Object(p.a)(function(e){t.dailytotaltradejournals=[],t.dailytotaltradejournals=e.map(function(t){return{x:t._id,y:t.Profit,trades:t.Trades}}),t.updateDetailedDailySeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(a);var n=Object(f.a)({algotrades:this.algotradesService.detailedalgotrades$.pipe(Object(p.a)(function(e){t.algotrades=[],t.algotrades=e.map(function(t){return{x:t.Stock,y:t.Profit,tradedate:h()(t.tradedate).format("DD MMM YYYY")}}),t.updateDailySeries()}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.detailedtradejournals$.pipe(Object(p.a)(function(e){t.detailedtradejournals=[],t.detailedtradejournals=e.map(function(t){return{x:"O:"+t.StockSymbol,y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("DD MMM YYYY")}}),t.updateDailySeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(n),this.resetAlgoTrades()}},{key:"updateYearlySeries",value:function(){var t=this;this.YearlyTotalPL=0,this.yearlytotaltradejournals.map(function(e){var r=t.yearlytotalalgotrades.find(function(t){return t.x===e.x});r?(r.y+=e.y,r.trades=Number(r.trades)+Number(e.trades)):t.yearlytotalalgotrades.push(e)}),this.yearlytotalalgotrades.map(function(e){t.YearlyTotalPL+=Number(e.y)}),this.yearlytotalalgotrades.sort(this.GetSortOrder("x")),this.chartOptions.series=[{name:"P&L",data:this.yearlytotalalgotrades}]}},{key:"updateDetailedMonthSeries",value:function(){var t=this;this.DetailedMonthTotalPL=0,console.log("Before monthlytotaltradejournals ",this.monthlytotaltradejournals),console.log("Before monthalgotrades ",this.monthalgotrades),this.monthlytotaltradejournals.map(function(e){var r=t.monthalgotrades.find(function(t){return t.x===e.x});r?r.y+=e.y:t.monthalgotrades.push(e)}),this.monthalgotrades.map(function(e){t.DetailedMonthTotalPL+=Number(e.y)}),console.log("After monthalgotrades ",this.monthalgotrades),this.MonthChartOptions.series=[{name:"P&L",data:this.monthalgotrades}],this.MonthChartOptions.title={text:"Monthly Trades in "+this.selectedYear,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}}},{key:"updateDetailedDailySeries",value:function(){var t=this;this.DetailedDailyTotalPL=0,this.dailytotaltradejournals.map(function(e){var r=t.dailyalgotrades.find(function(t){return t.x===e.x});r?r.y+=e.y:t.dailyalgotrades.push(e)}),this.dailyalgotrades.map(function(e){t.DetailedDailyTotalPL+=Number(e.y)}),this.DailyChartOptions.series=[{name:"P&L",data:this.dailyalgotrades}],this.DailyChartOptions.title={text:"Daily Trades in "+this.selectedMonth,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}}},{key:"updateDailySeries",value:function(){var t=this;this.DailyTotalPL=0,this.detailedtradejournals.length>0&&this.detailedtradejournals.map(function(e){t.algotrades.push(e)}),this.algotrades.map(function(e){t.DailyTotalPL+=Number(e.y)}),this.DetailedChartOptions.series=[{name:"P&L",data:this.algotrades}],this.DetailedChartOptions.title={text:"Daily Trades in "+this.selectedDate,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}}},{key:"getMonthAlgoTrades",value:function(t){this.DetailedMonthTotalPL=0,this.monthalgotrades=[],this.monthlytotaltradejournals=[],this.DetailedDailyTotalPL=0,this.dailyalgotrades=[],this.dailytotaltradejournals=[],this.algotrades=[],this.detailedtradejournals=[],this.DailyTotalPL=0,this.selectedYear="",this.selectedMonth="",this.selectedDate="",this.tradejournalsService.getMonthlyTotalTradejournals({year:t}),this.algotradesService.getMonthAlgoTrades({year:t}),this.selectedYear=t}},{key:"getDailyAlgoTrades",value:function(t){this.DetailedDailyTotalPL=0,this.dailyalgotrades=[],this.dailytotaltradejournals=[],this.algotrades=[],this.detailedtradejournals=[],this.DailyTotalPL=0,this.selectedMonth="",this.selectedDate="",this.tradejournalsService.getDailyTotalTradejournals({year:this.selectedYear,month:h()(t,"MMM").format("M")}),this.algotradesService.getDailyAlgoTrades({year:this.selectedYear,month:h()(t,"MMM").format("M")}),this.selectedMonth=t}},{key:"getAlgoTrades",value:function(t){this.algotrades=[],this.detailedtradejournals=[],this.DailyTotalPL=0,this.selectedDate="";var e=h()([this.selectedYear,Number(h()(this.selectedMonth,"MMM").format("M"))-1,Number(t)]),r=h()([this.selectedYear,Number(h()(this.selectedMonth,"MMM").format("M"))-1,Number(t)]).add(1,"days");this.algotradesService.getDetailedAlgoTrades({type:"trade",fromDate:e,toDate:r}),this.tradejournalsService.getDetailedTradeJournals({RequestType:"AlgoTrades",StockType:"Option",Status:"Closed",fromDate:e,toDate:r}),this.selectedDate=t+" "+this.selectedMonth+" "+this.selectedYear}},{key:"getProfitColor",value:function(t){return Number(t)>0?"green":"red"}},{key:"resetAlgoTrades",value:function(){this.YearlyTotalPL=0,this.yearlytotalalgotrades=[],this.yearlytotaltradejournals=[],this.DetailedMonthTotalPL=0,this.monthalgotrades=[],this.monthlytotaltradejournals=[],this.DetailedDailyTotalPL=0,this.dailyalgotrades=[],this.dailytotaltradejournals=[],this.algotrades=[],this.detailedtradejournals=[],this.DailyTotalPL=0,this.selectedYear="",this.selectedMonth="",this.selectedDate="",this.tradejournalsService.getyearlyTotalTradejournals(),this.algotradesService.getyearlyTotalAlgoTrades()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||J)(y.Ub(D),y.Ub(S.a))},J.\u0275cmp=y.Ob({type:J,selectors:[["app-equity-analytics"]],viewQuery:function(t,e){var r;1&t&&y.Vc(L,!0),2&t&&y.Dc(r=y.mc())&&(e.chart=r.first)},decls:24,vars:14,consts:[[1,"card","card-custom","card-stretch",2,"min-height","550px"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"card-body"],["class","row",4,"ngIf"],["id","chart",4,"ngIf"],["class","separator separator-dashed my-5",4,"ngIf"],["class","row mt-5",4,"ngIf"],["class","row mt-20",4,"ngIf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-5"],[1,"text-right","mr-15","mb-1",3,"ngStyle"],[1,"col-lg-1"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors"],[1,"separator","separator-dashed","my-5"],[1,"row","mt-5"],[1,"col-lg-7"],[1,"col-lg-4"],[1,"col-lg-2"],[1,"row","mt-20"]],template:function(t,e){1&t&&(y.ac(0,"div",0),y.Oc(1,_,3,0,"ng-container",1),y.pc(2,"async"),y.ac(3,"div",0),y.ac(4,"div",2),y.ac(5,"div",3),y.ac(6,"h3",4),y.Qc(7,"Yearly P&L Analytics Dashboard"),y.Zb(),y.Zb(),y.ac(8,"div",5),y.ac(9,"button",6),y.lc("click",function(){return e.resetAlgoTrades()}),y.Vb(10,"i",7),y.Qc(11," Reset "),y.Zb(),y.Zb(),y.Zb(),y.ac(12,"div",8),y.Oc(13,Z,9,10,"div",9),y.Oc(14,Y,2,10,"div",10),y.Oc(15,j,1,0,"div",11),y.Oc(16,I,9,10,"div",12),y.Oc(17,R,2,10,"div",10),y.Oc(18,E,1,0,"div",11),y.Oc(19,N,9,10,"div",12),y.Oc(20,Q,2,10,"div",10),y.Oc(21,V,1,0,"div",11),y.Oc(22,$,9,10,"div",13),y.Oc(23,U,2,10,"div",10),y.Zb(),y.Zb(),y.Zb()),2&t&&(y.Hb(1),y.wc("ngIf",y.qc(2,12,e.algotradesService.isLoading$)),y.Hb(12),y.wc("ngIf",e.yearlytotalalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.yearlytotalalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.monthalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.monthalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.monthalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.dailyalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.dailyalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.dailyalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.algotrades.length>0),y.Hb(1),y.wc("ngIf",e.algotrades.length>0),y.Hb(1),y.wc("ngIf",e.algotrades.length>0))},directives:[u.o,u.p,w.a],pipes:[u.b,u.d],styles:["#chart[_ngcontent-%COMP%], #DetailedChart[_ngcontent-%COMP%]{max-width:75%;margin:35px auto}#chart[_ngcontent-%COMP%]   .apexcharts-tooltip[_ngcontent-%COMP%]{color:#000}#chart[_ngcontent-%COMP%]   .apexcharts-tooltip[_ngcontent-%COMP%]   .apexcharts-tooltip-series-group.active[_ngcontent-%COMP%]{background:#fff!important}"]}),J),q=i("WsYS"),X=i("1kSV"),K=i("U1i7"),tt=i("tyNb"),et=i("3Pt+"),rt=["chart"];function at(t,e){1&t&&(y.Yb(0),y.ac(1,"div",28),y.Vb(2,"div",29),y.Zb(),y.Xb())}function nt(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function it(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}var ot=function(t){return{color:t}};function st(t,e){if(1&t&&(y.ac(0,"div",30),y.Vb(1,"div",31),y.ac(2,"div",32),y.ac(3,"h4",33),y.Oc(4,nt,2,0,"span",1),y.Oc(5,it,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",8),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,ot,r.getProfitColor(r.totalPL))),y.Hb(1),y.wc("ngIf",r.totalPL>0),y.Hb(1),y.wc("ngIf",r.totalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.totalPL,"INR","")," ")}}function ct(t,e){if(1&t&&(y.ac(0,"div",34),y.Vb(1,"apx-chart",35),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.chartOptions.series)("chart",r.chartOptions.chart)("dataLabels",r.chartOptions.dataLabels)("plotOptions",r.chartOptions.plotOptions)("yaxis",r.chartOptions.yaxis)("xaxis",r.chartOptions.xaxis)("title",r.chartOptions.title)("tooltip",r.chartOptions.tooltip)("noData",r.chartOptions.nodata)("colors",r.chartOptions.colors)("fill",r.chartOptions.fill)}}function lt(t,e){1&t&&y.Vb(0,"div",36)}function ut(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function dt(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}function ht(t,e){if(1&t&&(y.ac(0,"div",37),y.Vb(1,"div",31),y.ac(2,"div",32),y.ac(3,"h4",33),y.Oc(4,ut,2,0,"span",1),y.Oc(5,dt,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",8),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,ot,r.getProfitColor(r.DetailedTotalPL))),y.Hb(1),y.wc("ngIf",r.DetailedTotalPL>0),y.Hb(1),y.wc("ngIf",r.DetailedTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.DetailedTotalPL,"INR","")," ")}}function ft(t,e){if(1&t&&(y.ac(0,"div",38),y.Vb(1,"apx-chart",35),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.DetailedChartOptions.series)("chart",r.DetailedChartOptions.chart)("dataLabels",r.DetailedChartOptions.dataLabels)("plotOptions",r.DetailedChartOptions.plotOptions)("yaxis",r.DetailedChartOptions.yaxis)("xaxis",r.DetailedChartOptions.xaxis)("title",r.DetailedChartOptions.title)("tooltip",r.DetailedChartOptions.tooltip)("noData",r.DetailedChartOptions.nodata)("colors",r.DetailedChartOptions.colors)("fill",r.DetailedChartOptions.fill)}}var pt,gt=((pt=function(){function t(e,a,n){var i=this;r(this,t),this.keywordsService=e,this.tradejournalsService=a,this.router=n,this.tradejournals=[],this.subscriptions=[],this.totalPL=0,this.DetailedTotalPL=0,this.optionTrades=[],this.chartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:450,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){i.getDetailedOptionTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},fill:{colors:[function(t,e,r){return t.value<0?"#FF4560":"#008FFB"}],opacity:.9,type:"solid"},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+t.w.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p  style="margin-bottom: -15px">P&L : '+e[r][a]+"</p>  </></div></div>"}},title:{text:"Option Strategy Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{horizontal:!0,barHeight:"80%"}},dataLabels:{enabled:!0,formatter:function(t){return"\u20b9 "+t},style:{fontSize:"12px",colors:["#fff"],fontFamily:void 0}},yaxis:{labels:{align:"right",minWidth:0,maxWidth:250,style:{fontSize:"12px"}}},xaxis:{labels:{formatter:function(t){return"\u20b9 "+t}}}},this.DetailedChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){i.openJournal(r.w.config.series[0].data[r.dataPointIndex].id)}}},colors:["#00E396"],nodata:{text:"No trades found"},fill:{colors:[function(t,e,r){return t.value<0?"#FEB019":"#00E396"}],opacity:.9,type:"solid"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700" ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Date : '+n.config.series[0].data[a].LastExitDate+"</p><p>P&L : "+e[r][a]+'</p> <p style="margin-bottom: -15px">'+n.config.series[0].data[a].OptionStrategy+"</p></div></div>"}},title:{text:""},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}}}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.toDate=h()().format("M/DD/YYYY").toString(),this.fromDate=h()([h()().year(),h()().month()]).format("M/DD/YYYY"),this.tradejournals=[],this.totalPL=0,this.optionTrades=[],this.detailedtradejournals=[],this.DetailedTotalPL=0,this.DetailedStrategy="",this.keywordsService.fetch();var e=this.tradejournalsService.detailedtradejournals$.pipe(Object(p.a)(function(e){t.detailedtradejournals=e.map(function(t){return{x:t.StockSymbol,y:t.totalgainloss,OptionStrategy:t.OptionStrategy,LastExitDate:h()(t.LastExitDate).format("DD MMM YYYY"),id:t.id}}),t.updateDetailedSeries()}),Object(g.a)(function(t){return t})).subscribe(),r=Object(f.a)({algotrades:this.keywordsService.keywords$.pipe(Object(p.a)(function(e){t.OptionStrategies=e.filter(function(t){return"Option Strategy"===t.keywordtype}),t.tradejournalsService.getTradeJournals({RequestType:"AlgoTrades",Status:"Closed",StockType:"Option",fromDate:h()([h()().year(),h()().month()]).format("M/DD/YYYY"),toDate:h()().add(1,"days").format()})}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.tradejournals$.pipe(Object(p.a)(function(e){t.tradejournals=e,t.updateSeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(r),this.subscriptions.push(e)}},{key:"refreshTradeJournals",value:function(){this.detailedtradejournals=[],this.DetailedTotalPL=0,this.DetailedStrategy="",this.tradejournalsService.getTradeJournals({RequestType:"AlgoTrades",Status:"Closed",StockType:"Option",fromDate:h()(this.fromDate),toDate:h()(this.toDate).add(1,"days").format()})}},{key:"resetTradeJournals",value:function(){this.toDate=h()().format("M/DD/YYYY").toString(),this.fromDate=h()([h()().year(),h()().month()]).format("M/DD/YYYY"),this.tradejournals=[],this.totalPL=0,this.optionTrades=[],this.detailedtradejournals=[],this.DetailedTotalPL=0,this.DetailedStrategy="",this.tradejournalsService.getTradeJournals({Status:"Closed",RequestType:"AlgoTrades",StockType:"Option",fromDate:h()([h()().year(),h()().month()]).format("M/DD/YYYY"),toDate:h()().add(1,"days").format()})}},{key:"getDetailedOptionTrades",value:function(t){this.DetailedStrategy=t,this.tradejournalsService.getDetailedTradeJournals({RequestType:"OptionStrategy",Status:"Closed",StockType:"Option",OptionStrategy:t,fromDate:h()(this.fromDate),toDate:h()(this.toDate).add(1,"days").format()})}},{key:"updateSeries",value:function(){var t=this;this.totalPL=0,this.optionTrades=[],this.OptionStrategies.map(function(e){var r=0;t.tradejournals.length>0&&t.tradejournals.map(function(a){a.OptionStrategy===e.keywordname&&(r+=Number(a.totalgainloss),t.totalPL+=Number(a.totalgainloss))}),t.optionTrades.push({x:e.keywordname,y:r})}),this.chartOptions.series=[{name:"P&L",data:this.optionTrades}]}},{key:"updateDetailedSeries",value:function(){var t=this;this.DetailedTotalPL=0,this.detailedtradejournals.map(function(e){t.DetailedTotalPL+=Number(e.y)}),this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedtradejournals}],this.DetailedStrategy&&(this.DetailedChartOptions.title={text:"Trades for "+this.DetailedStrategy,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}})}},{key:"openJournal",value:function(t){this.router.navigate(["/trade/tradeJournal/edit/"+t])}},{key:"getProfitColor",value:function(t){return Number(t)>0?"green":"red"}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}}]),t}()).\u0275fac=function(t){return new(t||pt)(y.Ub(K.a),y.Ub(S.a),y.Ub(tt.h))},pt.\u0275cmp=y.Ob({type:pt,selectors:[["app-option-analytics"]],viewQuery:function(t,e){var r;1&t&&y.Vc(rt,!0),2&t&&y.Dc(r=y.mc())&&(e.chart=r.first)},features:[y.Gb([{provide:X.b,useClass:q.b},{provide:X.c,useClass:q.c}])],decls:46,vars:10,consts:[[1,"card","card-custom","card-stretch",2,"min-height","550px"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"card-body"],[1,"form-group","row"],[1,"col-lg-1"],[1,"col-lg-3"],[1,"input-group"],["type","text","name","fromDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["from","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"text-dark-50","flaticon-calendar"],["type","text","name","toDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["to","ngbDatepicker"],[1,"btn","btn-sm","btn-primary","form-control-sm","mr-5",3,"click"],[1,"flaticon-refresh"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"separator","separator-dashed","my-10"],["class","row",4,"ngIf"],["id","chart",4,"ngIf"],["class","separator separator-dashed my-5",4,"ngIf"],["class","row mt-20",4,"ngIf"],["id","DetailedChart",4,"ngIf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-5"],[1,"text-right","mr-15","mb-1",3,"ngStyle"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors","fill"],[1,"separator","separator-dashed","my-5"],[1,"row","mt-20"],["id","DetailedChart"]],template:function(t,e){if(1&t){var r=y.bc();y.ac(0,"div",0),y.Oc(1,at,3,0,"ng-container",1),y.pc(2,"async"),y.ac(3,"div",0),y.ac(4,"div",2),y.ac(5,"div",3),y.ac(6,"h3",4),y.Qc(7,"Options Analytics Dashboard"),y.Zb(),y.Zb(),y.Vb(8,"div",5),y.Zb(),y.ac(9,"div",6),y.ac(10,"div",7),y.Vb(11,"div",8),y.ac(12,"div",9),y.ac(13,"label"),y.Qc(14,"From"),y.Zb(),y.ac(15,"div",10),y.ac(16,"input",11,12),y.lc("ngModelChange",function(t){return e.fromDate=t}),y.Zb(),y.ac(18,"div",13),y.lc("click",function(){return y.Gc(r),y.Ec(17).toggle()}),y.ac(19,"span",14),y.Vb(20,"i",15),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(21,"div",9),y.ac(22,"label"),y.Qc(23,"To"),y.Zb(),y.ac(24,"div",10),y.ac(25,"input",16,17),y.lc("ngModelChange",function(t){return e.toDate=t}),y.Zb(),y.ac(27,"div",13),y.lc("click",function(){return y.Gc(r),y.Ec(26).toggle()}),y.ac(28,"span",14),y.Vb(29,"i",15),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(30,"div",9),y.ac(31,"label"),y.Qc(32,"\xa0"),y.Zb(),y.ac(33,"div",10),y.ac(34,"button",18),y.lc("click",function(){return e.refreshTradeJournals()}),y.Vb(35,"i",19),y.Qc(36," Get Trades "),y.Zb(),y.ac(37,"button",20),y.lc("click",function(){return e.resetTradeJournals()}),y.Vb(38,"i",21),y.Qc(39," Reset "),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Vb(40,"div",22),y.Oc(41,st,9,10,"div",23),y.Oc(42,ct,2,11,"div",24),y.Oc(43,lt,1,0,"div",25),y.Oc(44,ht,9,10,"div",26),y.Oc(45,ft,2,11,"div",27),y.Zb(),y.Zb(),y.Zb()}2&t&&(y.Hb(1),y.wc("ngIf",y.qc(2,8,e.tradejournalsService.isLoading$)),y.Hb(15),y.wc("ngModel",e.fromDate),y.Hb(9),y.wc("ngModel",e.toDate),y.Hb(16),y.wc("ngIf",e.tradejournals.length>0),y.Hb(1),y.wc("ngIf",e.tradejournals.length>0),y.Hb(1),y.wc("ngIf",e.detailedtradejournals.length>0),y.Hb(1),y.wc("ngIf",e.detailedtradejournals.length>0),y.Hb(1),y.wc("ngIf",e.detailedtradejournals.length>0))},directives:[u.o,X.i,et.a,et.j,et.l,u.p,w.a],pipes:[u.b,u.d],styles:["#chart[_ngcontent-%COMP%], #DetailedChart[_ngcontent-%COMP%]{max-width:80%;margin:35px auto}"]}),pt),yt=["chart"];function vt(t,e){1&t&&(y.Yb(0),y.ac(1,"div",13),y.Vb(2,"div",14),y.Zb(),y.Xb())}function bt(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function mt(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}var xt=function(t){return{color:t}};function Ot(t,e){if(1&t&&(y.ac(0,"div",15),y.Vb(1,"div",16),y.ac(2,"div",17),y.ac(3,"h4",18),y.Oc(4,bt,2,0,"span",1),y.Oc(5,mt,2,0,"span",1),y.Qc(6),y.pc(7,"currency"),y.Zb(),y.Zb(),y.Vb(8,"div",19),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,xt,r.getProfitColor(r.StockTotalPL))),y.Hb(1),y.wc("ngIf",r.StockTotalPL>0),y.Hb(1),y.wc("ngIf",r.StockTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(7,4,r.StockTotalPL,"INR","")," ")}}function Tt(t,e){if(1&t&&(y.ac(0,"div",20),y.Vb(1,"apx-chart",21),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.chartOptions.series)("chart",r.chartOptions.chart)("dataLabels",r.chartOptions.dataLabels)("plotOptions",r.chartOptions.plotOptions)("yaxis",r.chartOptions.yaxis)("xaxis",r.chartOptions.xaxis)("title",r.chartOptions.title)("tooltip",r.chartOptions.tooltip)("noData",r.chartOptions.nodata)("colors",r.chartOptions.colors)}}function kt(t,e){1&t&&y.Vb(0,"div",22)}function Dt(t,e){if(1&t&&(y.ac(0,"h4",28),y.Qc(1),y.Zb()),2&t){var r=y.oc(2);y.Hb(1),y.Sc(" Total Trades : ",r.totalTrades," ")}}function St(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Profit : "),y.Zb())}function wt(t,e){1&t&&(y.ac(0,"span"),y.Qc(1,"Loss : "),y.Zb())}function Lt(t,e){if(1&t&&(y.ac(0,"div",23),y.Vb(1,"div",24),y.ac(2,"div",25),y.Oc(3,Dt,2,1,"h4",26),y.Zb(),y.ac(4,"div",24),y.ac(5,"h4",18),y.Oc(6,St,2,0,"span",1),y.Oc(7,wt,2,0,"span",1),y.Qc(8),y.pc(9,"currency"),y.Zb(),y.Zb(),y.Vb(10,"div",27),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngIf",r.totalTrades>0),y.Hb(2),y.wc("ngStyle",y.Ac(9,xt,r.getProfitColor(r.DetailedStockTotalPL))),y.Hb(1),y.wc("ngIf",r.DetailedStockTotalPL>0),y.Hb(1),y.wc("ngIf",r.DetailedStockTotalPL<0),y.Hb(1),y.Sc(" ",y.sc(9,5,r.DetailedStockTotalPL,"INR","")," ")}}function _t(t,e){if(1&t&&(y.ac(0,"div",20),y.Vb(1,"apx-chart",21),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.StockChartOptions.series)("chart",r.StockChartOptions.chart)("dataLabels",r.StockChartOptions.dataLabels)("plotOptions",r.StockChartOptions.plotOptions)("yaxis",r.StockChartOptions.yaxis)("xaxis",r.StockChartOptions.xaxis)("title",r.StockChartOptions.title)("tooltip",r.StockChartOptions.tooltip)("noData",r.StockChartOptions.nodata)("colors",r.StockChartOptions.colors)}}var Pt,Ct=((Pt=function(){function e(t,a){var n=this;r(this,e),this.algotradesService=t,this.tradejournalsService=a,this.stocktotalalgotrades=[],this.stockanalyticstradejournals=[],this.StockTotalPL=0,this.stockalgotrades=[],this.DetailedStockTotalPL=0,this.subscriptions=[],this.totalTrades=0,this.stocktradejournals=[],this.combineTrades=[],this.GetSortOrder=function(t){return function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}},this.chartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){n.getStockAlgoTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},colors:["#7D02EB"],nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Trades : '+n.config.series[0].data[a].trades+'</p><p style="margin-bottom: -15px">P&L : '+e[r][a]+"</p></div></div>"}},title:{text:"Stock Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}},this.StockChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1}},colors:["#546E7A"],nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p >P&L : '+e[r][a]+'</p><p style="margin-bottom: -15px">Stock : '+n.config.series[0].data[a].stock+"</p></div></div>"}},title:{text:""},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}}}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.algotradesService.getStockTotalAlgoTrades(),this.tradejournalsService.getStockAnalyticsTradejournals();var e=Object(f.a)({algotrades:this.algotradesService.stocktotalalgotrades$.pipe(Object(p.a)(function(e){t.stocktotalalgotrades=[],t.stocktotalalgotrades=e.map(function(t){return{x:t._id,y:t.Profit,trades:t.Trades}}),t.updateStockSeries()}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.stockanalyticstradejournals$.pipe(Object(p.a)(function(e){t.stockanalyticstradejournals=[],t.stockanalyticstradejournals=e.map(function(t){return{x:t._id,y:t.Profit,trades:t.Trades}}),t.updateStockSeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(e);var r=Object(f.a)({algotrades:this.algotradesService.stockalgotrades$.pipe(Object(p.a)(function(e){t.stockalgotrades=[],t.stockalgotrades=e.map(function(t){return{x:h()(t.tradedate).format("DD MMM YYYY"),y:t.Profit,stock:t.StockSymbol}}),t.updateDetailedStockSeries()}),Object(g.a)(function(t){return t})),tradejournals:this.tradejournalsService.stockanalyticsdetailtradejournals$.pipe(Object(p.a)(function(e){t.stocktradejournals=[],t.stocktradejournals=e.map(function(t){return{x:h()(t.LastExitDate).format("DD MMM YYYY"),y:Number(t.totalgainloss),stock:"O "+t.StockSymbol}}),t.updateDetailedStockSeries()}),Object(g.a)(function(t){return t}))}).subscribe();this.subscriptions.push(r),this.resetAlgoTrades()}},{key:"getProfitColor",value:function(t){return Number(t)>0?"green":"red"}},{key:"updateStockSeries",value:function(){var t=this;this.StockTotalPL=0,this.stockanalyticstradejournals.map(function(e){var r=t.stocktotalalgotrades.find(function(t){return t.x===e.x});r?(r.y+=e.y,r.trades=Number(r.trades)+Number(e.trades)):t.stocktotalalgotrades.push(e)}),this.stocktotalalgotrades.map(function(e){t.StockTotalPL+=Number(e.y)}),this.stocktotalalgotrades.sort(this.GetSortOrder("x")),this.chartOptions.series=[{name:"P&L",data:this.stocktotalalgotrades}]}},{key:"updateDetailedStockSeries",value:function(){var e=this;this.DetailedStockTotalPL=0,this.combineTrades=[],this.combineTrades=[].concat(t(this.stockalgotrades),t(this.stocktradejournals)),this.totalTrades=this.combineTrades.length,this.StockChartOptions.series=[{name:"P&L",data:this.combineTrades}],this.combineTrades.map(function(t){e.DetailedStockTotalPL+=Number(t.y)}),this.StockSymbol&&(this.StockChartOptions.title={text:"Trades for "+this.StockSymbol,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}})}},{key:"getStockAlgoTrades",value:function(t){this.tradejournalsService.getStockAnalyticsDetailTradejournals({RequestType:"StockTotals",StockType:"Option",Status:"Closed",StockSymbol:t}),this.algotradesService.getStockAlgoTrades({StockSymbol:t}),this.StockSymbol=t}},{key:"resetAlgoTrades",value:function(){this.StockTotalPL=0,this.stocktotalalgotrades=[],this.DetailedStockTotalPL=0,this.stockalgotrades=[],this.StockSymbol="",this.stockalgotrades=[],this.stocktradejournals=[],this.combineTrades=[],this.tradejournalsService.getStockAnalyticsTradejournals(),this.algotradesService.getStockTotalAlgoTrades()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}}]),e}()).\u0275fac=function(t){return new(t||Pt)(y.Ub(D),y.Ub(S.a))},Pt.\u0275cmp=y.Ob({type:Pt,selectors:[["app-stock-analytics"]],viewQuery:function(t,e){var r;1&t&&y.Lc(yt,!0),2&t&&y.Dc(r=y.mc())&&(e.chart=r.first)},decls:18,vars:8,consts:[[1,"card","card-custom","card-stretch",2,"min-height","550px"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"card-body"],["class","row",4,"ngIf"],["id","chart",4,"ngIf"],["class","separator separator-dashed my-5",4,"ngIf"],["class","row mt-5",4,"ngIf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-5"],[1,"text-right","mr-15","mb-1",3,"ngStyle"],[1,"col-lg-1"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors"],[1,"separator","separator-dashed","my-5"],[1,"row","mt-5"],[1,"col-lg-4"],[1,"col-lg-3"],["class","text-right text-muted mr-15 mb-1",4,"ngIf"],[1,"col-lg-2"],[1,"text-right","text-muted","mr-15","mb-1"]],template:function(t,e){1&t&&(y.ac(0,"div",0),y.Oc(1,vt,3,0,"ng-container",1),y.pc(2,"async"),y.ac(3,"div",0),y.ac(4,"div",2),y.ac(5,"div",3),y.ac(6,"h3",4),y.Qc(7,"Stock Analytics Dashboard"),y.Zb(),y.Zb(),y.ac(8,"div",5),y.ac(9,"button",6),y.lc("click",function(){return e.resetAlgoTrades()}),y.Vb(10,"i",7),y.Qc(11," Reset "),y.Zb(),y.Zb(),y.Zb(),y.ac(12,"div",8),y.Oc(13,Ot,9,10,"div",9),y.Oc(14,Tt,2,10,"div",10),y.Oc(15,kt,1,0,"div",11),y.Oc(16,Lt,11,11,"div",12),y.Oc(17,_t,2,10,"div",10),y.Zb(),y.Zb(),y.Zb()),2&t&&(y.Hb(1),y.wc("ngIf",y.qc(2,6,e.algotradesService.isLoading$)),y.Hb(12),y.wc("ngIf",e.stocktotalalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.stocktotalalgotrades.length>0),y.Hb(1),y.wc("ngIf",e.combineTrades.length>0),y.Hb(1),y.wc("ngIf",e.combineTrades.length>0),y.Hb(1),y.wc("ngIf",e.combineTrades.length>0))},directives:[u.o,u.p,w.a],pipes:[u.b,u.d],styles:["#chart[_ngcontent-%COMP%], #DetailedChart[_ngcontent-%COMP%]{max-width:75%;margin:35px auto}#chart[_ngcontent-%COMP%]   .apexcharts-tooltip[_ngcontent-%COMP%]{color:#000}#chart[_ngcontent-%COMP%]   .apexcharts-tooltip[_ngcontent-%COMP%]   .apexcharts-tooltip-series-group.active[_ngcontent-%COMP%]{background:#fff!important}"]}),Pt),Mt=i("LvDl"),Zt=i("Kj3r"),Yt=i("9wGw"),jt=["chart"];function Wt(t,e){1&t&&(y.Yb(0),y.ac(1,"div",32),y.Vb(2,"div",33),y.Zb(),y.Xb())}function At(t,e){1&t&&y.Qc(0),2&t&&y.Sc(" ",e.result.stock," ")}function It(t,e){1&t&&y.Vb(0,"span",39),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-down.svg")}function Rt(t,e){1&t&&y.Vb(0,"span",39),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-up.svg")}var Et=function(t){return{color:t}};function Ht(t,e){if(1&t&&(y.ac(0,"div",34),y.Vb(1,"div",35),y.ac(2,"div",36),y.ac(3,"h4",37),y.Qc(4),y.pc(5,"currency"),y.Oc(6,It,1,1,"span",38),y.Oc(7,Rt,1,1,"span",38),y.Zb(),y.Zb(),y.Vb(8,"div",8),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngStyle",y.Ac(8,Et,r.getProfitColor(r.totalPL))),y.Hb(1),y.Sc(" ",y.sc(5,4,r.totalPL,"INR"," \u20b9 ")," "),y.Hb(2),y.wc("ngIf",r.totalPL<=0),y.Hb(1),y.wc("ngIf",r.totalPL>0)}}function Ft(t,e){if(1&t&&(y.ac(0,"div",50),y.Vb(1,"apx-chart",51),y.Zb()),2&t){var r=y.oc(2);y.Hb(1),y.wc("series",r.chartOptions.series)("chart",r.chartOptions.chart)("dataLabels",r.chartOptions.dataLabels)("plotOptions",r.chartOptions.plotOptions)("yaxis",r.chartOptions.yaxis)("xaxis",r.chartOptions.xaxis)("title",r.chartOptions.title)("tooltip",r.chartOptions.tooltip)("noData",r.chartOptions.nodata)}}function Nt(t,e){if(1&t&&(y.ac(0,"div",34),y.ac(1,"div",40),y.Oc(2,Ft,2,9,"div",41),y.Zb(),y.ac(3,"div",18),y.ac(4,"div",42),y.ac(5,"div",43),y.ac(6,"div",44),y.Vb(7,"apx-chart",45),y.Zb(),y.Zb(),y.Zb(),y.ac(8,"div",34),y.Vb(9,"div",9),y.ac(10,"div",46),y.ac(11,"span",47),y.Qc(12," Total Trades : \xa0 "),y.Zb(),y.ac(13,"span",48),y.Qc(14),y.Zb(),y.Zb(),y.Zb(),y.ac(15,"div",34),y.Vb(16,"div",9),y.ac(17,"div",49),y.ac(18,"span",47),y.Qc(19," Profit Factor : \xa0 "),y.Zb(),y.ac(20,"span",48),y.Qc(21),y.pc(22,"number"),y.Zb(),y.Zb(),y.Zb(),y.ac(23,"div",34),y.Vb(24,"div",9),y.ac(25,"div",49),y.ac(26,"span",47),y.Qc(27," Avg. Win : \xa0 "),y.Zb(),y.ac(28,"span",48),y.Qc(29),y.pc(30,"currency"),y.Zb(),y.Zb(),y.Zb(),y.ac(31,"div",34),y.Vb(32,"div",9),y.ac(33,"div",49),y.ac(34,"span",47),y.Qc(35," Avg. Loss : \xa0 "),y.Zb(),y.ac(36,"span",48),y.Qc(37),y.pc(38,"currency"),y.Zb(),y.Zb(),y.Zb(),y.ac(39,"div",34),y.Vb(40,"div",9),y.ac(41,"div",49),y.ac(42,"span",47),y.Qc(43," Best Trade : \xa0 "),y.Zb(),y.ac(44,"span",48),y.Qc(45),y.pc(46,"number"),y.Zb(),y.Zb(),y.Zb(),y.ac(47,"div",34),y.Vb(48,"div",9),y.ac(49,"div",49),y.ac(50,"span",47),y.Qc(51," Worst Trade : \xa0 "),y.Zb(),y.ac(52,"span",48),y.Qc(53),y.pc(54,"number"),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb()),2&t){var r=y.oc();y.Hb(2),y.wc("ngIf",r.algotrades.length>0),y.Hb(5),y.wc("series",r.winRateChartOptions.series)("chart",r.winRateChartOptions.chart)("plotOptions",r.winRateChartOptions.plotOptions)("labels",r.winRateChartOptions.labels)("fill",r.winRateChartOptions.fill)("stroke",r.winRateChartOptions.stroke),y.Hb(7),y.Sc(" ",r.currentTotalTrades," "),y.Hb(7),y.Sc(" ",y.rc(22,13,r.currentProfitFactor,"0.2-2")," "),y.Hb(8),y.Sc(" ",y.sc(30,16,r.currentAvgProfit,"INR","\u20b9 ")," "),y.Hb(8),y.Sc(" ",y.sc(38,20,r.currentAvgLoss,"INR","\u20b9 ")," "),y.Hb(8),y.Sc(" ",y.rc(46,24,r.currentMaxProfit,"0.2-2")," "),y.Hb(8),y.Sc(" ",y.rc(54,27,r.currentMaxLoss,"0.2-2")," ")}}function Qt(t,e){if(1&t&&(y.ac(0,"div",34),y.Vb(1,"div",8),y.ac(2,"div",18),y.ac(3,"div",52),y.Vb(4,"apx-chart",53),y.Zb(),y.Zb(),y.ac(5,"div",54),y.ac(6,"div",34),y.ac(7,"div",35),y.ac(8,"div",55),y.ac(9,"div",56),y.ac(10,"span",57),y.Qc(11," 9 "),y.Zb(),y.Zb(),y.ac(12,"div",58),y.ac(13,"span",59),y.Qc(14,"9:00 - 10:00"),y.Zb(),y.ac(15,"span",60),y.Qc(16),y.Zb(),y.Zb(),y.ac(17,"div",61),y.Vb(18,"apx-chart",45),y.Zb(),y.Zb(),y.ac(19,"div",62),y.ac(20,"div",56),y.ac(21,"span",57),y.Qc(22," 10 "),y.Zb(),y.Zb(),y.ac(23,"div",58),y.ac(24,"span",59),y.Qc(25,"10:00 - 11:00"),y.Zb(),y.ac(26,"span",60),y.Qc(27),y.Zb(),y.Zb(),y.ac(28,"div",61),y.Vb(29,"apx-chart",45),y.Zb(),y.Zb(),y.ac(30,"div",62),y.ac(31,"div",56),y.ac(32,"span",57),y.Qc(33," 11 "),y.Zb(),y.Zb(),y.ac(34,"div",58),y.ac(35,"span",59),y.Qc(36,"11:00 - 12:00"),y.Zb(),y.ac(37,"span",60),y.Qc(38),y.Zb(),y.Zb(),y.ac(39,"div",61),y.Vb(40,"apx-chart",45),y.Zb(),y.Zb(),y.ac(41,"div",62),y.ac(42,"div",56),y.ac(43,"span",57),y.Qc(44," 12 "),y.Zb(),y.Zb(),y.ac(45,"div",58),y.ac(46,"span",59),y.Qc(47,"12:00 - 01:00"),y.Zb(),y.ac(48,"span",60),y.Qc(49),y.Zb(),y.Zb(),y.ac(50,"div",61),y.Vb(51,"apx-chart",45),y.Zb(),y.Zb(),y.Zb(),y.ac(52,"div",35),y.ac(53,"div",63),y.ac(54,"div",56),y.ac(55,"span",57),y.Qc(56," 13 "),y.Zb(),y.Zb(),y.ac(57,"div",58),y.ac(58,"span",59),y.Qc(59,"01:00 - 02:00"),y.Zb(),y.ac(60,"span",60),y.Qc(61),y.Zb(),y.Zb(),y.ac(62,"div",61),y.Vb(63,"apx-chart",45),y.Zb(),y.Zb(),y.ac(64,"div",64),y.ac(65,"div",56),y.ac(66,"span",57),y.Qc(67," 14 "),y.Zb(),y.Zb(),y.ac(68,"div",58),y.ac(69,"span",59),y.Qc(70,"02:00 - 03:00"),y.Zb(),y.ac(71,"span",60),y.Qc(72),y.Zb(),y.Zb(),y.ac(73,"div",61),y.Vb(74,"apx-chart",45),y.Zb(),y.Zb(),y.ac(75,"div",64),y.ac(76,"div",56),y.ac(77,"span",57),y.Qc(78," 15 "),y.Zb(),y.Zb(),y.ac(79,"div",58),y.ac(80,"span",59),y.Qc(81,"03:00 - 04:00"),y.Zb(),y.ac(82,"span",60),y.Qc(83),y.Zb(),y.Zb(),y.ac(84,"div",61),y.Vb(85,"apx-chart",45),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb()),2&t){var r=y.oc();y.Hb(4),y.wc("series",r.stockTypeChartOptions.series)("chart",r.stockTypeChartOptions.chart)("plotOptions",r.stockTypeChartOptions.plotOptions)("labels",r.stockTypeChartOptions.labels)("legend",r.stockTypeChartOptions.legend)("colors",r.stockTypeChartOptions.colors),y.Hb(12),y.Tc("Win: ",r.hourlyDetails[0].hourWins," Loss: ",r.hourlyDetails[0].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[0].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[1].hourWins," Loss: ",r.hourlyDetails[1].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[1].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[2].hourWins," Loss: ",r.hourlyDetails[2].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[2].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[3].hourWins," Loss: ",r.hourlyDetails[3].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[3].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(10),y.Tc("Win: ",r.hourlyDetails[4].hourWins," Loss: ",r.hourlyDetails[4].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[4].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[5].hourWins," Loss: ",r.hourlyDetails[5].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[5].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[6].hourWins," Loss: ",r.hourlyDetails[6].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[6].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke)}}function Vt(t,e){1&t&&y.Vb(0,"div",65)}function zt(t,e){1&t&&y.Vb(0,"span",39),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-down.svg")}function Bt(t,e){1&t&&y.Vb(0,"span",39),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-up.svg")}function $t(t,e){if(1&t&&(y.ac(0,"h4",37),y.Qc(1),y.pc(2,"currency"),y.Oc(3,zt,1,1,"span",38),y.Oc(4,Bt,1,1,"span",38),y.Zb()),2&t){var r=y.oc(2);y.wc("ngStyle",y.Ac(8,Et,r.getProfitColor(r.DetailedTotalPL))),y.Hb(1),y.Sc(" ",y.sc(2,4,r.DetailedTotalPL,"INR"," \u20b9 ")," "),y.Hb(2),y.wc("ngIf",r.DetailedTotalPL<0),y.Hb(1),y.wc("ngIf",r.DetailedTotalPL>0)}}function Ut(t,e){if(1&t&&(y.ac(0,"div",42),y.Vb(1,"div",35),y.ac(2,"div",36),y.Oc(3,$t,5,10,"h4",66),y.Zb(),y.Vb(4,"div",8),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("ngIf",r.detailedalgotrades.length>0)}}function Jt(t,e){if(1&t&&(y.ac(0,"div",67),y.Vb(1,"apx-chart",68),y.Zb()),2&t){var r=y.oc();y.Hb(1),y.wc("series",r.DetailedChartOptions.series)("chart",r.DetailedChartOptions.chart)("dataLabels",r.DetailedChartOptions.dataLabels)("plotOptions",r.DetailedChartOptions.plotOptions)("yaxis",r.DetailedChartOptions.yaxis)("xaxis",r.DetailedChartOptions.xaxis)("title",r.DetailedChartOptions.title)("tooltip",r.DetailedChartOptions.tooltip)("noData",r.DetailedChartOptions.nodata)("colors",r.DetailedChartOptions.colors)}}function Gt(t,e){if(1&t&&(y.ac(0,"div",34),y.ac(1,"div",69),y.ac(2,"div",70),y.Vb(3,"apx-chart",71),y.Zb(),y.Zb(),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("series",r.tradeTagsChartOptions.series)("chart",r.tradeTagsChartOptions.chart)("dataLabels",r.tradeTagsChartOptions.dataLabels)("plotOptions",r.tradeTagsChartOptions.plotOptions)("yaxis",r.tradeTagsChartOptions.yaxis)("xaxis",r.tradeTagsChartOptions.xaxis)("title",r.tradeTagsChartOptions.title)("tooltip",r.tradeTagsChartOptions.tooltip)("noData",r.tradeTagsChartOptions.nodata)("colors",r.tradeTagsChartOptions.colors)("fill",r.tradeTagsChartOptions.fill)}}var qt,Xt=((qt=function(){function t(e,a,n,i){var o=this;r(this,t),this.stockmasterService=e,this.router=a,this.keywordsService=n,this.tradejournalsService=i,this.algotrades=[],this.tradejournals=[],this.dailyTradeJournals=[],this.detailedalgotrades=[],this.detailedtradejournals=[],this.stockTradeJournals=[],this.totalPL=0,this.DetailedTotalPL=0,this.currentTotalTrades=0,this.currentProfit=0,this.currentMaxProfit=0,this.currentMaxLoss=0,this.currentAvgProfit=0,this.currentAvgLoss=0,this.currentFuturesProfit=0,this.currentOptionsProfit=0,this.detailedStockType=[],this.currentEntryHours=[],this.hourlyDetails=[],this.allTradeTags=[],this.currentTradeTags=[],this.filteredTradeTags=[],this.subscriptions=[],this.isLoading=new v.a(!1),this.RequestType="",this.searchStocks=function(t){return t.pipe(Object(Zt.a)(200),Object(p.a)(function(t){return""===t?[]:o.stocks.filter(function(e){return e.stock.toLowerCase().indexOf(t.toLowerCase())>-1}).slice(0,10)}))},this.formatter=function(t){return t.stock},this.chartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){o.getDetailedAlgoTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+t.w.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p  style="margin-bottom: -15px">P&L : '+e[r][a]+"</p>  </></div></div>"}},title:{text:"Daily Trade Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}},this.DetailedChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){o.openTradeJournal(r.w.config.series[0].data[r.dataPointIndex].id)}}},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.config.series[0].data[a].stockSymbol+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Date : '+n.config.series[0].data[a].tradedate+"</p><p >P&L : "+e[r][a]+'</p><p style="margin-bottom: -15px"> '+n.config.series[0].data[a].TradeType+"</p></div></div>"}},title:{text:""},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}},this.winRateChartOptions={series:[],chart:{height:200,type:"radialBar",offsetY:-10},plotOptions:{radialBar:{startAngle:-135,endAngle:135,dataLabels:{name:{fontSize:"14px",color:void 0,offsetY:50},value:{offsetY:-10,fontSize:"16px",color:void 0,formatter:function(t){return t+"%"}}}}},fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.15,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,65,91]}},stroke:{dashArray:3},labels:["Win Rate"]},this.stockTypeChartOptions={series:[],chart:{height:300,type:"radialBar"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:270,hollow:{margin:5,size:"25%",background:"transparent",image:void 0},dataLabels:{name:{show:!1},value:{show:!1}}}},colors:["#0066c4","#0084ff","#39539E","#0077B5","#0088cf"],labels:[],legend:{show:!0,floating:!0,fontSize:"12px",position:"left",offsetX:5,offsetY:-10,labels:{useSeriesColors:!0},formatter:function(t,e){return t+" : "+e.w.globals.series[e.seriesIndex]+"%"},itemMargin:{horizontal:3}}},this.hourlyWinRateChartOptions={series:[0],chart:{height:100,type:"radialBar",offsetY:-10},plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{size:"40%"},dataLabels:{name:{fontSize:"9px",color:void 0,offsetY:30},value:{offsetY:-10,fontSize:"12px",color:void 0,formatter:function(t){return t+"%"}}}}},fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.15,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,65,91]}},stroke:{dashArray:2},labels:["Win Rate"]},this.tradeTagsChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:450,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){o.getDetailedTagTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},fill:{colors:[function(t,e,r){return t.value<0?"#fa4b42":"#6b8abc"}],opacity:.9,type:"solid"},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p  style="margin-bottom: -15px">P&L : '+e[r][a]+'</p>  <p  style="margin-bottom: -15px;margin-top: 20px">Count : '+n.config.series[0].data[a].count+"</p>  </></div></div>"}},title:{text:"Trade Tags Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{horizontal:!0,barHeight:"80%"}},dataLabels:{enabled:!0,formatter:function(t){return"\u20b9 "+t},style:{fontSize:"12px",colors:["#fff"],fontFamily:void 0}},yaxis:{labels:{align:"right",minWidth:0,maxWidth:250,style:{fontSize:"12px"}}},xaxis:{labels:{formatter:function(t){return"\u20b9 "+t}}}}}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.tradejournals=[],this.totalPL=0,this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:h()([h()().year()]).format("M/DD/YYYY"),toDate:h()().add(1,"days").format()});var e=this.tradejournalsService.tradejournals$.pipe(Object(p.a)(function(e){t.tradejournals=[],t.totalPL=0,t.dailyTradeJournals=[],t.stockTradeJournals=[],t.tradejournals=e.map(function(t){return t.LastExitDate=h()(t.LastExitDate).format("DD MMM YYYY"),t}),t.updateSeries()}),Object(g.a)(function(t){return t})).subscribe();this.subscriptions.push(e);var r=this.stockmasterService.stockmasters$.pipe(Object(p.a)(function(e){e.length?t.stocks=e:t.stockmasterService.fetch()}),Object(g.a)(function(t){return t})).subscribe();this.subscriptions.push(r),this.keywordsService.fetch();var a=this.keywordsService.keywords$.pipe(Object(p.a)(function(e){t.allTradeTags=e.filter(function(t){return"Trade Tag"===t.keywordtype})}),Object(g.a)(function(t){return t})).subscribe();this.subscriptions.push(a),this.toDate=h()().format("M/DD/YYYY").toString(),this.fromDate=h()([h()().year(),h()().month()]).format("M/DD/YYYY"),this.detailedalgotrades=[],this.detailedtradejournals=[],this.DetailedTotalPL=0,this.StockSymbol="",this.selectedStock=""}},{key:"refreshAlgoTrades",value:function(){this.algotrades=[],this.totalPL=0,this.detailedalgotrades=[],this.detailedtradejournals=[],this.DetailedTotalPL=0,this.totalPL=0,this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:h()(this.fromDate),toDate:h()(this.toDate).add(1,"days").format()})}},{key:"resetAlgoTrades",value:function(){this.toDate=h()().format("M/DD/YYYY").toString(),this.fromDate=h()([h()().year(),h()().month()]).format("M/DD/YYYY"),this.algotrades=[],this.tradejournals=[],this.dailyTradeJournals=[],this.totalPL=0,this.detailedalgotrades=[],this.detailedtradejournals=[],this.DetailedTotalPL=0,this.StockSymbol="",this.selectedStock="",this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:h()([h()().year(),h()().month()]).format("M/DD/YYYY"),toDate:h()().add(1,"days").format()})}},{key:"getProfitColor",value:function(t){return Number(t)>0?"green":"red"}},{key:"updateSeries",value:function(){var t=this;this.winRateChartOptions.series=[],this.totalPL=0,this.dailyTradeJournals=[],this.stockTradeJournals=[],this.algotrades=[],this.detailedalgotrades=[],this.DetailedTotalPL=0,this.currentTotalTrades=0,this.currentProfit=0,this.currentMaxProfit=0,this.currentMaxLoss=0,this.currentAvgProfit=0,this.currentAvgLoss=0,this.currentWinRate=0,this.currentProfitFactor=0,this.detailedStockType=[],this.currentEntryHours=[],this.hourlyDetails=[],this.detailedalgotrades=[],this.detailedtradejournals=[],this.DetailedTotalPL=0,this.StockSymbol?(this.stockTradeJournals=this.tradejournals.filter(function(e){return e.StockSymbol===t.StockSymbol.stock}),this.dailyTradeJournals=Mt(this.stockTradeJournals).sortBy(function(e){return t.stockTradeJournals.indexOf(e[0])}).groupBy("LastExitDate").map(function(t){return{x:t[0].LastExitDate,y:Mt.sumBy(t,"totalgainloss"),tradedate:h()(t[0].LastExitDate).format("DD MMM YYYY"),lastExitDate:t[0].LastExitDate}}).value(),this.currentTradeTags=[],this.allTradeTags.map(function(e){var r=0,a=0;t.stockTradeJournals.length>0&&t.stockTradeJournals.map(function(t){t.AllTradeTag&&t.AllTradeTag.map(function(n){n.keywordvalue===e.keywordvalue&&(r+=Number(t.totalgainloss),a+=1)})}),a>0&&t.currentTradeTags.push({x:e.keywordvalue,y:r,count:a})})):(this.dailyTradeJournals=Mt(this.tradejournals).sortBy(function(e){return t.tradejournals.indexOf(e[0])}).groupBy("LastExitDate").map(function(t){return{x:t[0].LastExitDate,y:Mt.sumBy(t,"totalgainloss"),tradedate:h()(t[0].LastExitDate).format("DD MMM YYYY"),lastExitDate:t[0].LastExitDate}}).value(),this.currentTradeTags=[],this.allTradeTags.map(function(e){var r=0,a=0;t.tradejournals.length>0&&t.tradejournals.map(function(t){t.AllTradeTag&&t.AllTradeTag.map(function(n){n.keywordvalue===e.keywordvalue&&(r+=Number(t.totalgainloss),a+=1)})}),a>0&&t.currentTradeTags.push({x:e.keywordvalue,y:r,count:a})})),this.dailyTradeJournals.map(function(e){t.algotrades.push(e)}),this.algotrades.map(function(e){t.totalPL+=Number(e.y)}),this.chartOptions.series=[{name:"P&L",data:this.algotrades}],this.chartOptions.title=this.StockSymbol?{text:"Stock Trades : "+this.StockSymbol.stock,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}:{text:"Daily Trade Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}};var e=[],r=[],a=0,n=0,i=[],o=[],s=[],c=[],l=[9,10,11,12,13,14,15];this.StockSymbol?(this.stockTradeJournals=this.tradejournals.filter(function(e){return e.StockSymbol===t.StockSymbol.stock}),this.stockTradeJournals.forEach(function(a){t.currentTotalTrades+=0==a.tradeHour.length?1:a.tradeHour.length,t.currentProfit+=Number(a.totalgainloss),a.totalgainloss>0?e.push(a.totalgainloss):r.push(a.totalgainloss)})):this.tradejournals.forEach(function(a){t.currentTotalTrades+=0==a.tradeHour.length?1:a.tradeHour.length,t.currentProfit+=Number(a.totalgainloss),a.totalgainloss>0?e.push(a.totalgainloss):r.push(a.totalgainloss),"Future"===a.StockType&&(a.totalgainloss>0?i.push(a.totalgainloss):o.push(a.totalgainloss),t.currentFuturesProfit+=Number(a.totalgainloss)),"Option"===a.StockType&&(a.totalgainloss>0?s.push(a.totalgainloss):c.push(a.totalgainloss),t.currentOptionsProfit+=Number(a.totalgainloss))}),e.length>0&&(a=e.reduce(function(t,e){return t+e}),this.currentMaxProfit=e.reduce(function(t,e){return Math.max(t,e)})),r.length>0&&(n=r.reduce(function(t,e){return t+e}),this.currentMaxLoss=r.reduce(function(t,e){return Math.min(t,e)})),this.currentAvgProfit=a/e.length,this.currentAvgLoss=n/r.length,this.currentWinRate=Number(e.length/this.currentTotalTrades*100).toFixed(0),this.currentProfitFactor=Math.abs(a/n),this.winRateChartOptions.series=isNaN(this.currentWinRate)?[0]:[this.currentWinRate],this.StockSymbol?(this.stockTradeJournals=this.tradejournals.filter(function(e){return e.StockSymbol===t.StockSymbol.stock}),this.detailedStockType=Mt(this.stockTradeJournals).groupBy("OptionStrategy").map(function(t){return{totalgainloss:Mt.sumBy(t,"totalgainloss"),OptionStrategy:t[0].OptionStrategy}}).value()):this.detailedStockType=Mt(this.tradejournals).groupBy("OptionStrategy").map(function(t){return{totalgainloss:Mt.sumBy(t,"totalgainloss"),OptionStrategy:t[0].OptionStrategy}}).value();var u=[],d=0,f=0,p=0,g=0,y=0;this.detailedStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(d=e.totalgainloss/t.currentProfit*100)<0&&(d=-d),"Long Call Intraday"===e.OptionStrategy&&(f=e.totalgainloss/t.currentProfit*100)<0&&(f=-f),"Long Put Intraday"===e.OptionStrategy&&(p=e.totalgainloss/t.currentProfit*100)<0&&(p=-p),"Short Call Intraday"===e.OptionStrategy&&(g=e.totalgainloss/t.currentProfit*100)<0&&(g=-g),"Short Put Intraday"===e.OptionStrategy&&(y=e.totalgainloss/t.currentProfit*100)<0&&(y=-y)}),this.stockTypeChartOptions.labels=[],d>0&&(u.push(d.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),f>0&&(u.push(f.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),p>0&&(u.push(p.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),g>0&&(u.push(g.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),y>0&&(u.push(y.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=u,this.StockSymbol?(this.stockTradeJournals=this.tradejournals.filter(function(e){return e.StockSymbol===t.StockSymbol.stock}),this.currentEntryHours=[],l.forEach(function(e){var r=0,a=0,n=0;t.stockTradeJournals.forEach(function(t){t.tradeHour&&t.tradeHour.forEach(function(i){var o=h()(t.LastExitDate).set({h:e,m:0}),s=h()(t.LastExitDate).set({h:e+1,m:1});h()(t.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),t.currentEntryHours.push({hour:e,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})})):(this.currentEntryHours=[],l.forEach(function(e){var r=0,a=0,n=0;t.tradejournals.forEach(function(t){t.tradeHour&&t.tradeHour.forEach(function(i){var o=h()(t.LastExitDate).set({h:e,m:0}),s=h()(t.LastExitDate).set({h:e+1,m:1});h()(t.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),t.currentEntryHours.push({hour:e,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})})),this.hourlyDetails=this.currentEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentTradeTags}],this.isLoading.next(!0)}},{key:"getDetailedTagTrades",value:function(t){var e=this;this.filteredTradeTags=[],this.StockSymbol?(this.stockTradeJournals=this.tradejournals.filter(function(t){return t.StockSymbol===e.StockSymbol.stock}),this.stockTradeJournals.length>0&&this.stockTradeJournals.map(function(r){r.AllTradeTag&&r.AllTradeTag.map(function(a){a.keywordvalue===t&&e.filteredTradeTags.push({x:h()(r.LastExitDate).format("DD"),y:r.totalgainloss,tradedate:h()(r.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:r.StockSymbol,TradeType:r.OptionStrategy,id:r.id})})})):this.tradejournals.length>0&&this.tradejournals.map(function(r){r.AllTradeTag&&r.AllTradeTag.map(function(a){a.keywordvalue===t&&e.filteredTradeTags.push({x:h()(r.LastExitDate).format("DD"),y:r.totalgainloss,tradedate:h()(r.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:r.StockSymbol,TradeType:r.OptionStrategy,id:r.id})})}),this.DetailedChartOptions.series=[{name:"P&L",data:this.filteredTradeTags}],this.isLoading.next(!0)}},{key:"getDetailedAlgoTrades",value:function(t){var e=this;this.detailedalgotrades=[],this.DetailedTotalPL=0,this.detailedalgotrades=Mt(this.tradejournals).filter(function(e){return h()(e.LastExitDate).isSameOrAfter(h()(t).startOf("day"))&&h()(e.LastExitDate).isSameOrBefore(h()(t).endOf("day"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("DD MMM YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,tradeHour:t.tradeHour,id:t.id}}).value(),this.detailedalgotrades.map(function(t){e.DetailedTotalPL+=Number(t.y)}),this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedalgotrades}],t&&(this.DetailedChartOptions.title={text:"Trades on "+t,align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}),this.isLoading.next(!0)}},{key:"openTradeJournal",value:function(t){this.router.navigate(["/trade/tradeJournal/edit/"+t])}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}},{key:"isLoading$",get:function(){return this.isLoading.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||qt)(y.Ub(Yt.a),y.Ub(tt.h),y.Ub(K.a),y.Ub(S.a))},qt.\u0275cmp=y.Ob({type:qt,selectors:[["app-algo-analytics"]],viewQuery:function(t,e){var r;1&t&&y.Vc(jt,!0),2&t&&y.Dc(r=y.mc())&&(e.chart=r.first)},features:[y.Gb([{provide:X.b,useClass:q.b},{provide:X.c,useClass:q.c}])],decls:61,vars:22,consts:[[1,"card","card-custom","card-stretch",2,"min-height","550px"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"card-body"],[1,"form-group","row"],[1,"col-lg-1"],[1,"col-lg-2"],[1,"input-group"],["type","text","name","fromDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["from","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"text-dark-50","flaticon-calendar"],["type","text","name","toDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["to","ngbDatepicker"],[1,"col-lg-3"],["rt",""],["type","text","name","stockSymbol","placeholder","Stock Symbol","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngbTypeahead","inputFormatter","resultTemplate","ngModelChange"],[1,"input-group-append"],[1,"flaticon-layer"],[1,"btn","btn-sm","btn-primary","form-control-sm","mr-5",3,"click"],[1,"flaticon-refresh"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"separator","separator-dashed","my-10"],["class","row",4,"ngIf"],["class","separator separator-dashed my-5",4,"ngIf"],["class","row mt-20",4,"ngIf"],["id","DetailedChart",4,"ngIf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row"],[1,"col-lg-6"],[1,"col-lg-5"],[1,".text-dark",2,"margin-top","10px","text-align","right","margin-right","10px",3,"ngStyle"],["cacheSVG","true","class","svg-icon svg-icon-md ml-2",3,"inlineSVG",4,"ngIf"],["cacheSVG","true",1,"svg-icon","svg-icon-md","ml-2",3,"inlineSVG"],[1,"col-lg-9"],["id","chart",4,"ngIf"],[1,"row","mt-20"],[1,"col-lg-9",2,"text-align","left"],["id","winRateChart"],[3,"series","chart","plotOptions","labels","fill","stroke"],[1,"col-lg-8",2,"text-align","left","margin-top","-10px"],[1,"font-weight-bold"],[1,"font-weight-bolder","text-primary"],[1,"col-lg-8",2,"text-align","left","margin-top","5px"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData"],["id","stockTypeChart",2,"margin-top","40px"],[3,"series","chart","plotOptions","labels","legend","colors"],[1,"col-lg-8"],[1,"d-flex","align-items-center","mt-5",2,"margin-left","30px"],[1,"symbol","symbol-40","symbol-light-primary","mr-5"],[1,"symbol-label","font-weight-bolder","font-size-lg"],[1,"d-flex","flex-column","font-weight-bold"],[1,"text-dark","text-hover-primary","mb-1","font-size-lg"],[1,"text-muted"],["id","hourlyWinRateChart",2,"margin-top","10px","margin-left","-50px"],[1,"d-flex","align-items-center",2,"margin-left","30px"],[1,"d-flex","align-items-center","mt-5",2,"margin-left","-50px"],[1,"d-flex","align-items-center",2,"margin-left","-50px"],[1,"separator","separator-dashed","my-5"],["class",".text-dark","style","margin-top: 10px; text-align: right; margin-right: 10px",3,"ngStyle",4,"ngIf"],["id","DetailedChart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors"],[1,"col-lg-12"],["id","tradeTagsChart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors","fill"]],template:function(t,e){if(1&t){var r=y.bc();y.ac(0,"div",0),y.Oc(1,Wt,3,0,"ng-container",1),y.pc(2,"async"),y.ac(3,"div",0),y.ac(4,"div",2),y.ac(5,"div",3),y.ac(6,"h3",4),y.Qc(7,"Analytics Dashboard"),y.Zb(),y.Zb(),y.Vb(8,"div",5),y.Zb(),y.ac(9,"div",6),y.ac(10,"div",7),y.Vb(11,"div",8),y.ac(12,"div",9),y.ac(13,"label"),y.Qc(14,"From"),y.Zb(),y.ac(15,"div",10),y.ac(16,"input",11,12),y.lc("ngModelChange",function(t){return e.fromDate=t}),y.Zb(),y.ac(18,"div",13),y.lc("click",function(){return y.Gc(r),y.Ec(17).toggle()}),y.ac(19,"span",14),y.Vb(20,"i",15),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(21,"div",9),y.ac(22,"label"),y.Qc(23,"To"),y.Zb(),y.ac(24,"div",10),y.ac(25,"input",16,17),y.lc("ngModelChange",function(t){return e.toDate=t}),y.Zb(),y.ac(27,"div",13),y.lc("click",function(){return y.Gc(r),y.Ec(26).toggle()}),y.ac(28,"span",14),y.Vb(29,"i",15),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(30,"div",18),y.Oc(31,At,1,1,"ng-template",null,19,y.Pc),y.ac(33,"label"),y.Qc(34,"Stock"),y.Zb(),y.ac(35,"div",10),y.ac(36,"input",20),y.lc("ngModelChange",function(t){return e.StockSymbol=t}),y.Zb(),y.ac(37,"div",21),y.ac(38,"span",14),y.Vb(39,"i",22),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(40,"div",18),y.ac(41,"label"),y.Qc(42,"\xa0"),y.Zb(),y.ac(43,"div",10),y.ac(44,"button",23),y.lc("click",function(){return e.refreshAlgoTrades()}),y.Vb(45,"i",24),y.Qc(46," Get Trades "),y.Zb(),y.ac(47,"button",25),y.lc("click",function(){return e.resetAlgoTrades()}),y.Vb(48,"i",26),y.Qc(49," Reset "),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Vb(50,"div",27),y.Oc(51,Ht,9,10,"div",28),y.Oc(52,Nt,55,30,"div",28),y.Oc(53,Qt,86,62,"div",28),y.pc(54,"async"),y.Oc(55,Vt,1,0,"div",29),y.Oc(56,Ut,5,1,"div",30),y.pc(57,"async"),y.Oc(58,Jt,2,10,"div",31),y.Oc(59,Gt,4,11,"div",28),y.pc(60,"async"),y.Zb(),y.Zb(),y.Zb()}if(2&t){var a=y.Ec(32);y.Hb(1),y.wc("ngIf",y.qc(2,14,e.tradejournalsService.isLoading$)),y.Hb(15),y.wc("ngModel",e.fromDate),y.Hb(9),y.wc("ngModel",e.toDate),y.Hb(11),y.wc("ngModel",e.StockSymbol)("ngbTypeahead",e.searchStocks)("inputFormatter",e.formatter)("resultTemplate",a),y.Hb(15),y.wc("ngIf",e.algotrades.length>0),y.Hb(1),y.wc("ngIf",e.algotrades.length>0),y.Hb(1),y.wc("ngIf",y.qc(54,16,e.isLoading$)),y.Hb(2),y.wc("ngIf",e.detailedalgotrades.length>0),y.Hb(1),y.wc("ngIf",y.qc(57,18,e.isLoading$)),y.Hb(2),y.wc("ngIf",e.detailedalgotrades.length>0||e.filteredTradeTags.length>0),y.Hb(1),y.wc("ngIf",y.qc(60,20,e.isLoading$))}},directives:[u.o,X.i,et.a,et.j,et.l,X.o,u.p,c.a,w.a],pipes:[u.b,u.d,u.g],styles:["#chart[_ngcontent-%COMP%], #DetailedChart[_ngcontent-%COMP%]{max-width:75%;margin:35px auto}"]}),qt),Kt=["chart"];function te(t,e){1&t&&(y.Yb(0),y.ac(1,"div",33),y.Vb(2,"div",34),y.Zb(),y.Xb())}function ee(t,e){1&t&&y.Vb(0,"span",37),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-down.svg")}function re(t,e){1&t&&y.Vb(0,"span",37),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-up.svg")}var ae=function(t){return{color:t}};function ne(t,e){if(1&t&&(y.ac(0,"h4",35),y.Qc(1),y.pc(2,"currency"),y.Oc(3,ee,1,1,"span",36),y.Oc(4,re,1,1,"span",36),y.Zb()),2&t){var r=y.oc();y.wc("ngStyle",y.Ac(8,ae,r.getProfitColor(r.currentWeekProfit))),y.Hb(1),y.Sc(" ",y.sc(2,4,r.currentWeekProfit,"INR"," \u20b9 ")," "),y.Hb(2),y.wc("ngIf",r.currentWeekProfit<=0),y.Hb(1),y.wc("ngIf",r.currentWeekProfit>0)}}function ie(t,e){1&t&&y.Vb(0,"span",37),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-down.svg")}function oe(t,e){1&t&&y.Vb(0,"span",37),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-up.svg")}function se(t,e){if(1&t&&(y.ac(0,"h4",35),y.Qc(1),y.pc(2,"currency"),y.Oc(3,ie,1,1,"span",36),y.Oc(4,oe,1,1,"span",36),y.Zb()),2&t){var r=y.oc();y.wc("ngStyle",y.Ac(8,ae,r.getProfitColor(r.currentMonthProfit))),y.Hb(1),y.Sc(" ",y.sc(2,4,r.currentMonthProfit,"INR"," \u20b9 ")," "),y.Hb(2),y.wc("ngIf",r.currentMonthProfit<=0),y.Hb(1),y.wc("ngIf",r.currentMonthProfit>0)}}function ce(t,e){1&t&&y.Vb(0,"span",37),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-down.svg")}function le(t,e){1&t&&y.Vb(0,"span",37),2&t&&y.wc("inlineSVG","./assets/media/svg/icons/Code/trending-up.svg")}function ue(t,e){if(1&t&&(y.ac(0,"h4",35),y.Qc(1),y.pc(2,"currency"),y.Oc(3,ce,1,1,"span",36),y.Oc(4,le,1,1,"span",36),y.Zb()),2&t){var r=y.oc();y.wc("ngStyle",y.Ac(8,ae,r.getProfitColor(r.currentYearProfit))),y.Hb(1),y.Sc(" ",y.sc(2,4,r.currentYearProfit,"INR"," \u20b9 ")," "),y.Hb(2),y.wc("ngIf",r.currentYearProfit<=0),y.Hb(1),y.wc("ngIf",r.currentYearProfit>0)}}function de(t,e){if(1&t&&(y.ac(0,"div",9),y.ac(1,"div",10),y.ac(2,"div",38),y.Vb(3,"apx-chart",39),y.Zb(),y.Zb(),y.ac(4,"div",10),y.ac(5,"div",9),y.ac(6,"div",10),y.ac(7,"div",40),y.ac(8,"div",41),y.ac(9,"span",42),y.Qc(10," 9 "),y.Zb(),y.Zb(),y.ac(11,"div",43),y.ac(12,"span",44),y.Qc(13,"9:00 - 10:00"),y.Zb(),y.ac(14,"span",45),y.Qc(15),y.Zb(),y.Zb(),y.ac(16,"div",46),y.Vb(17,"apx-chart",23),y.Zb(),y.Zb(),y.ac(18,"div",47),y.ac(19,"div",41),y.ac(20,"span",42),y.Qc(21," 10 "),y.Zb(),y.Zb(),y.ac(22,"div",43),y.ac(23,"span",44),y.Qc(24,"10:00 - 11:00"),y.Zb(),y.ac(25,"span",45),y.Qc(26),y.Zb(),y.Zb(),y.ac(27,"div",46),y.Vb(28,"apx-chart",23),y.Zb(),y.Zb(),y.ac(29,"div",47),y.ac(30,"div",41),y.ac(31,"span",42),y.Qc(32," 11 "),y.Zb(),y.Zb(),y.ac(33,"div",43),y.ac(34,"span",44),y.Qc(35,"11:00 - 12:00"),y.Zb(),y.ac(36,"span",45),y.Qc(37),y.Zb(),y.Zb(),y.ac(38,"div",46),y.Vb(39,"apx-chart",23),y.Zb(),y.Zb(),y.ac(40,"div",47),y.ac(41,"div",41),y.ac(42,"span",42),y.Qc(43," 12 "),y.Zb(),y.Zb(),y.ac(44,"div",43),y.ac(45,"span",44),y.Qc(46,"12:00 - 01:00"),y.Zb(),y.ac(47,"span",45),y.Qc(48),y.Zb(),y.Zb(),y.ac(49,"div",46),y.Vb(50,"apx-chart",23),y.Zb(),y.Zb(),y.Zb(),y.ac(51,"div",10),y.ac(52,"div",48),y.ac(53,"div",41),y.ac(54,"span",42),y.Qc(55," 13 "),y.Zb(),y.Zb(),y.ac(56,"div",43),y.ac(57,"span",44),y.Qc(58,"01:00 - 02:00"),y.Zb(),y.ac(59,"span",45),y.Qc(60),y.Zb(),y.Zb(),y.ac(61,"div",46),y.Vb(62,"apx-chart",23),y.Zb(),y.Zb(),y.ac(63,"div",49),y.ac(64,"div",41),y.ac(65,"span",42),y.Qc(66," 14 "),y.Zb(),y.Zb(),y.ac(67,"div",43),y.ac(68,"span",44),y.Qc(69,"02:00 - 03:00"),y.Zb(),y.ac(70,"span",45),y.Qc(71),y.Zb(),y.Zb(),y.ac(72,"div",46),y.Vb(73,"apx-chart",23),y.Zb(),y.Zb(),y.ac(74,"div",49),y.ac(75,"div",41),y.ac(76,"span",42),y.Qc(77," 15 "),y.Zb(),y.Zb(),y.ac(78,"div",43),y.ac(79,"span",44),y.Qc(80,"03:00 - 04:00"),y.Zb(),y.ac(81,"span",45),y.Qc(82),y.Zb(),y.Zb(),y.ac(83,"div",46),y.Vb(84,"apx-chart",23),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("series",r.DetailedChartOptions.series)("chart",r.DetailedChartOptions.chart)("dataLabels",r.DetailedChartOptions.dataLabels)("plotOptions",r.DetailedChartOptions.plotOptions)("yaxis",r.DetailedChartOptions.yaxis)("xaxis",r.DetailedChartOptions.xaxis)("title",r.DetailedChartOptions.title)("tooltip",r.DetailedChartOptions.tooltip)("noData",r.DetailedChartOptions.nodata)("colors",r.DetailedChartOptions.colors),y.Hb(12),y.Tc("Win: ",r.hourlyDetails[0].hourWins," Loss: ",r.hourlyDetails[0].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[0].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[1].hourWins," Loss: ",r.hourlyDetails[1].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[1].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[2].hourWins," Loss: ",r.hourlyDetails[2].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[2].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[3].hourWins," Loss: ",r.hourlyDetails[3].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[3].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(10),y.Tc("Win: ",r.hourlyDetails[4].hourWins," Loss: ",r.hourlyDetails[4].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[4].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[5].hourWins," Loss: ",r.hourlyDetails[5].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[5].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke),y.Hb(9),y.Tc("Win: ",r.hourlyDetails[6].hourWins," Loss: ",r.hourlyDetails[6].hourLoses,""),y.Hb(2),y.wc("series",r.hourlyDetails[6].winRate)("chart",r.hourlyWinRateChartOptions.chart)("plotOptions",r.hourlyWinRateChartOptions.plotOptions)("labels",r.hourlyWinRateChartOptions.labels)("fill",r.hourlyWinRateChartOptions.fill)("stroke",r.hourlyWinRateChartOptions.stroke)}}function he(t,e){if(1&t&&(y.ac(0,"div",9),y.ac(1,"div",14),y.ac(2,"div",50),y.Vb(3,"apx-chart",51),y.Zb(),y.Zb(),y.Zb()),2&t){var r=y.oc();y.Hb(3),y.wc("series",r.tradeTagsChartOptions.series)("chart",r.tradeTagsChartOptions.chart)("dataLabels",r.tradeTagsChartOptions.dataLabels)("plotOptions",r.tradeTagsChartOptions.plotOptions)("yaxis",r.tradeTagsChartOptions.yaxis)("xaxis",r.tradeTagsChartOptions.xaxis)("title",r.tradeTagsChartOptions.title)("tooltip",r.tradeTagsChartOptions.tooltip)("noData",r.tradeTagsChartOptions.nodata)("colors",r.tradeTagsChartOptions.colors)("fill",r.tradeTagsChartOptions.fill)}}var fe,pe,ge,ye,ve=[{path:"",component:(pe=function(){function t(){r(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}(),pe.\u0275fac=function(t){return new(t||pe)},pe.\u0275cmp=y.Ob({type:pe,selectors:[["app-analytics"]],decls:1,vars:0,template:function(t,e){1&t&&y.Vb(0,"router-outlet")},directives:[tt.m],styles:[""]}),pe),children:[{path:"performanceAnalytics",component:(fe=function(){function t(e,a,n){var i=this;r(this,t),this.tradejournalsService=e,this.keywordsService=a,this.router=n,this.subscriptions=[],this.isLoading=new v.a(!1),this.tradejournals=[],this.currentWeekPositions=[],this.currentWeekMaxProfit=0,this.currentWeekMaxLoss=0,this.currentWeekAvgProfit=0,this.currentWeekAvgLoss=0,this.currentWeekTotalTrades=0,this.currentWeekProfit=0,this.currentWeekOptionsProfit=0,this.currentWeekOptionsMaxProfit=0,this.currentWeekOptionsMaxLoss=0,this.currentWeekFuturesProfit=0,this.currentWeekFuturesMaxProfit=0,this.currentWeekFuturesMaxLoss=0,this.currentWeekProfitFactor=0,this.currentWeekChartTrades=[],this.currentWeekEntryHours=[],this.currentWeekTradeTags=[],this.currentMonthPositions=[],this.currentMonthMaxProfit=0,this.currentMonthMaxLoss=0,this.currentMonthAvgProfit=0,this.currentMonthAvgLoss=0,this.currentMonthTotalTrades=0,this.currentMonthProfit=0,this.currentMonthOptionsProfit=0,this.currentMonthOptionsMaxProfit=0,this.currentMonthOptionsMaxLoss=0,this.currentMonthFuturesProfit=0,this.currentMonthFuturesMaxProfit=0,this.currentMonthFuturesMaxLoss=0,this.currentMonthProfitFactor=0,this.currentMonthChartTrades=[],this.currentMonthEntryHours=[],this.currentMonthTradeTags=[],this.currentYearPositions=[],this.currentYearMaxProfit=0,this.currentYearMaxLoss=0,this.currentYearAvgProfit=0,this.currentYearAvgLoss=0,this.currentYearTotalTrades=0,this.currentYearProfit=0,this.currentYearOptionsProfit=0,this.currentYearOptionsMaxProfit=0,this.currentYearOptionsMaxLoss=0,this.currentYearFuturesProfit=0,this.currentYearFuturesMaxProfit=0,this.currentYearFuturesMaxLoss=0,this.currentYearProfitFactor=0,this.currentYearChartTrades=[],this.currentYearEntryHours=[],this.currentYearTradeTags=[],this.detailedDayTrades=[],this.hourlyDetails=[],this.allTradeTagTrades=[],this.detailedStockType=[],this.detailedMonthlyStockType=[],this.detailedYearlyStockType=[],this.allTradeTags=[],this.chartDisplay="Weekly",this.chartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:450,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){i.getDetailedTrades(r.w.config.series[0].data[r.dataPointIndex].lastExitDate)}}},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+t.w.config.series[0].data[a].tradedate+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p  style="margin-bottom: -15px">P&L : '+e[r][a]+"</p>  </></div></div>"}},title:{text:"Trade Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"12px"}}},xaxis:{labels:{show:!0}}},this.DetailedChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:400,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){i.openTradeJournal(r.w.config.series[0].data[r.dataPointIndex].id)}}},colors:["#2983FF"],title:{text:"Detailed Trades",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.config.series[0].data[a].tradedate+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Stock : '+n.config.series[0].data[a].stockSymbol+"</p><p>Trade : "+n.config.series[0].data[a].TradeType+'</p><p style="margin-bottom: -15px">P&L : '+e[r][a]+"</p></div></div>"}},plotOptions:{bar:{columnWidth:"90%"}},dataLabels:{enabled:!1},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}}},xaxis:{labels:{show:!1}}},this.winRateChartOptions={series:[],chart:{height:200,type:"radialBar",offsetY:-10},plotOptions:{radialBar:{startAngle:-135,endAngle:135,dataLabels:{name:{fontSize:"14px",color:void 0,offsetY:50},value:{offsetY:-10,fontSize:"16px",color:void 0,formatter:function(t){return t+"%"}}}}},fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.15,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,65,91]}},stroke:{dashArray:3},labels:["Win Rate"]},this.hourlyWinRateChartOptions={series:[0],chart:{height:100,type:"radialBar",offsetY:-10},plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{size:"40%"},dataLabels:{name:{fontSize:"9px",color:void 0,offsetY:30},value:{offsetY:-10,fontSize:"12px",color:void 0,formatter:function(t){return t+"%"}}}}},fill:{type:"gradient",gradient:{shade:"dark",shadeIntensity:.15,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,65,91]}},stroke:{dashArray:2},labels:["Win Rate"]},this.stockTypeChartOptions={series:[],chart:{height:300,type:"radialBar"},plotOptions:{radialBar:{offsetY:0,startAngle:0,endAngle:270,hollow:{margin:5,size:"25%",background:"transparent",image:void 0},dataLabels:{name:{show:!1},value:{show:!1}}}},colors:["#0066c4","#0084ff","#39539E","#0077B5","#0088cf"],labels:[],legend:{show:!0,floating:!0,fontSize:"12px",position:"left",offsetX:5,offsetY:-10,labels:{useSeriesColors:!0},formatter:function(t,e){return t+" : "+e.w.globals.series[e.seriesIndex]+"%"},itemMargin:{horizontal:3}}},this.tradeTagsChartOptions={series:[{name:"P&L",data:[]}],chart:{type:"bar",height:450,toolbar:{show:!1},zoom:{enabled:!1},events:{dataPointSelection:function(t,e,r){i.getDetailedTagTrades(r.w.config.series[0].data[r.dataPointIndex].x)}}},fill:{colors:[function(t,e,r){return t.value<0?"#fa4b42":"#6b8abc"}],opacity:.9,type:"solid"},nodata:{text:"No trades found"},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,a=t.dataPointIndex,n=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+n.globals.labels[a]+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p  style="margin-bottom: -15px">P&L : '+e[r][a]+'</p>  <p  style="margin-bottom: -15px;margin-top: 20px">Count : '+n.config.series[0].data[a].count+"</p>  </></div></div>"}},title:{text:"Trade Tags Analysis",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}},plotOptions:{bar:{horizontal:!0,barHeight:"80%"}},dataLabels:{enabled:!0,formatter:function(t){return"\u20b9 "+t},style:{fontSize:"12px",colors:["#fff"],fontFamily:void 0}},yaxis:{labels:{align:"right",minWidth:0,maxWidth:250,style:{fontSize:"12px"}}},xaxis:{labels:{formatter:function(t){return"\u20b9 "+t}}}}}return n(t,[{key:"ngOnInit",value:function(){var t=this;this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:h()([h()().year()]).format("M/DD/YYYY"),toDate:h()().add(1,"days").format()}),this.keywordsService.fetch();var e=this.tradejournalsService.tradejournals$.pipe(Object(p.a)(function(e){t.tradejournals=e,t.filterJournals()}),Object(g.a)(function(t){return t})).subscribe();this.subscriptions.push(e);var r=this.keywordsService.keywords$.pipe(Object(p.a)(function(e){t.allTradeTags=e.filter(function(t){return"Trade Tag"===t.keywordtype})}),Object(g.a)(function(t){return t})).subscribe();this.subscriptions.push(r)}},{key:"filterJournals",value:function(){var t=this,e=[9,10,11,12,13,14,15];this.currentWeekPositions=[],this.currentWeekMaxProfit=0,this.currentWeekMaxLoss=0,this.currentWeekAvgProfit=0,this.currentWeekAvgLoss=0,this.currentWeekTotalTrades=0,this.currentWeekProfit=0,this.currentWeekOptionsMaxProfit=0,this.currentWeekOptionsMaxLoss=0,this.currentWeekFuturesProfit=0,this.currentWeekFuturesMaxProfit=0,this.currentWeekFuturesMaxLoss=0,this.currentWeekWinRate=0,this.currentWeekProfitFactor=0,this.currentWeekChartTrades=[];var r=[],a=[],n=[],i=[],o=[],s=[],c=0,l=0;this.currentMonthPositions=[],this.currentMonthMaxProfit=0,this.currentMonthMaxLoss=0,this.currentMonthAvgProfit=0,this.currentMonthAvgLoss=0,this.currentMonthTotalTrades=0,this.currentMonthProfit=0,this.currentMonthOptionsMaxProfit=0,this.currentMonthOptionsMaxLoss=0,this.currentMonthFuturesProfit=0,this.currentMonthFuturesMaxProfit=0,this.currentMonthFuturesMaxLoss=0,this.currentMonthWinRate=0,this.currentMonthProfitFactor=0;var u=[],d=[],f=[],p=[],g=[],y=[],v=0,b=0;this.currentYearPositions=[],this.currentYearMaxProfit=0,this.currentYearMaxLoss=0,this.currentYearAvgProfit=0,this.currentYearAvgLoss=0,this.currentYearTotalTrades=0,this.currentYearProfit=0,this.currentYearOptionsMaxProfit=0,this.currentYearOptionsMaxLoss=0,this.currentYearFuturesProfit=0,this.currentYearFuturesMaxProfit=0,this.currentYearFuturesMaxLoss=0,this.currentYearWinRate=0,this.currentYearProfitFactor=0;var m=[],x=[],O=[],T=[],k=[],D=[],S=0,w=0;this.currentWeekPositions=this.tradejournals.filter(function(t){return t.weekDay=h()(t.LastExitDate).format("ddd"),h()(t.LastExitDate).isSameOrAfter(h()().startOf("week"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("week"))}),this.currentWeekChartTrades=Mt(this.currentWeekPositions).sortBy(function(e){return t.currentWeekPositions.indexOf(e[0])}).groupBy("weekDay").map(function(t){return{x:t[0].weekDay,y:Mt.sumBy(t,"totalgainloss"),tradedate:h()(t[0].LastExitDate).format("ddd, MMM Do YYYY"),lastExitDate:t[0].LastExitDate}}).value(),this.detailedDayTrades=Mt(this.currentWeekPositions).sortBy(function(e){return t.currentWeekPositions.indexOf(e[0])}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,id:t.id}}).value(),this.detailedStockType=Mt(this.currentWeekPositions).groupBy("OptionStrategy").map(function(t){return{totalgainloss:Mt.sumBy(t,"totalgainloss"),OptionStrategy:t[0].OptionStrategy}}).value(),this.isLoading.next(!0),this.currentWeekPositions.forEach(function(e){t.currentWeekTotalTrades+=0==e.tradeHour.length?1:e.tradeHour.length,t.currentWeekProfit+=Number(e.totalgainloss),e.totalgainloss>0?r.push(e.totalgainloss):a.push(e.totalgainloss),"Future"===e.StockType&&(e.totalgainloss>0?n.push(e.totalgainloss):i.push(e.totalgainloss),t.currentWeekFuturesProfit+=Number(e.totalgainloss)),"Option"===e.StockType&&(e.totalgainloss>0?o.push(e.totalgainloss):s.push(e.totalgainloss),t.currentWeekOptionsProfit+=Number(e.totalgainloss))}),r.length>0&&(c=r.reduce(function(t,e){return t+e}),this.currentWeekMaxProfit=r.reduce(function(t,e){return Math.max(t,e)})),a.length>0&&(l=a.reduce(function(t,e){return t+e}),this.currentWeekMaxLoss=a.reduce(function(t,e){return Math.min(t,e)})),this.currentWeekAvgProfit=c/r.length,this.currentWeekAvgLoss=l/a.length,o.length>0&&(this.currentWeekOptionsMaxProfit=o.reduce(function(t,e){return Math.max(t,e)})),s.length>0&&(this.currentWeekOptionsMaxLoss=s.reduce(function(t,e){return Math.min(t,e)})),n.length>0&&(this.currentWeekFuturesMaxProfit=n.reduce(function(t,e){return Math.max(t,e)})),i.length>0&&(this.currentWeekFuturesMaxLoss=i.reduce(function(t,e){return Math.min(t,e)})),this.currentWeekWinRate=Number(r.length/this.currentWeekTotalTrades*100).toFixed(0),this.currentWeekProfitFactor=Math.abs(c/l),this.currentWeekEntryHours=[],e.forEach(function(e){var r=0,a=0,n=0;t.currentWeekPositions.forEach(function(t){t.tradeHour&&t.tradeHour.forEach(function(i){var o=h()(t.LastExitDate).set({h:e,m:0}),s=h()(t.LastExitDate).set({h:e+1,m:1});h()(t.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),t.currentWeekEntryHours.push({hour:e,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})}),this.currentWeekTradeTags=[],this.allTradeTags.map(function(e){var r=0,a=0;t.currentWeekPositions.length>0&&t.currentWeekPositions.map(function(t){t.AllTradeTag&&t.AllTradeTag.map(function(n){n.keywordvalue===e.keywordvalue&&(r+=Number(t.totalgainloss),a+=1)})}),a>0&&t.currentWeekTradeTags.push({x:e.keywordvalue,y:r,count:a})}),this.currentMonthPositions=this.tradejournals.filter(function(t){return t.dateOnly=h()(t.LastExitDate).format("DD"),h()(t.LastExitDate).isSameOrAfter(h()().startOf("month"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("month"))}),this.currentMonthChartTrades=Mt(this.currentMonthPositions).groupBy("dateOnly").sortBy(function(e){return t.currentMonthPositions.indexOf(e[0])}).map(function(t){return{x:t[0].dateOnly,y:Mt.sumBy(t,"totalgainloss"),tradedate:h()(t[0].LastExitDate).format("MMM Do YYYY"),lastExitDate:t[0].LastExitDate}}).value(),this.detailedMonthlyStockType=Mt(this.currentMonthPositions).groupBy("OptionStrategy").map(function(t){return{totalgainloss:Mt.sumBy(t,"totalgainloss"),OptionStrategy:t[0].OptionStrategy}}).value(),this.currentMonthPositions.forEach(function(e){t.currentMonthTotalTrades+=e.tradeHour?0==e.tradeHour.length?1:e.tradeHour.length:1,t.currentMonthProfit+=Number(e.totalgainloss),e.totalgainloss>0?u.push(e.totalgainloss):d.push(e.totalgainloss),"Future"===e.StockType&&(e.totalgainloss>0?f.push(e.totalgainloss):p.push(e.totalgainloss),t.currentMonthFuturesProfit+=Number(e.totalgainloss)),"Option"===e.StockType&&(e.totalgainloss>0?g.push(e.totalgainloss):y.push(e.totalgainloss),t.currentMonthOptionsProfit+=Number(e.totalgainloss))}),u.length>0&&(v=u.reduce(function(t,e){return t+e}),this.currentMonthMaxProfit=u.reduce(function(t,e){return Math.max(t,e)})),d.length>0&&(b=d.reduce(function(t,e){return t+e}),this.currentMonthMaxLoss=d.reduce(function(t,e){return Math.min(t,e)})),this.currentMonthAvgProfit=v/u.length,this.currentMonthAvgLoss=b/d.length,g.length>0&&(this.currentMonthOptionsMaxProfit=g.reduce(function(t,e){return Math.max(t,e)})),y.length>0&&(this.currentMonthOptionsMaxLoss=y.reduce(function(t,e){return Math.min(t,e)})),f.length>0&&(this.currentMonthFuturesMaxProfit=f.reduce(function(t,e){return Math.max(t,e)})),p.length>0&&(this.currentMonthFuturesMaxLoss=p.reduce(function(t,e){return Math.min(t,e)})),this.currentMonthWinRate=Number(u.length/this.currentMonthTotalTrades*100).toFixed(0),this.currentMonthProfitFactor=Math.abs(v/b),this.currentMonthEntryHours=[],e.forEach(function(e){var r=0,a=0,n=0;t.currentMonthPositions.forEach(function(t){t.tradeHour&&t.tradeHour.forEach(function(i){var o=h()(t.LastExitDate).set({h:e,m:0}),s=h()(t.LastExitDate).set({h:e+1,m:0});h()(t.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),t.currentMonthEntryHours.push({hour:e,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})}),this.currentMonthTradeTags=[],this.allTradeTags.map(function(e){var r=0,a=0;t.currentMonthPositions.length>0&&t.currentMonthPositions.map(function(t){t.AllTradeTag&&t.AllTradeTag.map(function(n){n.keywordvalue===e.keywordvalue&&(r+=Number(t.totalgainloss),a+=1)})}),a>0&&t.currentMonthTradeTags.push({x:e.keywordvalue,y:r,count:a})}),this.currentYearPositions=this.tradejournals.filter(function(t){return t.yearOnly=h()(t.LastExitDate).format("MMM"),h()(t.LastExitDate).isSameOrAfter(h()().startOf("year"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("year"))}),this.currentYearChartTrades=Mt(this.currentYearPositions).groupBy("yearOnly").sortBy(function(e){return t.currentYearPositions.indexOf(e[0])}).map(function(t){return{x:t[0].yearOnly,y:Mt.sumBy(t,"totalgainloss"),tradedate:h()(t[0].LastExitDate).format("MMM YYYY"),lastExitDate:t[0].LastExitDate}}).value(),this.detailedYearlyStockType=Mt(this.currentYearPositions).groupBy("OptionStrategy").map(function(t){return{totalgainloss:Mt.sumBy(t,"totalgainloss"),OptionStrategy:t[0].OptionStrategy}}).value(),this.currentYearPositions.forEach(function(e){t.currentYearTotalTrades+=e.tradeHour?0==e.tradeHour.length?1:e.tradeHour.length:1,t.currentYearProfit+=Number(e.totalgainloss),e.totalgainloss>0?m.push(e.totalgainloss):x.push(e.totalgainloss),"Future"===e.StockType&&(e.totalgainloss>0?O.push(e.totalgainloss):T.push(e.totalgainloss),t.currentYearFuturesProfit+=Number(e.totalgainloss)),"Option"===e.StockType&&(e.totalgainloss>0?k.push(e.totalgainloss):D.push(e.totalgainloss),t.currentYearOptionsProfit+=Number(e.totalgainloss))}),m.length>0&&(S=m.reduce(function(t,e){return t+e}),this.currentYearMaxProfit=m.reduce(function(t,e){return Math.max(t,e)})),x.length>0&&(w=x.reduce(function(t,e){return t+e}),this.currentYearMaxLoss=x.reduce(function(t,e){return Math.min(t,e)})),this.currentYearAvgProfit=S/m.length,this.currentYearAvgLoss=w/x.length,k.length>0&&(this.currentYearOptionsMaxProfit=k.reduce(function(t,e){return Math.max(t,e)})),D.length>0&&(this.currentYearOptionsMaxLoss=D.reduce(function(t,e){return Math.min(t,e)})),O.length>0&&(this.currentYearFuturesMaxProfit=O.reduce(function(t,e){return Math.max(t,e)})),T.length>0&&(this.currentYearFuturesMaxLoss=T.reduce(function(t,e){return Math.min(t,e)})),this.currentYearWinRate=Number(m.length/this.currentYearTotalTrades*100).toFixed(0),this.currentYearProfitFactor=Math.abs(S/w),this.currentYearEntryHours=[],e.forEach(function(e){var r=0,a=0,n=0;t.currentYearPositions.forEach(function(t){t.tradeHour&&t.tradeHour.forEach(function(i){var o=h()(t.LastExitDate).set({h:e,m:0}),s=h()(t.LastExitDate).set({h:e+1,m:0});h()(t.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),t.currentYearEntryHours.push({hour:e,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})}),this.currentYearTradeTags=[],this.allTradeTags.map(function(e){var r=0,a=0;t.currentYearPositions.length>0&&t.currentYearPositions.map(function(t){t.AllTradeTag&&t.AllTradeTag.map(function(n){n.keywordvalue===e.keywordvalue&&(r+=Number(t.totalgainloss),a+=1)})}),a>0&&t.currentYearTradeTags.push({x:e.keywordvalue,y:r,count:a})}),this.updateSeries()}},{key:"getProfitColor",value:function(t){return Number(t)>0?"green":"red"}},{key:"getDetailedTrades",value:function(t){var e=this,r=[9,10,11,12,13,14,15];this.currentWeekEntryHours=[],this.currentMonthEntryHours=[],this.currentYearEntryHours=[],this.detailedDayTrades=[],"Weekly"===this.chartDisplay&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(e){return h()(e.LastExitDate).isSameOrAfter(h()(t).startOf("day"))&&h()(e.LastExitDate).isSameOrBefore(h()(t).endOf("day"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,tradeHour:t.tradeHour,id:t.id}}).value(),this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]),r.forEach(function(t){var r=0,a=0,n=0;e.detailedDayTrades.forEach(function(e){e.tradeHour&&e.tradeHour.forEach(function(i){var o=h()(e.LastExitDate).set({h:t,m:0}),s=h()(e.LastExitDate).set({h:t+1,m:0});h()(e.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),e.currentWeekEntryHours.push({hour:t,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})}),this.hourlyDetails=this.currentWeekEntryHours),"Monthly"===this.chartDisplay&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(e){return h()(e.LastExitDate).isSameOrAfter(h()(t).startOf("day"))&&h()(e.LastExitDate).isSameOrBefore(h()(t).endOf("day"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,tradeHour:t.tradeHour,id:t.id}}).value(),this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]),r.forEach(function(t){var r=0,a=0,n=0;e.detailedDayTrades.forEach(function(e){e.tradeHour&&e.tradeHour.forEach(function(i){var o=h()(e.LastExitDate).set({h:t,m:0}),s=h()(e.LastExitDate).set({h:t+1,m:0});h()(e.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),e.currentMonthEntryHours.push({hour:t,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})}),this.hourlyDetails=this.currentMonthEntryHours),"Yearly"===this.chartDisplay&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(e){return h()(e.LastExitDate).isSameOrAfter(h()(t).startOf("month"))&&h()(e.LastExitDate).isSameOrBefore(h()(t).endOf("month"))}).sortBy(function(t){return e.currentYearPositions.indexOf(t[0])}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,tradeHour:t.tradeHour,id:t.id}}).value(),this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]),r.forEach(function(t){var r=0,a=0,n=0;e.detailedDayTrades.forEach(function(e){e.tradeHour&&e.tradeHour.forEach(function(i){var o=h()(e.LastExitDate).set({h:t,m:0}),s=h()(e.LastExitDate).set({h:t+1,m:0});h()(e.LastExitDate).set({h:i.entryHour,m:i.entryMinute}).isBetween(o,s)&&(r+=1,"Profit"===i.outcome&&(a+=1),"Loss"===i.outcome&&(n+=1))})});var i=0;a>0&&(i=Number(Number(100*Number((a/r).toFixed(2))).toFixed(0))),e.currentYearEntryHours.push({hour:t,hourTrades:r,hourWins:a,hourLoses:n,winRate:[i]})}),this.hourlyDetails=this.currentYearEntryHours),this.isLoading.next(!0)}},{key:"getDetailedTagTrades",value:function(t){var e=[];"Weekly"===this.chartDisplay&&(this.currentWeekPositions.length>0&&this.currentWeekPositions.map(function(r){r.AllTradeTag&&r.AllTradeTag.map(function(a){a.keywordvalue===t&&e.push({x:h()(r.LastExitDate).format("DD"),y:r.totalgainloss,tradedate:h()(r.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:r.StockSymbol,TradeType:r.OptionStrategy,id:r.id})})}),this.DetailedChartOptions.series=[{name:"P&L",data:e}]),"Monthly"===this.chartDisplay&&(this.currentMonthPositions.length>0&&this.currentMonthPositions.map(function(r){r.AllTradeTag&&r.AllTradeTag.map(function(a){a.keywordvalue===t&&e.push({x:h()(r.LastExitDate).format("DD"),y:r.totalgainloss,tradedate:h()(r.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:r.StockSymbol,TradeType:r.OptionStrategy,id:r.id})})}),this.DetailedChartOptions.series=[{name:"P&L",data:e}]),"Yearly"===this.chartDisplay&&(this.currentYearPositions.length>0&&this.currentYearPositions.map(function(r){r.AllTradeTag&&r.AllTradeTag.map(function(a){a.keywordvalue===t&&e.push({x:h()(r.LastExitDate).format("DD"),y:r.totalgainloss,tradedate:h()(r.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:r.StockSymbol,TradeType:r.OptionStrategy,id:r.id})})}),this.DetailedChartOptions.series=[{name:"P&L",data:e}]),this.isLoading.next(!0)}},{key:"updateSeries",value:function(){var t=this;if(this.winRateChartOptions.series=[],this.hourlyDetails=[],"Weekly"===this.chartDisplay&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(t){return h()(t.LastExitDate).isSameOrAfter(h()().startOf("week"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("week"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,id:t.id}}).value(),this.currentWeekChartTrades.length>0)){this.chartOptions.series=[{name:"P&L",data:this.currentWeekChartTrades}],this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}],this.winRateChartOptions.series=isNaN(this.currentWeekWinRate)?[0]:[this.currentWeekWinRate],this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]);var e=[],r=0,a=0,n=0,i=0,o=0;this.detailedStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(r=e.totalgainloss/t.currentWeekProfit*100)<0&&(r=-r),"Long Call Intraday"===e.OptionStrategy&&(a=e.totalgainloss/t.currentWeekProfit*100)<0&&(a=-a),"Long Put Intraday"===e.OptionStrategy&&(n=e.totalgainloss/t.currentWeekProfit*100)<0&&(n=-n),"Short Call Intraday"===e.OptionStrategy&&(i=e.totalgainloss/t.currentWeekProfit*100)<0&&(i=-i),"Short Put Intraday"===e.OptionStrategy&&(o=e.totalgainloss/t.currentWeekProfit*100)<0&&(o=-o)}),this.stockTypeChartOptions.labels=[],r>0&&(e.push(r.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),a>0&&(e.push(a.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),n>0&&(e.push(n.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),i>0&&(e.push(i.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),o>0&&(e.push(o.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=e,this.hourlyDetails=this.currentWeekEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentWeekTradeTags}],this.isLoading.next(!0)}"Monthly"===this.chartDisplay&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(t){return h()(t.LastExitDate).isSameOrAfter(h()().startOf("month"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("month"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,id:t.id}}).value(),this.currentMonthChartTrades.length>0)&&(this.chartOptions.series=[{name:"P&L",data:this.currentMonthChartTrades}],this.winRateChartOptions.series=isNaN(this.currentMonthWinRate)?[0]:[this.currentMonthWinRate],this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]),e=[],r=0,a=0,n=0,i=0,o=0,this.detailedMonthlyStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(r=e.totalgainloss/t.currentMonthProfit*100)<0&&(r=-r),"Long Call Intraday"===e.OptionStrategy&&(a=e.totalgainloss/t.currentMonthProfit*100)<0&&(a=-a),"Long Put Intraday"===e.OptionStrategy&&(n=e.totalgainloss/t.currentMonthProfit*100)<0&&(n=-n),"Short Call Intraday"===e.OptionStrategy&&(i=e.totalgainloss/t.currentMonthProfit*100)<0&&(i=-i),"Short Put Intraday"===e.OptionStrategy&&(o=e.totalgainloss/t.currentMonthProfit*100)<0&&(o=-o)}),this.stockTypeChartOptions.labels=[],r>0&&(e.push(r.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),a>0&&(e.push(a.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),n>0&&(e.push(n.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),i>0&&(e.push(i.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),o>0&&(e.push(o.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=e,this.hourlyDetails=this.currentMonthEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentMonthTradeTags}],this.isLoading.next(!0)),"Yearly"===this.chartDisplay&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(t){return h()(t.LastExitDate).isSameOrAfter(h()().startOf("year"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("year"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,id:t.id}}).value(),this.chartOptions.series=[{name:"P&L",data:this.currentYearChartTrades}],this.winRateChartOptions.series=isNaN(this.currentYearWinRate)?[0]:[this.currentYearWinRate],this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]),e=[],r=0,a=0,n=0,i=0,o=0,this.detailedYearlyStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(r=e.totalgainloss/t.currentYearProfit*100)<0&&(r=-r),"Long Call Intraday"===e.OptionStrategy&&(a=e.totalgainloss/t.currentYearProfit*100)<0&&(a=-a),"Long Put Intraday"===e.OptionStrategy&&(n=e.totalgainloss/t.currentYearProfit*100)<0&&(n=-n),"Short Call Intraday"===e.OptionStrategy&&(i=e.totalgainloss/t.currentYearProfit*100)<0&&(i=-i),"Short Put Intraday"===e.OptionStrategy&&(o=e.totalgainloss/t.currentYearProfit*100)<0&&(o=-o)}),this.stockTypeChartOptions.labels=[],r>0&&(e.push(r.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),a>0&&(e.push(a.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),n>0&&(e.push(n.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),i>0&&(e.push(i.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),o>0&&(e.push(o.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=e,this.hourlyDetails=this.currentYearEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentYearTradeTags}],this.isLoading.next(!0)),this.tradejournals.length>0&&("Weekly"===this.chartDisplay?this.currentWeekChartTrades.length<=0&&(this.detailedDayTrades=Mt(this.tradejournals).filter(function(t){return h()(t.LastExitDate).isSameOrAfter(h()().startOf("month"))&&h()(t.LastExitDate).isSameOrBefore(h()().endOf("month"))}).map(function(t){return{x:h()(t.LastExitDate).format("DD"),y:t.totalgainloss,tradedate:h()(t.LastExitDate).format("ddd, MMM Do YYYY"),stockSymbol:t.StockSymbol,TradeType:t.OptionStrategy,id:t.id}}).value(),this.chartOptions.series=[{name:"P&L",data:this.currentMonthChartTrades}],this.winRateChartOptions.series=isNaN(this.currentMonthWinRate)?[0]:[this.currentMonthWinRate],this.detailedDayTrades.length>0&&(this.DetailedChartOptions.series=[{name:"P&L",data:this.detailedDayTrades}]),e=[],r=0,a=0,n=0,i=0,o=0,this.detailedMonthlyStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(r=e.totalgainloss/t.currentMonthProfit*100)<0&&(r=-r),"Long Call Intraday"===e.OptionStrategy&&(a=e.totalgainloss/t.currentMonthProfit*100)<0&&(a=-a),"Long Put Intraday"===e.OptionStrategy&&(n=e.totalgainloss/t.currentMonthProfit*100)<0&&(n=-n),"Short Call Intraday"===e.OptionStrategy&&(i=e.totalgainloss/t.currentMonthProfit*100)<0&&(i=-i),"Short Put Intraday"===e.OptionStrategy&&(o=e.totalgainloss/t.currentMonthProfit*100)<0&&(o=-o)}),this.stockTypeChartOptions.labels=[],r>0&&(e.push(r.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),a>0&&(e.push(a.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),n>0&&(e.push(n.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),i>0&&(e.push(i.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),o>0&&(e.push(o.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=e,this.hourlyDetails=this.currentMonthEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentMonthTradeTags}],this.chartDisplay="Monthly",this.isLoading.next(!0)):"Monthly"===this.chartDisplay?this.currentMonthChartTrades.length<=0&&(this.chartOptions.series=[{name:"P&L",data:this.currentYearChartTrades}],this.winRateChartOptions.series=isNaN(this.currentYearWinRate)?[0]:[this.currentYearWinRate],e=[],r=0,a=0,n=0,i=0,o=0,this.detailedYearlyStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(r=e.totalgainloss/t.currentYearProfit*100)<0&&(r=-r),"Long Call Intraday"===e.OptionStrategy&&(a=e.totalgainloss/t.currentYearProfit*100)<0&&(a=-a),"Long Put Intraday"===e.OptionStrategy&&(n=e.totalgainloss/t.currentYearProfit*100)<0&&(n=-n),"Short Call Intraday"===e.OptionStrategy&&(i=e.totalgainloss/t.currentYearProfit*100)<0&&(i=-i),"Short Put Intraday"===e.OptionStrategy&&(o=e.totalgainloss/t.currentYearProfit*100)<0&&(o=-o)}),this.stockTypeChartOptions.labels=[],r>0&&(e.push(r.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),a>0&&(e.push(a.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),n>0&&(e.push(n.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),i>0&&(e.push(i.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),o>0&&(e.push(o.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=e,this.hourlyDetails=this.currentYearEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentYearTradeTags}],this.chartDisplay="Yearly",this.isLoading.next(!0)):(this.chartOptions.series=[{name:"P&L",data:this.currentYearChartTrades}],this.winRateChartOptions.series=isNaN(this.currentYearWinRate)?[0]:[this.currentYearWinRate],e=[],r=0,a=0,n=0,i=0,o=0,this.detailedYearlyStockType.forEach(function(e){"Futures Intraday"!==e.OptionStrategy&&"Futures"!==e.OptionStrategy||(r=e.totalgainloss/t.currentYearProfit*100)<0&&(r=-r),"Long Call Intraday"===e.OptionStrategy&&(a=e.totalgainloss/t.currentYearProfit*100)<0&&(a=-a),"Long Put Intraday"===e.OptionStrategy&&(n=e.totalgainloss/t.currentYearProfit*100)<0&&(n=-n),"Short Call Intraday"===e.OptionStrategy&&(i=e.totalgainloss/t.currentYearProfit*100)<0&&(i=-i),"Short Put Intraday"===e.OptionStrategy&&(o=e.totalgainloss/t.currentYearProfit*100)<0&&(o=-o)}),this.stockTypeChartOptions.labels=[],r>0&&(e.push(r.toFixed(0)),this.stockTypeChartOptions.labels.push("Futures")),a>0&&(e.push(a.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Call")),n>0&&(e.push(n.toFixed(0)),this.stockTypeChartOptions.labels.push("Long Put")),i>0&&(e.push(i.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Call")),o>0&&(e.push(o.toFixed(0)),this.stockTypeChartOptions.labels.push("Short Put")),this.stockTypeChartOptions.series=e,this.hourlyDetails=this.currentYearEntryHours,this.tradeTagsChartOptions.series=[{name:"P&L",data:this.currentYearTradeTags}],this.chartDisplay="Yearly",this.isLoading.next(!0)))}},{key:"openTradeJournal",value:function(t){this.router.navigate(["/trade/tradeJournal/edit/"+t])}},{key:"resetTrades",value:function(){this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:h()([h()().year()]).format("M/DD/YYYY"),toDate:h()().add(1,"days").format()}),this.chartDisplay="Weekly"}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}},{key:"isLoading$",get:function(){return this.isLoading.asObservable()}}]),t}(),fe.\u0275fac=function(t){return new(t||fe)(y.Ub(S.a),y.Ub(K.a),y.Ub(tt.h))},fe.\u0275cmp=y.Ob({type:fe,selectors:[["app-performance-analytics"]],viewQuery:function(t,e){var r;1&t&&y.Vc(Kt,!0),2&t&&y.Dc(r=y.mc())&&(e.chart=r.first)},features:[y.Gb([{provide:X.b,useClass:q.b},{provide:X.c,useClass:q.c}])],decls:111,vars:108,consts:[[1,"card","card-custom","card-stretch",2,"min-height","550px"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"card-body"],[1,"row"],[1,"col-lg-6"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData"],[1,"row","mt-5"],[1,"col-lg-12"],["class",".text-dark","style","\n                      margin-top: 10px;\n                      text-align: right;\n                      margin-right: 10px;\n                    ",3,"ngStyle",4,"ngIf"],[1,"row","mt-5","ml-5"],[1,"col-lg-8"],["name","chartDisplay",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"row","ml-5","mt-5"],[1,"col-lg-2"],[1,"col-lg-8",2,"text-align","left"],["id","winRateChart",1,"ml-10"],[3,"series","chart","plotOptions","labels","fill","stroke"],[1,"col-lg-4"],[1,"col-lg-8",2,"text-align","left","margin-top","-15px"],[1,"font-weight-bold"],[1,"font-weight-bolder","text-primary"],[1,"col-lg-8",2,"text-align","left","margin-top","5px"],[1,"col-lg-6","mt-5"],["id","stockTypeChart"],[3,"series","chart","plotOptions","labels","legend","colors"],["class","row",4,"ngIf"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,".text-dark",2,"margin-top","10px","text-align","right","margin-right","10px",3,"ngStyle"],["cacheSVG","true","class","svg-icon svg-icon-md ml-5",3,"inlineSVG",4,"ngIf"],["cacheSVG","true",1,"svg-icon","svg-icon-md","ml-5",3,"inlineSVG"],["id","DetailedChart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors"],[1,"d-flex","align-items-center","ml-20","mt-15"],[1,"symbol","symbol-40","symbol-light-primary","mr-5"],[1,"symbol-label","font-weight-bolder","font-size-lg"],[1,"d-flex","flex-column","font-weight-bold"],[1,"text-dark","text-hover-primary","mb-1","font-size-lg"],[1,"text-muted"],["id","hourlyWinRateChart",2,"margin-top","10px"],[1,"d-flex","align-items-center","ml-20",2,"margin-top","-10px"],[1,"d-flex","align-items-center","ml-5","mt-15"],[1,"d-flex","align-items-center","ml-5",2,"margin-top","-10px"],["id","tradeTagsChart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","noData","colors","fill"]],template:function(t,e){1&t&&(y.ac(0,"div",0),y.Oc(1,te,3,0,"ng-container",1),y.pc(2,"async"),y.ac(3,"div",0),y.ac(4,"div",2),y.ac(5,"div",3),y.ac(6,"h3",4),y.Qc(7,"Analytics Dashboard"),y.Zb(),y.Zb(),y.ac(8,"div",5),y.ac(9,"button",6),y.lc("click",function(){return e.resetTrades()}),y.Vb(10,"i",7),y.Qc(11," Reset "),y.Zb(),y.Zb(),y.Zb(),y.ac(12,"div",8),y.ac(13,"div",9),y.ac(14,"div",10),y.ac(15,"div",11),y.Vb(16,"apx-chart",12),y.Zb(),y.Zb(),y.ac(17,"div",10),y.ac(18,"div",13),y.ac(19,"div",10),y.ac(20,"div",13),y.ac(21,"div",14),y.Oc(22,ne,5,10,"h4",15),y.Oc(23,se,5,10,"h4",15),y.Oc(24,ue,5,10,"h4",15),y.Zb(),y.Zb(),y.Zb(),y.ac(25,"div",10),y.ac(26,"div",16),y.ac(27,"div",17),y.ac(28,"select",18),y.lc("ngModelChange",function(t){return e.chartDisplay=t})("change",function(){return e.updateSeries()}),y.ac(29,"option"),y.Qc(30,"Weekly"),y.Zb(),y.ac(31,"option"),y.Qc(32,"Monthly"),y.Zb(),y.ac(33,"option"),y.Qc(34,"Yearly"),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(35,"div",19),y.ac(36,"div",10),y.ac(37,"div",9),y.Vb(38,"div",20),y.ac(39,"div",21),y.ac(40,"div",22),y.Vb(41,"apx-chart",23),y.Zb(),y.Zb(),y.Zb(),y.ac(42,"div",9),y.Vb(43,"div",24),y.ac(44,"div",25),y.ac(45,"span",26),y.Qc(46," Total Trades : \xa0 "),y.Zb(),y.ac(47,"span",27),y.Qc(48),y.Zb(),y.Zb(),y.Zb(),y.ac(49,"div",9),y.Vb(50,"div",24),y.ac(51,"div",28),y.ac(52,"span",26),y.Qc(53," Profit Factor : \xa0 "),y.Zb(),y.ac(54,"span",27),y.Qc(55),y.pc(56,"number"),y.pc(57,"number"),y.pc(58,"number"),y.pc(59,"number"),y.Zb(),y.Zb(),y.Zb(),y.ac(60,"div",9),y.Vb(61,"div",24),y.ac(62,"div",28),y.ac(63,"span",26),y.Qc(64," Avg. Win : \xa0 "),y.Zb(),y.ac(65,"span",27),y.Qc(66),y.pc(67,"currency"),y.pc(68,"currency"),y.pc(69,"currency"),y.pc(70,"currency"),y.Zb(),y.Zb(),y.Zb(),y.ac(71,"div",9),y.Vb(72,"div",24),y.ac(73,"div",28),y.ac(74,"span",26),y.Qc(75," Avg. Loss : \xa0 "),y.Zb(),y.ac(76,"span",27),y.Qc(77),y.pc(78,"currency"),y.pc(79,"currency"),y.pc(80,"currency"),y.pc(81,"currency"),y.Zb(),y.Zb(),y.Zb(),y.ac(82,"div",9),y.Vb(83,"div",24),y.ac(84,"div",28),y.ac(85,"span",26),y.Qc(86," Best Trade : \xa0 "),y.Zb(),y.ac(87,"span",27),y.Qc(88),y.pc(89,"number"),y.pc(90,"number"),y.pc(91,"number"),y.pc(92,"number"),y.Zb(),y.Zb(),y.Zb(),y.ac(93,"div",9),y.Vb(94,"div",24),y.ac(95,"div",28),y.ac(96,"span",26),y.Qc(97," Worst Trade : \xa0 "),y.Zb(),y.ac(98,"span",27),y.Qc(99),y.pc(100,"number"),y.pc(101,"number"),y.pc(102,"number"),y.pc(103,"number"),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.ac(104,"div",29),y.ac(105,"div",30),y.Vb(106,"apx-chart",31),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Zb(),y.Oc(107,de,85,66,"div",32),y.pc(108,"async"),y.Oc(109,he,4,11,"div",32),y.pc(110,"async"),y.Zb(),y.Zb(),y.Zb()),2&t&&(y.Hb(1),y.wc("ngIf",y.qc(2,34,e.tradejournalsService.isLoading$)),y.Hb(15),y.wc("series",e.chartOptions.series)("chart",e.chartOptions.chart)("dataLabels",e.chartOptions.dataLabels)("plotOptions",e.chartOptions.plotOptions)("yaxis",e.chartOptions.yaxis)("xaxis",e.chartOptions.xaxis)("title",e.chartOptions.title)("tooltip",e.chartOptions.tooltip)("noData",e.chartOptions.nodata),y.Hb(6),y.wc("ngIf","Weekly"==e.chartDisplay),y.Hb(1),y.wc("ngIf","Monthly"==e.chartDisplay),y.Hb(1),y.wc("ngIf","Yearly"==e.chartDisplay),y.Hb(4),y.wc("ngModel",e.chartDisplay),y.Hb(13),y.wc("series",e.winRateChartOptions.series)("chart",e.winRateChartOptions.chart)("plotOptions",e.winRateChartOptions.plotOptions)("labels",e.winRateChartOptions.labels)("fill",e.winRateChartOptions.fill)("stroke",e.winRateChartOptions.stroke),y.Hb(7),y.Sc(" ","Weekly"==e.chartDisplay?e.currentWeekTotalTrades:"Monthly"==e.chartDisplay?e.currentMonthTotalTrades:"Yearly"==e.chartDisplay?e.currentYearTotalTrades:e.currentWeekTotalTrades," "),y.Hb(7),y.Sc(" ","Weekly"==e.chartDisplay?y.rc(56,36,e.currentWeekProfitFactor,"0.2-2"):"Monthly"==e.chartDisplay?y.rc(57,39,e.currentMonthProfitFactor,"0.2-2"):"Yearly"==e.chartDisplay?y.rc(58,42,e.currentYearProfitFactor,"0.2-2"):y.rc(59,45,e.currentWeekProfitFactor,"0.2-2")," "),y.Hb(11),y.Sc(" ","Weekly"==e.chartDisplay?e.currentWeekAvgProfit?y.sc(67,48,e.currentWeekAvgProfit,"INR","\u20b9 "):0:"Monthly"==e.chartDisplay?e.currentMonthAvgProfit?y.sc(68,52,e.currentMonthAvgProfit,"INR","\u20b9 "):0:"Yearly"==e.chartDisplay?e.currentYearAvgProfit?y.sc(69,56,e.currentYearAvgProfit,"INR","\u20b9 "):0:e.currentWeekAvgProfit?y.sc(70,60,e.currentWeekAvgProfit,"INR","\u20b9 "):0," "),y.Hb(11),y.Sc(" ","Weekly"==e.chartDisplay?e.currentWeekAvgLoss?y.sc(78,64,e.currentWeekAvgLoss,"INR","\u20b9 "):0:"Monthly"==e.chartDisplay?e.currentMonthAvgLoss?y.sc(79,68,e.currentMonthAvgLoss,"INR","\u20b9 "):0:"Yearly"==e.chartDisplay?e.currentMonthAvgLoss?y.sc(80,72,e.currentMonthAvgLoss,"INR","\u20b9 "):0:e.currentMonthAvgLoss?y.sc(81,76,e.currentMonthAvgLoss,"INR","\u20b9 "):0," "),y.Hb(11),y.Sc(" ","Weekly"==e.chartDisplay?y.rc(89,80,e.currentWeekMaxProfit,"0.2-2"):"Monthly"==e.chartDisplay?y.rc(90,83,e.currentMonthMaxProfit,"0.2-2"):"Yearly"==e.chartDisplay?y.rc(91,86,e.currentYearMaxProfit,"0.2-2"):y.rc(92,89,e.currentWeekMaxProfit,"0.2-2")," "),y.Hb(11),y.Sc(" ","Weekly"==e.chartDisplay?y.rc(100,92,e.currentWeekMaxLoss,"0.2-2"):"Monthly"==e.chartDisplay?y.rc(101,95,e.currentMonthMaxLoss,"0.2-2"):"Yearly"==e.chartDisplay?y.rc(102,98,e.currentYearMaxLoss,"0.2-2"):y.rc(103,101,e.currentWeekProfitFactor,"0.2-2")," "),y.Hb(7),y.wc("series",e.stockTypeChartOptions.series)("chart",e.stockTypeChartOptions.chart)("plotOptions",e.stockTypeChartOptions.plotOptions)("labels",e.stockTypeChartOptions.labels)("legend",e.stockTypeChartOptions.legend)("colors",e.stockTypeChartOptions.colors),y.Hb(1),y.wc("ngIf",y.qc(108,104,e.isLoading$)),y.Hb(2),y.wc("ngIf",y.qc(110,106,e.isLoading$)))},directives:[u.o,w.a,et.q,et.j,et.l,et.m,et.s,u.p,c.a],pipes:[u.b,u.g,u.d],styles:["#chart[_ngcontent-%COMP%], #DetailedChart[_ngcontent-%COMP%]{max-width:90%;margin:20px auto}#winRateChart[_ngcontent-%COMP%]{padding:0;max-width:90%;margin:5px auto}#hourlyWinRateChart[_ngcontent-%COMP%]{padding:0;max-width:25%;margin:5px auto}#stockTypeChart[_ngcontent-%COMP%]{padding:0;max-width:100%;margin:25px auto}#tradeTagsChart[_ngcontent-%COMP%]{padding:0;max-width:95%;margin:20px auto}"]}),fe)},{path:"algoAnalytics",component:Xt},{path:"stockAnalytics",component:Ct},{path:"optionsAnalytics",component:gt},{path:"equityAnalytics",component:G},{path:"",redirectTo:"performanceAnalytics",pathMatch:"full"},{path:"**",redirectTo:"performanceAnalytics",pathMatch:"full"}]}],be=((ge=function t(){r(this,t)}).\u0275mod=y.Sb({type:ge}),ge.\u0275inj=y.Rb({factory:function(t){return new(t||ge)},imports:[[tt.l.forChild(ve)],tt.l]}),ge),me=i("oOf3"),xe=((ye=function t(){r(this,t)}).\u0275mod=y.Sb({type:ye}),ye.\u0275inj=y.Rb({factory:function(t){return new(t||ye)},imports:[[u.c,be,w.b,l.a,c.b,s.a,et.g,X.l,X.d,et.p,me.a]]}),ye)},LvDl:function(t,e,r){(function(t){var a;(function(){var n="Expected a function",i="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",c="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Function]",f="[object GeneratorFunction]",p="[object Map]",g="[object Number]",y="[object Object]",v="[object RegExp]",b="[object Set]",m="[object String]",x="[object Symbol]",O="[object WeakMap]",T="[object ArrayBuffer]",k="[object DataView]",D="[object Float32Array]",S="[object Float64Array]",w="[object Int8Array]",L="[object Int16Array]",_="[object Int32Array]",P="[object Uint8Array]",C="[object Uint16Array]",M="[object Uint32Array]",Z=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,j=/(__e\(.*?\)|\b__t\)) \+\n'';/g,W=/&(?:amp|lt|gt|quot|#39);/g,A=/[&<>"']/g,I=RegExp(W.source),R=RegExp(A.source),E=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,F=/<%=([\s\S]+?)%>/g,N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z=/[\\^$.*+?()[\]{}|]/g,B=RegExp(z.source),$=/^\s+/,U=/\s/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,G=/\{\n\/\* \[wrapped with (.+)\] \*/,q=/,? & /,X=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,K=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rt=/\w*$/,at=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,it=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,ct=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,dt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ht="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ft="["+ht+"]",pt="["+dt+"]",gt="\\d+",yt="[a-z\\xdf-\\xf6\\xf8-\\xff]",vt="[^\\ud800-\\udfff"+ht+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",bt="\\ud83c[\\udffb-\\udfff]",mt="[^\\ud800-\\udfff]",xt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",kt="(?:"+yt+"|"+vt+")",Dt="(?:"+Tt+"|"+vt+")",St="(?:"+pt+"|"+bt+")?",wt="[\\ufe0e\\ufe0f]?"+St+"(?:\\u200d(?:"+[mt,xt,Ot].join("|")+")[\\ufe0e\\ufe0f]?"+St+")*",Lt="(?:"+["[\\u2700-\\u27bf]",xt,Ot].join("|")+")"+wt,_t="(?:"+[mt+pt+"?",pt,xt,Ot,"[\\ud800-\\udfff]"].join("|")+")",Pt=RegExp("['\u2019]","g"),Ct=RegExp(pt,"g"),Mt=RegExp(bt+"(?="+bt+")|"+_t+wt,"g"),Zt=RegExp([Tt+"?"+yt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[ft,Tt,"$"].join("|")+")",Dt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[ft,Tt+kt,"$"].join("|")+")",Tt+"?"+kt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Tt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Lt].join("|"),"g"),Yt=RegExp("[\\u200d\\ud800-\\udfff"+dt+"\\ufe0e\\ufe0f]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],At=-1,It={};It[D]=It[S]=It[w]=It[L]=It[_]=It[P]=It["[object Uint8ClampedArray]"]=It[C]=It[M]=!0,It[s]=It[c]=It[T]=It[l]=It[k]=It[u]=It[d]=It[h]=It[p]=It[g]=It[y]=It[v]=It[b]=It[m]=It[O]=!1;var Rt={};Rt[s]=Rt[c]=Rt[T]=Rt[k]=Rt[l]=Rt[u]=Rt[D]=Rt[S]=Rt[w]=Rt[L]=Rt[_]=Rt[p]=Rt[g]=Rt[y]=Rt[v]=Rt[b]=Rt[m]=Rt[x]=Rt[P]=Rt["[object Uint8ClampedArray]"]=Rt[C]=Rt[M]=!0,Rt[d]=Rt[h]=Rt[O]=!1;var Et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ht=parseFloat,Ft=parseInt,Nt="object"==typeof global&&global&&global.Object===Object&&global,Qt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Nt||Qt||Function("return this")(),zt=e&&!e.nodeType&&e,Bt=zt&&"object"==typeof t&&t&&!t.nodeType&&t,$t=Bt&&Bt.exports===zt,Ut=$t&&Nt.process,Jt=function(){try{return Bt&&Bt.require&&Bt.require("util").types||Ut&&Ut.binding&&Ut.binding("util")}catch(t){}}(),Gt=Jt&&Jt.isArrayBuffer,qt=Jt&&Jt.isDate,Xt=Jt&&Jt.isMap,Kt=Jt&&Jt.isRegExp,te=Jt&&Jt.isSet,ee=Jt&&Jt.isTypedArray;function re(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ae(t,e,r,a){for(var n=-1,i=null==t?0:t.length;++n<i;){var o=t[n];e(a,o,r(o),t)}return a}function ne(t,e){for(var r=-1,a=null==t?0:t.length;++r<a&&!1!==e(t[r],r,t););return t}function ie(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function oe(t,e){for(var r=-1,a=null==t?0:t.length;++r<a;)if(!e(t[r],r,t))return!1;return!0}function se(t,e){for(var r=-1,a=null==t?0:t.length,n=0,i=[];++r<a;){var o=t[r];e(o,r,t)&&(i[n++]=o)}return i}function ce(t,e){return!(null==t||!t.length)&&be(t,e,0)>-1}function le(t,e,r){for(var a=-1,n=null==t?0:t.length;++a<n;)if(r(e,t[a]))return!0;return!1}function ue(t,e){for(var r=-1,a=null==t?0:t.length,n=Array(a);++r<a;)n[r]=e(t[r],r,t);return n}function de(t,e){for(var r=-1,a=e.length,n=t.length;++r<a;)t[n+r]=e[r];return t}function he(t,e,r,a){var n=-1,i=null==t?0:t.length;for(a&&i&&(r=t[++n]);++n<i;)r=e(r,t[n],n,t);return r}function fe(t,e,r,a){var n=null==t?0:t.length;for(a&&n&&(r=t[--n]);n--;)r=e(r,t[n],n,t);return r}function pe(t,e){for(var r=-1,a=null==t?0:t.length;++r<a;)if(e(t[r],r,t))return!0;return!1}var ge=Te("length");function ye(t,e,r){var a;return r(t,function(t,r,n){if(e(t,r,n))return a=r,!1}),a}function ve(t,e,r,a){for(var n=t.length,i=r+(a?1:-1);a?i--:++i<n;)if(e(t[i],i,t))return i;return-1}function be(t,e,r){return e==e?function(t,e,r){for(var a=r-1,n=t.length;++a<n;)if(t[a]===e)return a;return-1}(t,e,r):ve(t,xe,r)}function me(t,e,r,a){for(var n=r-1,i=t.length;++n<i;)if(a(t[n],e))return n;return-1}function xe(t){return t!=t}function Oe(t,e){var r=null==t?0:t.length;return r?Se(t,e)/r:NaN}function Te(t){return function(e){return null==e?void 0:e[t]}}function ke(t){return function(e){return null==t?void 0:t[e]}}function De(t,e,r,a,n){return n(t,function(t,n,i){r=a?(a=!1,t):e(r,t,n,i)}),r}function Se(t,e){for(var r,a=-1,n=t.length;++a<n;){var i=e(t[a]);void 0!==i&&(r=void 0===r?i:r+i)}return r}function we(t,e){for(var r=-1,a=Array(t);++r<t;)a[r]=e(r);return a}function Le(t){return t?t.slice(0,ze(t)+1).replace($,""):t}function _e(t){return function(e){return t(e)}}function Pe(t,e){return ue(e,function(e){return t[e]})}function Ce(t,e){return t.has(e)}function Me(t,e){for(var r=-1,a=t.length;++r<a&&be(e,t[r],0)>-1;);return r}function Ze(t,e){for(var r=t.length;r--&&be(e,t[r],0)>-1;);return r}function Ye(t,e){for(var r=t.length,a=0;r--;)t[r]===e&&++a;return a}var je=ke({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),We=ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ae(t){return"\\"+Et[t]}function Ie(t){return Yt.test(t)}function Re(t){var e=-1,r=Array(t.size);return t.forEach(function(t,a){r[++e]=[a,t]}),r}function Ee(t,e){return function(r){return t(e(r))}}function He(t,e){for(var r=-1,a=t.length,n=0,o=[];++r<a;){var s=t[r];s!==e&&s!==i||(t[r]=i,o[n++]=r)}return o}function Fe(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function Ne(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=[t,t]}),r}function Qe(t){return Ie(t)?function(t){for(var e=Mt.lastIndex=0;Mt.test(t);)++e;return e}(t):ge(t)}function Ve(t){return Ie(t)?function(t){return t.match(Mt)||[]}(t):function(t){return t.split("")}(t)}function ze(t){for(var e=t.length;e--&&U.test(t.charAt(e)););return e}var Be=ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),$e=function t(e){var r,a=(e=null==e?Vt:$e.defaults(Vt.Object(),e,$e.pick(Vt,Wt))).Array,U=e.Date,dt=e.Error,ht=e.Function,ft=e.Math,pt=e.Object,gt=e.RegExp,yt=e.String,vt=e.TypeError,bt=a.prototype,mt=pt.prototype,xt=e["__core-js_shared__"],Ot=ht.prototype.toString,Tt=mt.hasOwnProperty,kt=0,Dt=(r=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",St=mt.toString,wt=Ot.call(pt),Lt=Vt._,_t=gt("^"+Ot.call(Tt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=$t?e.Buffer:void 0,Yt=e.Symbol,Et=e.Uint8Array,Nt=Mt?Mt.allocUnsafe:void 0,Qt=Ee(pt.getPrototypeOf,pt),zt=pt.create,Bt=mt.propertyIsEnumerable,Ut=bt.splice,Jt=Yt?Yt.isConcatSpreadable:void 0,ge=Yt?Yt.iterator:void 0,ke=Yt?Yt.toStringTag:void 0,Ue=function(){try{var t=Xn(pt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Je=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,Ge=U&&U.now!==Vt.Date.now&&U.now,qe=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Xe=ft.ceil,Ke=ft.floor,tr=pt.getOwnPropertySymbols,er=Mt?Mt.isBuffer:void 0,rr=e.isFinite,ar=bt.join,nr=Ee(pt.keys,pt),ir=ft.max,or=ft.min,sr=U.now,cr=e.parseInt,lr=ft.random,ur=bt.reverse,dr=Xn(e,"DataView"),hr=Xn(e,"Map"),fr=Xn(e,"Promise"),pr=Xn(e,"Set"),gr=Xn(e,"WeakMap"),yr=Xn(pt,"create"),vr=gr&&new gr,br={},mr=Li(dr),xr=Li(hr),Or=Li(fr),Tr=Li(pr),kr=Li(gr),Dr=Yt?Yt.prototype:void 0,Sr=Dr?Dr.valueOf:void 0,wr=Dr?Dr.toString:void 0;function Lr(t){if(zo(t)&&!jo(t)&&!(t instanceof Mr)){if(t instanceof Cr)return t;if(Tt.call(t,"__wrapped__"))return _i(t)}return new Cr(t)}var _r=function(){function t(){}return function(e){if(!Vo(e))return{};if(zt)return zt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function Pr(){}function Cr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Mr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Zr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function Yr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function jr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}function Wr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new jr;++e<r;)this.add(t[e])}function Ar(t){var e=this.__data__=new Yr(t);this.size=e.size}function Ir(t,e){var r=jo(t),a=!r&&Yo(t),n=!r&&!a&&Ro(t),i=!r&&!a&&!n&&Ko(t),o=r||a||n||i,s=o?we(t.length,yt):[],c=s.length;for(var l in t)!e&&!Tt.call(t,l)||o&&("length"==l||n&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ii(l,c))||s.push(l);return s}function Rr(t){var e=t.length;return e?t[ja(0,e-1)]:void 0}function Er(t,e){return Ti(yn(t),Ur(e,0,t.length))}function Hr(t){return Ti(yn(t))}function Fr(t,e,r){(void 0!==r&&!Co(t[e],r)||void 0===r&&!(e in t))&&Br(t,e,r)}function Nr(t,e,r){var a=t[e];Tt.call(t,e)&&Co(a,r)&&(void 0!==r||e in t)||Br(t,e,r)}function Qr(t,e){for(var r=t.length;r--;)if(Co(t[r][0],e))return r;return-1}function Vr(t,e,r,a){return Kr(t,function(t,n,i){e(a,t,r(t),i)}),a}function zr(t,e){return t&&vn(e,Os(e),t)}function Br(t,e,r){"__proto__"==e&&Ue?Ue(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function $r(t,e){for(var r=-1,n=e.length,i=a(n),o=null==t;++r<n;)i[r]=o?void 0:ys(t,e[r]);return i}function Ur(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}function Jr(t,e,r,a,n,i){var o,c=1&e,d=2&e,O=4&e;if(r&&(o=n?r(t,a,n,i):r(t)),void 0!==o)return o;if(!Vo(t))return t;var Z=jo(t);if(Z){if(o=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Tt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!c)return yn(t,o)}else{var Y=ei(t),j=Y==h||Y==f;if(Ro(t))return un(t,c);if(Y==y||Y==s||j&&!n){if(o=d||j?{}:ai(t),!c)return d?function(t,e){return vn(t,ti(t),e)}(t,function(t,e){return t&&vn(e,Ts(e),t)}(o,t)):function(t,e){return vn(t,Kn(t),e)}(t,zr(o,t))}else{if(!Rt[Y])return n?t:{};o=function(t,e,r){var a=t.constructor;switch(e){case T:return dn(t);case l:case u:return new a(+t);case k:return function(t,e){var r=e?dn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case D:case S:case w:case L:case _:case P:case"[object Uint8ClampedArray]":case C:case M:return hn(t,r);case p:return new a;case g:case m:return new a(t);case v:return function(t){var e=new t.constructor(t.source,rt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new a;case x:return Sr?pt(Sr.call(t)):{}}}(t,Y,c)}}i||(i=new Ar);var W=i.get(t);if(W)return W;i.set(t,o),Go(t)?t.forEach(function(a){o.add(Jr(a,e,r,a,t,i))}):Bo(t)&&t.forEach(function(a,n){o.set(n,Jr(a,e,r,n,t,i))});var A=Z?void 0:(O?d?zn:Vn:d?Ts:Os)(t);return ne(A||t,function(a,n){A&&(a=t[n=a]),Nr(o,n,Jr(a,e,r,n,t,i))}),o}function Gr(t,e,r){var a=r.length;if(null==t)return!a;for(t=pt(t);a--;){var n=r[a],i=t[n];if(void 0===i&&!(n in t)||!(0,e[n])(i))return!1}return!0}function qr(t,e,r){if("function"!=typeof t)throw new vt(n);return bi(function(){t.apply(void 0,r)},e)}function Xr(t,e,r,a){var n=-1,i=ce,o=!0,s=t.length,c=[],l=e.length;if(!s)return c;r&&(e=ue(e,_e(r))),a?(i=le,o=!1):e.length>=200&&(i=Ce,o=!1,e=new Wr(e));t:for(;++n<s;){var u=t[n],d=null==r?u:r(u);if(u=a||0!==u?u:0,o&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;c.push(u)}else i(e,d,a)||c.push(u)}return c}Lr.templateSettings={escape:E,evaluate:H,interpolate:F,variable:"",imports:{_:Lr}},(Lr.prototype=Pr.prototype).constructor=Lr,(Cr.prototype=_r(Pr.prototype)).constructor=Cr,(Mr.prototype=_r(Pr.prototype)).constructor=Mr,Zr.prototype.clear=function(){this.__data__=yr?yr(null):{},this.size=0},Zr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Zr.prototype.get=function(t){var e=this.__data__;if(yr){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Tt.call(e,t)?e[t]:void 0},Zr.prototype.has=function(t){var e=this.__data__;return yr?void 0!==e[t]:Tt.call(e,t)},Zr.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=yr&&void 0===e?"__lodash_hash_undefined__":e,this},Yr.prototype.clear=function(){this.__data__=[],this.size=0},Yr.prototype.delete=function(t){var e=this.__data__,r=Qr(e,t);return!(r<0||(r==e.length-1?e.pop():Ut.call(e,r,1),--this.size,0))},Yr.prototype.get=function(t){var e=this.__data__,r=Qr(e,t);return r<0?void 0:e[r][1]},Yr.prototype.has=function(t){return Qr(this.__data__,t)>-1},Yr.prototype.set=function(t,e){var r=this.__data__,a=Qr(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this},jr.prototype.clear=function(){this.size=0,this.__data__={hash:new Zr,map:new(hr||Yr),string:new Zr}},jr.prototype.delete=function(t){var e=Gn(this,t).delete(t);return this.size-=e?1:0,e},jr.prototype.get=function(t){return Gn(this,t).get(t)},jr.prototype.has=function(t){return Gn(this,t).has(t)},jr.prototype.set=function(t,e){var r=Gn(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this},Wr.prototype.add=Wr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Wr.prototype.has=function(t){return this.__data__.has(t)},Ar.prototype.clear=function(){this.__data__=new Yr,this.size=0},Ar.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Ar.prototype.get=function(t){return this.__data__.get(t)},Ar.prototype.has=function(t){return this.__data__.has(t)},Ar.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Yr){var a=r.__data__;if(!hr||a.length<199)return a.push([t,e]),this.size=++r.size,this;r=this.__data__=new jr(a)}return r.set(t,e),this.size=r.size,this};var Kr=xn(sa),ta=xn(ca,!0);function ea(t,e){var r=!0;return Kr(t,function(t,a,n){return r=!!e(t,a,n)}),r}function ra(t,e,r){for(var a=-1,n=t.length;++a<n;){var i=t[a],o=e(i);if(null!=o&&(void 0===s?o==o&&!Xo(o):r(o,s)))var s=o,c=i}return c}function aa(t,e){var r=[];return Kr(t,function(t,a,n){e(t,a,n)&&r.push(t)}),r}function na(t,e,r,a,n){var i=-1,o=t.length;for(r||(r=ni),n||(n=[]);++i<o;){var s=t[i];e>0&&r(s)?e>1?na(s,e-1,r,a,n):de(n,s):a||(n[n.length]=s)}return n}var ia=On(),oa=On(!0);function sa(t,e){return t&&ia(t,e,Os)}function ca(t,e){return t&&oa(t,e,Os)}function la(t,e){return se(e,function(e){return Fo(t[e])})}function ua(t,e){for(var r=0,a=(e=on(e,t)).length;null!=t&&r<a;)t=t[wi(e[r++])];return r&&r==a?t:void 0}function da(t,e,r){var a=e(t);return jo(t)?a:de(a,r(t))}function ha(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ke&&ke in pt(t)?function(t){var e=Tt.call(t,ke),r=t[ke];try{t[ke]=void 0;var a=!0}catch(i){}var n=St.call(t);return a&&(e?t[ke]=r:delete t[ke]),n}(t):function(t){return St.call(t)}(t)}function fa(t,e){return t>e}function pa(t,e){return null!=t&&Tt.call(t,e)}function ga(t,e){return null!=t&&e in pt(t)}function ya(t,e,r){for(var n=r?le:ce,i=t[0].length,o=t.length,s=o,c=a(o),l=1/0,u=[];s--;){var d=t[s];s&&e&&(d=ue(d,_e(e))),l=or(d.length,l),c[s]=!r&&(e||i>=120&&d.length>=120)?new Wr(s&&d):void 0}d=t[0];var h=-1,f=c[0];t:for(;++h<i&&u.length<l;){var p=d[h],g=e?e(p):p;if(p=r||0!==p?p:0,!(f?Ce(f,g):n(u,g,r))){for(s=o;--s;){var y=c[s];if(!(y?Ce(y,g):n(t[s],g,r)))continue t}f&&f.push(g),u.push(p)}}return u}function va(t,e,r){var a=null==(t=pi(t,e=on(e,t)))?t:t[wi(Ei(e))];return null==a?void 0:re(a,t,r)}function ba(t){return zo(t)&&ha(t)==s}function ma(t,e,r,a,n){return t===e||(null==t||null==e||!zo(t)&&!zo(e)?t!=t&&e!=e:function(t,e,r,a,n,i){var o=jo(t),h=jo(e),f=o?c:ei(t),O=h?c:ei(e),D=(f=f==s?y:f)==y,S=(O=O==s?y:O)==y,w=f==O;if(w&&Ro(t)){if(!Ro(e))return!1;o=!0,D=!1}if(w&&!D)return i||(i=new Ar),o||Ko(t)?Nn(t,e,r,a,n,i):function(t,e,r,a,n,i,o){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!i(new Et(t),new Et(e)));case l:case u:case g:return Co(+t,+e);case d:return t.name==e.name&&t.message==e.message;case v:case m:return t==e+"";case p:var s=Re;case b:if(s||(s=Fe),t.size!=e.size&&!(1&a))return!1;var c=o.get(t);if(c)return c==e;a|=2,o.set(t,e);var h=Nn(s(t),s(e),a,n,i,o);return o.delete(t),h;case x:if(Sr)return Sr.call(t)==Sr.call(e)}return!1}(t,e,f,r,a,n,i);if(!(1&r)){var L=D&&Tt.call(t,"__wrapped__"),_=S&&Tt.call(e,"__wrapped__");if(L||_){var P=L?t.value():t,C=_?e.value():e;return i||(i=new Ar),n(P,C,r,a,i)}}return!!w&&(i||(i=new Ar),function(t,e,r,a,n,i){var o=1&r,s=Vn(t),c=s.length;if(c!=Vn(e).length&&!o)return!1;for(var l=c;l--;){var u=s[l];if(!(o?u in e:Tt.call(e,u)))return!1}var d=i.get(t),h=i.get(e);if(d&&h)return d==e&&h==t;var f=!0;i.set(t,e),i.set(e,t);for(var p=o;++l<c;){var g=t[u=s[l]],y=e[u];if(a)var v=o?a(y,g,u,e,t,i):a(g,y,u,t,e,i);if(!(void 0===v?g===y||n(g,y,r,a,i):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(f=!1)}return i.delete(t),i.delete(e),f}(t,e,r,a,n,i))}(t,e,r,a,ma,n))}function xa(t,e,r,a){var n=r.length,i=n,o=!a;if(null==t)return!i;for(t=pt(t);n--;){var s=r[n];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++n<i;){var c=(s=r[n])[0],l=t[c],u=s[1];if(o&&s[2]){if(void 0===l&&!(c in t))return!1}else{var d=new Ar;if(a)var h=a(l,u,c,t,e,d);if(!(void 0===h?ma(u,l,3,a,d):h))return!1}}return!0}function Oa(t){return!(!Vo(t)||(e=t,Dt&&Dt in e))&&(Fo(t)?_t:it).test(Li(t));var e}function Ta(t){return"function"==typeof t?t:null==t?$s:"object"==typeof t?jo(t)?La(t[0],t[1]):wa(t):rc(t)}function ka(t){if(!ui(t))return nr(t);var e=[];for(var r in pt(t))Tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Da(t,e){return t<e}function Sa(t,e){var r=-1,n=Ao(t)?a(t.length):[];return Kr(t,function(t,a,i){n[++r]=e(t,a,i)}),n}function wa(t){var e=qn(t);return 1==e.length&&e[0][2]?hi(e[0][0],e[0][1]):function(r){return r===t||xa(r,t,e)}}function La(t,e){return si(t)&&di(e)?hi(wi(t),e):function(r){var a=ys(r,t);return void 0===a&&a===e?vs(r,t):ma(e,a,3)}}function _a(t,e,r,a,n){t!==e&&ia(e,function(i,o){if(n||(n=new Ar),Vo(i))!function(t,e,r,a,n,i,o){var s=yi(t,r),c=yi(e,r),l=o.get(c);if(l)Fr(t,r,l);else{var u=i?i(s,c,r+"",t,e,o):void 0,d=void 0===u;if(d){var h=jo(c),f=!h&&Ro(c),p=!h&&!f&&Ko(c);u=c,h||f||p?jo(s)?u=s:Io(s)?u=yn(s):f?(d=!1,u=un(c,!0)):p?(d=!1,u=hn(c,!0)):u=[]:Uo(c)||Yo(c)?(u=s,Yo(s)?u=ss(s):Vo(s)&&!Fo(s)||(u=ai(c))):d=!1}d&&(o.set(c,u),n(u,c,a,i,o),o.delete(c)),Fr(t,r,u)}}(t,e,o,r,_a,a,n);else{var s=a?a(yi(t,o),i,o+"",t,e,n):void 0;void 0===s&&(s=i),Fr(t,o,s)}},Ts)}function Pa(t,e){var r=t.length;if(r)return ii(e+=e<0?r:0,r)?t[e]:void 0}function Ca(t,e,r){e=e.length?ue(e,function(t){return jo(t)?function(e){return ua(e,1===t.length?t[0]:t)}:t}):[$s];var a=-1;return e=ue(e,_e(Jn())),function(t,e){var a=t.length;for(t.sort(function(t,e){return function(t,e,r){for(var a=-1,n=t.criteria,i=e.criteria,o=n.length,s=r.length;++a<o;){var c=fn(n[a],i[a]);if(c)return a>=s?c:c*("desc"==r[a]?-1:1)}return t.index-e.index}(t,e,r)});a--;)t[a]=t[a].value;return t}(Sa(t,function(t,r,n){return{criteria:ue(e,function(e){return e(t)}),index:++a,value:t}}))}function Ma(t,e,r){for(var a=-1,n=e.length,i={};++a<n;){var o=e[a],s=ua(t,o);r(s,o)&&Ea(i,on(o,t),s)}return i}function Za(t,e,r,a){var n=a?me:be,i=-1,o=e.length,s=t;for(t===e&&(e=yn(e)),r&&(s=ue(t,_e(r)));++i<o;)for(var c=0,l=e[i],u=r?r(l):l;(c=n(s,u,c,a))>-1;)s!==t&&Ut.call(s,c,1),Ut.call(t,c,1);return t}function Ya(t,e){for(var r=t?e.length:0,a=r-1;r--;){var n=e[r];if(r==a||n!==i){var i=n;ii(n)?Ut.call(t,n,1):qa(t,n)}}return t}function ja(t,e){return t+Ke(lr()*(e-t+1))}function Wa(t,e){var r="";if(!t||e<1||e>9007199254740991)return r;do{e%2&&(r+=t),(e=Ke(e/2))&&(t+=t)}while(e);return r}function Aa(t,e){return mi(fi(t,e,$s),t+"")}function Ia(t){return Rr(Cs(t))}function Ra(t,e){var r=Cs(t);return Ti(r,Ur(e,0,r.length))}function Ea(t,e,r,a){if(!Vo(t))return t;for(var n=-1,i=(e=on(e,t)).length,o=i-1,s=t;null!=s&&++n<i;){var c=wi(e[n]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(n!=o){var u=s[c];void 0===(l=a?a(u,c,s):void 0)&&(l=Vo(u)?u:ii(e[n+1])?[]:{})}Nr(s,c,l),s=s[c]}return t}var Ha=vr?function(t,e){return vr.set(t,e),t}:$s,Fa=Ue?function(t,e){return Ue(t,"toString",{configurable:!0,enumerable:!1,value:Vs(e),writable:!0})}:$s;function Na(t){return Ti(Cs(t))}function Qa(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=a(i);++n<i;)o[n]=t[n+e];return o}function Va(t,e){var r;return Kr(t,function(t,a,n){return!(r=e(t,a,n))}),!!r}function za(t,e,r){var a=0,n=null==t?a:t.length;if("number"==typeof e&&e==e&&n<=2147483647){for(;a<n;){var i=a+n>>>1,o=t[i];null!==o&&!Xo(o)&&(r?o<=e:o<e)?a=i+1:n=i}return n}return Ba(t,e,$s,r)}function Ba(t,e,r,a){var n=0,i=null==t?0:t.length;if(0===i)return 0;for(var o=(e=r(e))!=e,s=null===e,c=Xo(e),l=void 0===e;n<i;){var u=Ke((n+i)/2),d=r(t[u]),h=void 0!==d,f=null===d,p=d==d,g=Xo(d);if(o)var y=a||p;else y=l?p&&(a||h):s?p&&h&&(a||!f):c?p&&h&&!f&&(a||!g):!f&&!g&&(a?d<=e:d<e);y?n=u+1:i=u}return or(i,4294967294)}function $a(t,e){for(var r=-1,a=t.length,n=0,i=[];++r<a;){var o=t[r],s=e?e(o):o;if(!r||!Co(s,c)){var c=s;i[n++]=0===o?0:o}}return i}function Ua(t){return"number"==typeof t?t:Xo(t)?NaN:+t}function Ja(t){if("string"==typeof t)return t;if(jo(t))return ue(t,Ja)+"";if(Xo(t))return wr?wr.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ga(t,e,r){var a=-1,n=ce,i=t.length,o=!0,s=[],c=s;if(r)o=!1,n=le;else if(i>=200){var l=e?null:An(t);if(l)return Fe(l);o=!1,n=Ce,c=new Wr}else c=e?[]:s;t:for(;++a<i;){var u=t[a],d=e?e(u):u;if(u=r||0!==u?u:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue t;e&&c.push(d),s.push(u)}else n(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}function qa(t,e){return null==(t=pi(t,e=on(e,t)))||delete t[wi(Ei(e))]}function Xa(t,e,r,a){return Ea(t,e,r(ua(t,e)),a)}function Ka(t,e,r,a){for(var n=t.length,i=a?n:-1;(a?i--:++i<n)&&e(t[i],i,t););return r?Qa(t,a?0:i,a?i+1:n):Qa(t,a?i+1:0,a?n:i)}function tn(t,e){var r=t;return r instanceof Mr&&(r=r.value()),he(e,function(t,e){return e.func.apply(e.thisArg,de([t],e.args))},r)}function en(t,e,r){var n=t.length;if(n<2)return n?Ga(t[0]):[];for(var i=-1,o=a(n);++i<n;)for(var s=t[i],c=-1;++c<n;)c!=i&&(o[i]=Xr(o[i]||s,t[c],e,r));return Ga(na(o,1),e,r)}function rn(t,e,r){for(var a=-1,n=t.length,i=e.length,o={};++a<n;)r(o,t[a],a<i?e[a]:void 0);return o}function an(t){return Io(t)?t:[]}function nn(t){return"function"==typeof t?t:$s}function on(t,e){return jo(t)?t:si(t,e)?[t]:Si(cs(t))}var sn=Aa;function cn(t,e,r){var a=t.length;return r=void 0===r?a:r,!e&&r>=a?t:Qa(t,e,r)}var ln=Je||function(t){return Vt.clearTimeout(t)};function un(t,e){if(e)return t.slice();var r=t.length,a=Nt?Nt(r):new t.constructor(r);return t.copy(a),a}function dn(t){var e=new t.constructor(t.byteLength);return new Et(e).set(new Et(t)),e}function hn(t,e){var r=e?dn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function fn(t,e){if(t!==e){var r=void 0!==t,a=null===t,n=t==t,i=Xo(t),o=void 0!==e,s=null===e,c=e==e,l=Xo(e);if(!s&&!l&&!i&&t>e||i&&o&&c&&!s&&!l||a&&o&&c||!r&&c||!n)return 1;if(!a&&!i&&!l&&t<e||l&&r&&n&&!a&&!i||s&&r&&n||!o&&n||!c)return-1}return 0}function pn(t,e,r,n){for(var i=-1,o=t.length,s=r.length,c=-1,l=e.length,u=ir(o-s,0),d=a(l+u),h=!n;++c<l;)d[c]=e[c];for(;++i<s;)(h||i<o)&&(d[r[i]]=t[i]);for(;u--;)d[c++]=t[i++];return d}function gn(t,e,r,n){for(var i=-1,o=t.length,s=-1,c=r.length,l=-1,u=e.length,d=ir(o-c,0),h=a(d+u),f=!n;++i<d;)h[i]=t[i];for(var p=i;++l<u;)h[p+l]=e[l];for(;++s<c;)(f||i<o)&&(h[p+r[s]]=t[i++]);return h}function yn(t,e){var r=-1,n=t.length;for(e||(e=a(n));++r<n;)e[r]=t[r];return e}function vn(t,e,r,a){var n=!r;r||(r={});for(var i=-1,o=e.length;++i<o;){var s=e[i],c=a?a(r[s],t[s],s,r,t):void 0;void 0===c&&(c=t[s]),n?Br(r,s,c):Nr(r,s,c)}return r}function bn(t,e){return function(r,a){var n=jo(r)?ae:Vr,i=e?e():{};return n(r,t,Jn(a,2),i)}}function mn(t){return Aa(function(e,r){var a=-1,n=r.length,i=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(n--,i):void 0,o&&oi(r[0],r[1],o)&&(i=n<3?void 0:i,n=1),e=pt(e);++a<n;){var s=r[a];s&&t(e,s,a,i)}return e})}function xn(t,e){return function(r,a){if(null==r)return r;if(!Ao(r))return t(r,a);for(var n=r.length,i=e?n:-1,o=pt(r);(e?i--:++i<n)&&!1!==a(o[i],i,o););return r}}function On(t){return function(e,r,a){for(var n=-1,i=pt(e),o=a(e),s=o.length;s--;){var c=o[t?s:++n];if(!1===r(i[c],c,i))break}return e}}function Tn(t){return function(e){var r=Ie(e=cs(e))?Ve(e):void 0,a=r?r[0]:e.charAt(0),n=r?cn(r,1).join(""):e.slice(1);return a[t]()+n}}function kn(t){return function(e){return he(Fs(Ys(e).replace(Pt,"")),t,"")}}function Dn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=_r(t.prototype),a=t.apply(r,e);return Vo(a)?a:r}}function Sn(t){return function(e,r,a){var n=pt(e);if(!Ao(e)){var i=Jn(r,3);e=Os(e),r=function(t){return i(n[t],t,n)}}var o=t(e,r,a);return o>-1?n[i?e[o]:o]:void 0}}function wn(t){return Qn(function(e){var r=e.length,a=r,i=Cr.prototype.thru;for(t&&e.reverse();a--;){var o=e[a];if("function"!=typeof o)throw new vt(n);if(i&&!s&&"wrapper"==$n(o))var s=new Cr([],!0)}for(a=s?a:r;++a<r;){var c=$n(o=e[a]),l="wrapper"==c?Bn(o):void 0;s=l&&ci(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[$n(l[0])].apply(s,l[3]):1==o.length&&ci(o)?s[c]():s.thru(o)}return function(){var t=arguments,a=t[0];if(s&&1==t.length&&jo(a))return s.plant(a).value();for(var n=0,i=r?e[n].apply(this,t):a;++n<r;)i=e[n].call(this,i);return i}})}function Ln(t,e,r,n,i,o,s,c,l,u){var d=128&e,h=1&e,f=2&e,p=24&e,g=512&e,y=f?void 0:Dn(t);return function v(){for(var b=arguments.length,m=a(b),x=b;x--;)m[x]=arguments[x];if(p)var O=Un(v),T=Ye(m,O);if(n&&(m=pn(m,n,i,p)),o&&(m=gn(m,o,s,p)),b-=T,p&&b<u){var k=He(m,O);return jn(t,e,Ln,v.placeholder,r,m,k,c,l,u-b)}var D=h?r:this,S=f?D[t]:t;return b=m.length,c?m=gi(m,c):g&&b>1&&m.reverse(),d&&l<b&&(m.length=l),this&&this!==Vt&&this instanceof v&&(S=y||Dn(S)),S.apply(D,m)}}function _n(t,e){return function(r,a){return function(t,e,r,a){return sa(t,function(t,n,i){e(a,r(t),n,i)}),a}(r,t,e(a),{})}}function Pn(t,e){return function(r,a){var n;if(void 0===r&&void 0===a)return e;if(void 0!==r&&(n=r),void 0!==a){if(void 0===n)return a;"string"==typeof r||"string"==typeof a?(r=Ja(r),a=Ja(a)):(r=Ua(r),a=Ua(a)),n=t(r,a)}return n}}function Cn(t){return Qn(function(e){return e=ue(e,_e(Jn())),Aa(function(r){var a=this;return t(e,function(t){return re(t,a,r)})})})}function Mn(t,e){var r=(e=void 0===e?" ":Ja(e)).length;if(r<2)return r?Wa(e,t):e;var a=Wa(e,Xe(t/Qe(e)));return Ie(e)?cn(Ve(a),0,t).join(""):a.slice(0,t)}function Zn(t){return function(e,r,n){return n&&"number"!=typeof n&&oi(e,r,n)&&(r=n=void 0),e=as(e),void 0===r?(r=e,e=0):r=as(r),function(t,e,r,n){for(var i=-1,o=ir(Xe((e-t)/(r||1)),0),s=a(o);o--;)s[n?o:++i]=t,t+=r;return s}(e,r,n=void 0===n?e<r?1:-1:as(n),t)}}function Yn(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=os(e),r=os(r)),t(e,r)}}function jn(t,e,r,a,n,i,o,s,c,l){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var d=[t,e,n,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,s,c,l],h=r.apply(void 0,d);return ci(t)&&vi(h,d),h.placeholder=a,xi(h,t,e)}function Wn(t){var e=ft[t];return function(t,r){if(t=os(t),(r=null==r?0:or(ns(r),292))&&rr(t)){var a=(cs(t)+"e").split("e");return+((a=(cs(e(a[0]+"e"+(+a[1]+r)))+"e").split("e"))[0]+"e"+(+a[1]-r))}return e(t)}}var An=pr&&1/Fe(new pr([,-0]))[1]==1/0?function(t){return new pr(t)}:Xs;function In(t){return function(e){var r=ei(e);return r==p?Re(e):r==b?Ne(e):function(t,e){return ue(e,function(e){return[e,t[e]]})}(e,t(e))}}function Rn(t,e,r,o,s,c,l,u){var d=2&e;if(!d&&"function"!=typeof t)throw new vt(n);var h=o?o.length:0;if(h||(e&=-97,o=s=void 0),l=void 0===l?l:ir(ns(l),0),u=void 0===u?u:ns(u),h-=s?s.length:0,64&e){var f=o,p=s;o=s=void 0}var g=d?void 0:Bn(t),y=[t,e,r,o,s,f,p,c,l,u];if(g&&function(t,e){var r=t[1],a=e[1],n=r|a;if(!(n<131||128==a&&8==r||128==a&&256==r&&t[7].length<=e[8]||384==a&&e[7].length<=e[8]&&8==r))return t;1&a&&(t[2]=e[2],n|=1&r?0:4);var o=e[3];if(o){var s=t[3];t[3]=s?pn(s,o,e[4]):o,t[4]=s?He(t[3],i):e[4]}(o=e[5])&&(t[5]=(s=t[5])?gn(s,o,e[6]):o,t[6]=s?He(t[5],i):e[6]),(o=e[7])&&(t[7]=o),128&a&&(t[8]=null==t[8]?e[8]:or(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=n}(y,g),t=y[0],e=y[1],r=y[2],o=y[3],s=y[4],!(u=y[9]=void 0===y[9]?d?0:t.length:ir(y[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,r){var n=Dn(t);return function i(){for(var o=arguments.length,s=a(o),c=o,l=Un(i);c--;)s[c]=arguments[c];var u=o<3&&s[0]!==l&&s[o-1]!==l?[]:He(s,l);return(o-=u.length)<r?jn(t,e,Ln,i.placeholder,void 0,s,u,void 0,void 0,r-o):re(this&&this!==Vt&&this instanceof i?n:t,this,s)}}(t,e,u):32!=e&&33!=e||s.length?Ln.apply(void 0,y):function(t,e,r,n){var i=1&e,o=Dn(t);return function e(){for(var s=-1,c=arguments.length,l=-1,u=n.length,d=a(u+c),h=this&&this!==Vt&&this instanceof e?o:t;++l<u;)d[l]=n[l];for(;c--;)d[l++]=arguments[++s];return re(h,i?r:this,d)}}(t,e,r,o);else var v=function(t,e,r){var a=1&e,n=Dn(t);return function e(){return(this&&this!==Vt&&this instanceof e?n:t).apply(a?r:this,arguments)}}(t,e,r);return xi((g?Ha:vi)(v,y),t,e)}function En(t,e,r,a){return void 0===t||Co(t,mt[r])&&!Tt.call(a,r)?e:t}function Hn(t,e,r,a,n,i){return Vo(t)&&Vo(e)&&(i.set(e,t),_a(t,e,void 0,Hn,i),i.delete(e)),t}function Fn(t){return Uo(t)?void 0:t}function Nn(t,e,r,a,n,i){var o=1&r,s=t.length,c=e.length;if(s!=c&&!(o&&c>s))return!1;var l=i.get(t),u=i.get(e);if(l&&u)return l==e&&u==t;var d=-1,h=!0,f=2&r?new Wr:void 0;for(i.set(t,e),i.set(e,t);++d<s;){var p=t[d],g=e[d];if(a)var y=o?a(g,p,d,e,t,i):a(p,g,d,t,e,i);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!pe(e,function(t,e){if(!Ce(f,e)&&(p===t||n(p,t,r,a,i)))return f.push(e)})){h=!1;break}}else if(p!==g&&!n(p,g,r,a,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Qn(t){return mi(fi(t,void 0,ji),t+"")}function Vn(t){return da(t,Os,Kn)}function zn(t){return da(t,Ts,ti)}var Bn=vr?function(t){return vr.get(t)}:Xs;function $n(t){for(var e=t.name+"",r=br[e],a=Tt.call(br,e)?r.length:0;a--;){var n=r[a],i=n.func;if(null==i||i==t)return n.name}return e}function Un(t){return(Tt.call(Lr,"placeholder")?Lr:t).placeholder}function Jn(){var t=Lr.iteratee||Us;return t=t===Us?Ta:t,arguments.length?t(arguments[0],arguments[1]):t}function Gn(t,e){var r,a,n=t.__data__;return("string"==(a=typeof(r=e))||"number"==a||"symbol"==a||"boolean"==a?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map}function qn(t){for(var e=Os(t),r=e.length;r--;){var a=e[r],n=t[a];e[r]=[a,n,di(n)]}return e}function Xn(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Oa(r)?r:void 0}var Kn=tr?function(t){return null==t?[]:(t=pt(t),se(tr(t),function(e){return Bt.call(t,e)}))}:ic,ti=tr?function(t){for(var e=[];t;)de(e,Kn(t)),t=Qt(t);return e}:ic,ei=ha;function ri(t,e,r){for(var a=-1,n=(e=on(e,t)).length,i=!1;++a<n;){var o=wi(e[a]);if(!(i=null!=t&&r(t,o)))break;t=t[o]}return i||++a!=n?i:!!(n=null==t?0:t.length)&&Qo(n)&&ii(o,n)&&(jo(t)||Yo(t))}function ai(t){return"function"!=typeof t.constructor||ui(t)?{}:_r(Qt(t))}function ni(t){return jo(t)||Yo(t)||!!(Jt&&t&&t[Jt])}function ii(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&st.test(t))&&t>-1&&t%1==0&&t<e}function oi(t,e,r){if(!Vo(r))return!1;var a=typeof e;return!!("number"==a?Ao(r)&&ii(e,r.length):"string"==a&&e in r)&&Co(r[e],t)}function si(t,e){if(jo(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Xo(t))||Q.test(t)||!N.test(t)||null!=e&&t in pt(e)}function ci(t){var e=$n(t),r=Lr[e];if("function"!=typeof r||!(e in Mr.prototype))return!1;if(t===r)return!0;var a=Bn(r);return!!a&&t===a[0]}(dr&&ei(new dr(new ArrayBuffer(1)))!=k||hr&&ei(new hr)!=p||fr&&"[object Promise]"!=ei(fr.resolve())||pr&&ei(new pr)!=b||gr&&ei(new gr)!=O)&&(ei=function(t){var e=ha(t),r=e==y?t.constructor:void 0,a=r?Li(r):"";if(a)switch(a){case mr:return k;case xr:return p;case Or:return"[object Promise]";case Tr:return b;case kr:return O}return e});var li=xt?Fo:oc;function ui(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||mt)}function di(t){return t==t&&!Vo(t)}function hi(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in pt(r))}}function fi(t,e,r){return e=ir(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=ir(n.length-e,0),s=a(o);++i<o;)s[i]=n[e+i];i=-1;for(var c=a(e+1);++i<e;)c[i]=n[i];return c[e]=r(s),re(t,this,c)}}function pi(t,e){return e.length<2?t:ua(t,Qa(e,0,-1))}function gi(t,e){for(var r=t.length,a=or(e.length,r),n=yn(t);a--;){var i=e[a];t[a]=ii(i,r)?n[i]:void 0}return t}function yi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var vi=Oi(Ha),bi=qe||function(t,e){return Vt.setTimeout(t,e)},mi=Oi(Fa);function xi(t,e,r){var a=e+"";return mi(t,function(t,e){var r=e.length;if(!r)return t;var a=r-1;return e[a]=(r>1?"& ":"")+e[a],e=e.join(r>2?", ":" "),t.replace(J,"{\n/* [wrapped with "+e+"] */\n")}(a,function(t,e){return ne(o,function(r){var a="_."+r[0];e&r[1]&&!ce(t,a)&&t.push(a)}),t.sort()}(function(t){var e=t.match(G);return e?e[1].split(q):[]}(a),r)))}function Oi(t){var e=0,r=0;return function(){var a=sr(),n=16-(a-r);if(r=a,n>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Ti(t,e){var r=-1,a=t.length,n=a-1;for(e=void 0===e?a:e;++r<e;){var i=ja(r,n),o=t[i];t[i]=t[r],t[r]=o}return t.length=e,t}var ki,Di,Si=(ki=Do(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,function(t,r,a,n){e.push(a?n.replace(tt,"$1"):r||t)}),e},function(t){return 500===Di.size&&Di.clear(),t}),Di=ki.cache,ki);function wi(t){if("string"==typeof t||Xo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Li(t){if(null!=t){try{return Ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function _i(t){if(t instanceof Mr)return t.clone();var e=new Cr(t.__wrapped__,t.__chain__);return e.__actions__=yn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Pi=Aa(function(t,e){return Io(t)?Xr(t,na(e,1,Io,!0)):[]}),Ci=Aa(function(t,e){var r=Ei(e);return Io(r)&&(r=void 0),Io(t)?Xr(t,na(e,1,Io,!0),Jn(r,2)):[]}),Mi=Aa(function(t,e){var r=Ei(e);return Io(r)&&(r=void 0),Io(t)?Xr(t,na(e,1,Io,!0),void 0,r):[]});function Zi(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var n=null==r?0:ns(r);return n<0&&(n=ir(a+n,0)),ve(t,Jn(e,3),n)}function Yi(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var n=a-1;return void 0!==r&&(n=ns(r),n=r<0?ir(a+n,0):or(n,a-1)),ve(t,Jn(e,3),n,!0)}function ji(t){return null!=t&&t.length?na(t,1):[]}function Wi(t){return t&&t.length?t[0]:void 0}var Ai=Aa(function(t){var e=ue(t,an);return e.length&&e[0]===t[0]?ya(e):[]}),Ii=Aa(function(t){var e=Ei(t),r=ue(t,an);return e===Ei(r)?e=void 0:r.pop(),r.length&&r[0]===t[0]?ya(r,Jn(e,2)):[]}),Ri=Aa(function(t){var e=Ei(t),r=ue(t,an);return(e="function"==typeof e?e:void 0)&&r.pop(),r.length&&r[0]===t[0]?ya(r,void 0,e):[]});function Ei(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Hi=Aa(Fi);function Fi(t,e){return t&&t.length&&e&&e.length?Za(t,e):t}var Ni=Qn(function(t,e){var r=null==t?0:t.length,a=$r(t,e);return Ya(t,ue(e,function(t){return ii(t,r)?+t:t}).sort(fn)),a});function Qi(t){return null==t?t:ur.call(t)}var Vi=Aa(function(t){return Ga(na(t,1,Io,!0))}),zi=Aa(function(t){var e=Ei(t);return Io(e)&&(e=void 0),Ga(na(t,1,Io,!0),Jn(e,2))}),Bi=Aa(function(t){var e=Ei(t);return e="function"==typeof e?e:void 0,Ga(na(t,1,Io,!0),void 0,e)});function $i(t){if(!t||!t.length)return[];var e=0;return t=se(t,function(t){if(Io(t))return e=ir(t.length,e),!0}),we(e,function(e){return ue(t,Te(e))})}function Ui(t,e){if(!t||!t.length)return[];var r=$i(t);return null==e?r:ue(r,function(t){return re(e,void 0,t)})}var Ji=Aa(function(t,e){return Io(t)?Xr(t,e):[]}),Gi=Aa(function(t){return en(se(t,Io))}),qi=Aa(function(t){var e=Ei(t);return Io(e)&&(e=void 0),en(se(t,Io),Jn(e,2))}),Xi=Aa(function(t){var e=Ei(t);return e="function"==typeof e?e:void 0,en(se(t,Io),void 0,e)}),Ki=Aa($i),to=Aa(function(t){var e=t.length,r=e>1?t[e-1]:void 0;return r="function"==typeof r?(t.pop(),r):void 0,Ui(t,r)});function eo(t){var e=Lr(t);return e.__chain__=!0,e}function ro(t,e){return e(t)}var ao=Qn(function(t){var e=t.length,r=e?t[0]:0,a=this.__wrapped__,n=function(e){return $r(e,t)};return!(e>1||this.__actions__.length)&&a instanceof Mr&&ii(r)?((a=a.slice(r,+r+(e?1:0))).__actions__.push({func:ro,args:[n],thisArg:void 0}),new Cr(a,this.__chain__).thru(function(t){return e&&!t.length&&t.push(void 0),t})):this.thru(n)}),no=bn(function(t,e,r){Tt.call(t,r)?++t[r]:Br(t,r,1)}),io=Sn(Zi),oo=Sn(Yi);function so(t,e){return(jo(t)?ne:Kr)(t,Jn(e,3))}function co(t,e){return(jo(t)?ie:ta)(t,Jn(e,3))}var lo=bn(function(t,e,r){Tt.call(t,r)?t[r].push(e):Br(t,r,[e])}),uo=Aa(function(t,e,r){var n=-1,i="function"==typeof e,o=Ao(t)?a(t.length):[];return Kr(t,function(t){o[++n]=i?re(e,t,r):va(t,e,r)}),o}),ho=bn(function(t,e,r){Br(t,r,e)});function fo(t,e){return(jo(t)?ue:Sa)(t,Jn(e,3))}var po=bn(function(t,e,r){t[r?0:1].push(e)},function(){return[[],[]]}),go=Aa(function(t,e){if(null==t)return[];var r=e.length;return r>1&&oi(t,e[0],e[1])?e=[]:r>2&&oi(e[0],e[1],e[2])&&(e=[e[0]]),Ca(t,na(e,1),[])}),yo=Ge||function(){return Vt.Date.now()};function vo(t,e,r){return e=r?void 0:e,Rn(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function bo(t,e){var r;if("function"!=typeof e)throw new vt(n);return t=ns(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=void 0),r}}var mo=Aa(function(t,e,r){var a=1;if(r.length){var n=He(r,Un(mo));a|=32}return Rn(t,a,e,r,n)}),xo=Aa(function(t,e,r){var a=3;if(r.length){var n=He(r,Un(xo));a|=32}return Rn(e,a,t,r,n)});function Oo(t,e,r){var a,i,o,s,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new vt(n);function p(e){var r=a,n=i;return a=i=void 0,u=e,s=t.apply(n,r)}function g(t){return u=t,c=bi(v,e),d?p(t):s}function y(t){var r=t-l;return void 0===l||r>=e||r<0||h&&t-u>=o}function v(){var t=yo();if(y(t))return b(t);c=bi(v,function(t){var r=e-(t-l);return h?or(r,o-(t-u)):r}(t))}function b(t){return c=void 0,f&&a?p(t):(a=i=void 0,s)}function m(){var t=yo(),r=y(t);if(a=arguments,i=this,l=t,r){if(void 0===c)return g(l);if(h)return ln(c),c=bi(v,e),p(l)}return void 0===c&&(c=bi(v,e)),s}return e=os(e)||0,Vo(r)&&(d=!!r.leading,o=(h="maxWait"in r)?ir(os(r.maxWait)||0,e):o,f="trailing"in r?!!r.trailing:f),m.cancel=function(){void 0!==c&&ln(c),u=0,a=l=i=c=void 0},m.flush=function(){return void 0===c?s:b(yo())},m}var To=Aa(function(t,e){return qr(t,1,e)}),ko=Aa(function(t,e,r){return qr(t,os(e)||0,r)});function Do(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new vt(n);var r=function r(){var a=arguments,n=e?e.apply(this,a):a[0],i=r.cache;if(i.has(n))return i.get(n);var o=t.apply(this,a);return r.cache=i.set(n,o)||i,o};return r.cache=new(Do.Cache||jr),r}function So(t){if("function"!=typeof t)throw new vt(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Do.Cache=jr;var wo=sn(function(t,e){var r=(e=1==e.length&&jo(e[0])?ue(e[0],_e(Jn())):ue(na(e,1),_e(Jn()))).length;return Aa(function(a){for(var n=-1,i=or(a.length,r);++n<i;)a[n]=e[n].call(this,a[n]);return re(t,this,a)})}),Lo=Aa(function(t,e){return Rn(t,32,void 0,e,He(e,Un(Lo)))}),_o=Aa(function(t,e){return Rn(t,64,void 0,e,He(e,Un(_o)))}),Po=Qn(function(t,e){return Rn(t,256,void 0,void 0,void 0,e)});function Co(t,e){return t===e||t!=t&&e!=e}var Mo=Yn(fa),Zo=Yn(function(t,e){return t>=e}),Yo=ba(function(){return arguments}())?ba:function(t){return zo(t)&&Tt.call(t,"callee")&&!Bt.call(t,"callee")},jo=a.isArray,Wo=Gt?_e(Gt):function(t){return zo(t)&&ha(t)==T};function Ao(t){return null!=t&&Qo(t.length)&&!Fo(t)}function Io(t){return zo(t)&&Ao(t)}var Ro=er||oc,Eo=qt?_e(qt):function(t){return zo(t)&&ha(t)==u};function Ho(t){if(!zo(t))return!1;var e=ha(t);return e==d||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Uo(t)}function Fo(t){if(!Vo(t))return!1;var e=ha(t);return e==h||e==f||"[object AsyncFunction]"==e||"[object Proxy]"==e}function No(t){return"number"==typeof t&&t==ns(t)}function Qo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Vo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function zo(t){return null!=t&&"object"==typeof t}var Bo=Xt?_e(Xt):function(t){return zo(t)&&ei(t)==p};function $o(t){return"number"==typeof t||zo(t)&&ha(t)==g}function Uo(t){if(!zo(t)||ha(t)!=y)return!1;var e=Qt(t);if(null===e)return!0;var r=Tt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Ot.call(r)==wt}var Jo=Kt?_e(Kt):function(t){return zo(t)&&ha(t)==v},Go=te?_e(te):function(t){return zo(t)&&ei(t)==b};function qo(t){return"string"==typeof t||!jo(t)&&zo(t)&&ha(t)==m}function Xo(t){return"symbol"==typeof t||zo(t)&&ha(t)==x}var Ko=ee?_e(ee):function(t){return zo(t)&&Qo(t.length)&&!!It[ha(t)]},ts=Yn(Da),es=Yn(function(t,e){return t<=e});function rs(t){if(!t)return[];if(Ao(t))return qo(t)?Ve(t):yn(t);if(ge&&t[ge])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[ge]());var e=ei(t);return(e==p?Re:e==b?Fe:Cs)(t)}function as(t){return t?1/0===(t=os(t))||-1/0===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ns(t){var e=as(t),r=e%1;return e==e?r?e-r:e:0}function is(t){return t?Ur(ns(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Xo(t))return NaN;if(Vo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Vo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Le(t);var r=nt.test(t);return r||ot.test(t)?Ft(t.slice(2),r?2:8):at.test(t)?NaN:+t}function ss(t){return vn(t,Ts(t))}function cs(t){return null==t?"":Ja(t)}var ls=mn(function(t,e){if(ui(e)||Ao(e))vn(e,Os(e),t);else for(var r in e)Tt.call(e,r)&&Nr(t,r,e[r])}),us=mn(function(t,e){vn(e,Ts(e),t)}),ds=mn(function(t,e,r,a){vn(e,Ts(e),t,a)}),hs=mn(function(t,e,r,a){vn(e,Os(e),t,a)}),fs=Qn($r),ps=Aa(function(t,e){t=pt(t);var r=-1,a=e.length,n=a>2?e[2]:void 0;for(n&&oi(e[0],e[1],n)&&(a=1);++r<a;)for(var i=e[r],o=Ts(i),s=-1,c=o.length;++s<c;){var l=o[s],u=t[l];(void 0===u||Co(u,mt[l])&&!Tt.call(t,l))&&(t[l]=i[l])}return t}),gs=Aa(function(t){return t.push(void 0,Hn),re(Ds,void 0,t)});function ys(t,e,r){var a=null==t?void 0:ua(t,e);return void 0===a?r:a}function vs(t,e){return null!=t&&ri(t,e,ga)}var bs=_n(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=St.call(e)),t[e]=r},Vs($s)),ms=_n(function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=St.call(e)),Tt.call(t,e)?t[e].push(r):t[e]=[r]},Jn),xs=Aa(va);function Os(t){return Ao(t)?Ir(t):ka(t)}function Ts(t){return Ao(t)?Ir(t,!0):function(t){if(!Vo(t))return function(t){var e=[];if(null!=t)for(var r in pt(t))e.push(r);return e}(t);var e=ui(t),r=[];for(var a in t)("constructor"!=a||!e&&Tt.call(t,a))&&r.push(a);return r}(t)}var ks=mn(function(t,e,r){_a(t,e,r)}),Ds=mn(function(t,e,r,a){_a(t,e,r,a)}),Ss=Qn(function(t,e){var r={};if(null==t)return r;var a=!1;e=ue(e,function(e){return e=on(e,t),a||(a=e.length>1),e}),vn(t,zn(t),r),a&&(r=Jr(r,7,Fn));for(var n=e.length;n--;)qa(r,e[n]);return r}),ws=Qn(function(t,e){return null==t?{}:function(t,e){return Ma(t,e,function(e,r){return vs(t,r)})}(t,e)});function Ls(t,e){if(null==t)return{};var r=ue(zn(t),function(t){return[t]});return e=Jn(e),Ma(t,r,function(t,r){return e(t,r[0])})}var _s=In(Os),Ps=In(Ts);function Cs(t){return null==t?[]:Pe(t,Os(t))}var Ms=kn(function(t,e,r){return e=e.toLowerCase(),t+(r?Zs(e):e)});function Zs(t){return Hs(cs(t).toLowerCase())}function Ys(t){return(t=cs(t))&&t.replace(ct,je).replace(Ct,"")}var js=kn(function(t,e,r){return t+(r?"-":"")+e.toLowerCase()}),Ws=kn(function(t,e,r){return t+(r?" ":"")+e.toLowerCase()}),As=Tn("toLowerCase"),Is=kn(function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}),Rs=kn(function(t,e,r){return t+(r?" ":"")+Hs(e)}),Es=kn(function(t,e,r){return t+(r?" ":"")+e.toUpperCase()}),Hs=Tn("toUpperCase");function Fs(t,e,r){return t=cs(t),void 0===(e=r?void 0:e)?function(t){return jt.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.match(X)||[]}(t):t.match(e)||[]}var Ns=Aa(function(t,e){try{return re(t,void 0,e)}catch(r){return Ho(r)?r:new dt(r)}}),Qs=Qn(function(t,e){return ne(e,function(e){e=wi(e),Br(t,e,mo(t[e],t))}),t});function Vs(t){return function(){return t}}var zs=wn(),Bs=wn(!0);function $s(t){return t}function Us(t){return Ta("function"==typeof t?t:Jr(t,1))}var Js=Aa(function(t,e){return function(r){return va(r,t,e)}}),Gs=Aa(function(t,e){return function(r){return va(t,r,e)}});function qs(t,e,r){var a=Os(e),n=la(e,a);null!=r||Vo(e)&&(n.length||!a.length)||(r=e,e=t,t=this,n=la(e,Os(e)));var i=!(Vo(r)&&"chain"in r&&!r.chain),o=Fo(t);return ne(n,function(r){var a=e[r];t[r]=a,o&&(t.prototype[r]=function(){var e=this.__chain__;if(i||e){var r=t(this.__wrapped__),n=r.__actions__=yn(this.__actions__);return n.push({func:a,args:arguments,thisArg:t}),r.__chain__=e,r}return a.apply(t,de([this.value()],arguments))})}),t}function Xs(){}var Ks=Cn(ue),tc=Cn(oe),ec=Cn(pe);function rc(t){return si(t)?Te(wi(t)):function(t){return function(e){return ua(e,t)}}(t)}var ac=Zn(),nc=Zn(!0);function ic(){return[]}function oc(){return!1}var sc,cc=Pn(function(t,e){return t+e},0),lc=Wn("ceil"),uc=Pn(function(t,e){return t/e},1),dc=Wn("floor"),hc=Pn(function(t,e){return t*e},1),fc=Wn("round"),pc=Pn(function(t,e){return t-e},0);return Lr.after=function(t,e){if("function"!=typeof e)throw new vt(n);return t=ns(t),function(){if(--t<1)return e.apply(this,arguments)}},Lr.ary=vo,Lr.assign=ls,Lr.assignIn=us,Lr.assignInWith=ds,Lr.assignWith=hs,Lr.at=fs,Lr.before=bo,Lr.bind=mo,Lr.bindAll=Qs,Lr.bindKey=xo,Lr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return jo(t)?t:[t]},Lr.chain=eo,Lr.chunk=function(t,e,r){e=(r?oi(t,e,r):void 0===e)?1:ir(ns(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var i=0,o=0,s=a(Xe(n/e));i<n;)s[o++]=Qa(t,i,i+=e);return s},Lr.compact=function(t){for(var e=-1,r=null==t?0:t.length,a=0,n=[];++e<r;){var i=t[e];i&&(n[a++]=i)}return n},Lr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=a(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return de(jo(r)?yn(r):[r],na(e,1))},Lr.cond=function(t){var e=null==t?0:t.length,r=Jn();return t=e?ue(t,function(t){if("function"!=typeof t[1])throw new vt(n);return[r(t[0]),t[1]]}):[],Aa(function(r){for(var a=-1;++a<e;){var n=t[a];if(re(n[0],this,r))return re(n[1],this,r)}})},Lr.conforms=function(t){return function(t){var e=Os(t);return function(r){return Gr(r,t,e)}}(Jr(t,1))},Lr.constant=Vs,Lr.countBy=no,Lr.create=function(t,e){var r=_r(t);return null==e?r:zr(r,e)},Lr.curry=function t(e,r,a){var n=Rn(e,8,void 0,void 0,void 0,void 0,void 0,r=a?void 0:r);return n.placeholder=t.placeholder,n},Lr.curryRight=function t(e,r,a){var n=Rn(e,16,void 0,void 0,void 0,void 0,void 0,r=a?void 0:r);return n.placeholder=t.placeholder,n},Lr.debounce=Oo,Lr.defaults=ps,Lr.defaultsDeep=gs,Lr.defer=To,Lr.delay=ko,Lr.difference=Pi,Lr.differenceBy=Ci,Lr.differenceWith=Mi,Lr.drop=function(t,e,r){var a=null==t?0:t.length;return a?Qa(t,(e=r||void 0===e?1:ns(e))<0?0:e,a):[]},Lr.dropRight=function(t,e,r){var a=null==t?0:t.length;return a?Qa(t,0,(e=a-(e=r||void 0===e?1:ns(e)))<0?0:e):[]},Lr.dropRightWhile=function(t,e){return t&&t.length?Ka(t,Jn(e,3),!0,!0):[]},Lr.dropWhile=function(t,e){return t&&t.length?Ka(t,Jn(e,3),!0):[]},Lr.fill=function(t,e,r,a){var n=null==t?0:t.length;return n?(r&&"number"!=typeof r&&oi(t,e,r)&&(r=0,a=n),function(t,e,r,a){var n=t.length;for((r=ns(r))<0&&(r=-r>n?0:n+r),(a=void 0===a||a>n?n:ns(a))<0&&(a+=n),a=r>a?0:is(a);r<a;)t[r++]=e;return t}(t,e,r,a)):[]},Lr.filter=function(t,e){return(jo(t)?se:aa)(t,Jn(e,3))},Lr.flatMap=function(t,e){return na(fo(t,e),1)},Lr.flatMapDeep=function(t,e){return na(fo(t,e),1/0)},Lr.flatMapDepth=function(t,e,r){return r=void 0===r?1:ns(r),na(fo(t,e),r)},Lr.flatten=ji,Lr.flattenDeep=function(t){return null!=t&&t.length?na(t,1/0):[]},Lr.flattenDepth=function(t,e){return null!=t&&t.length?na(t,e=void 0===e?1:ns(e)):[]},Lr.flip=function(t){return Rn(t,512)},Lr.flow=zs,Lr.flowRight=Bs,Lr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,a={};++e<r;){var n=t[e];a[n[0]]=n[1]}return a},Lr.functions=function(t){return null==t?[]:la(t,Os(t))},Lr.functionsIn=function(t){return null==t?[]:la(t,Ts(t))},Lr.groupBy=lo,Lr.initial=function(t){return null!=t&&t.length?Qa(t,0,-1):[]},Lr.intersection=Ai,Lr.intersectionBy=Ii,Lr.intersectionWith=Ri,Lr.invert=bs,Lr.invertBy=ms,Lr.invokeMap=uo,Lr.iteratee=Us,Lr.keyBy=ho,Lr.keys=Os,Lr.keysIn=Ts,Lr.map=fo,Lr.mapKeys=function(t,e){var r={};return e=Jn(e,3),sa(t,function(t,a,n){Br(r,e(t,a,n),t)}),r},Lr.mapValues=function(t,e){var r={};return e=Jn(e,3),sa(t,function(t,a,n){Br(r,a,e(t,a,n))}),r},Lr.matches=function(t){return wa(Jr(t,1))},Lr.matchesProperty=function(t,e){return La(t,Jr(e,1))},Lr.memoize=Do,Lr.merge=ks,Lr.mergeWith=Ds,Lr.method=Js,Lr.methodOf=Gs,Lr.mixin=qs,Lr.negate=So,Lr.nthArg=function(t){return t=ns(t),Aa(function(e){return Pa(e,t)})},Lr.omit=Ss,Lr.omitBy=function(t,e){return Ls(t,So(Jn(e)))},Lr.once=function(t){return bo(2,t)},Lr.orderBy=function(t,e,r,a){return null==t?[]:(jo(e)||(e=null==e?[]:[e]),jo(r=a?void 0:r)||(r=null==r?[]:[r]),Ca(t,e,r))},Lr.over=Ks,Lr.overArgs=wo,Lr.overEvery=tc,Lr.overSome=ec,Lr.partial=Lo,Lr.partialRight=_o,Lr.partition=po,Lr.pick=ws,Lr.pickBy=Ls,Lr.property=rc,Lr.propertyOf=function(t){return function(e){return null==t?void 0:ua(t,e)}},Lr.pull=Hi,Lr.pullAll=Fi,Lr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Za(t,e,Jn(r,2)):t},Lr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Za(t,e,void 0,r):t},Lr.pullAt=Ni,Lr.range=ac,Lr.rangeRight=nc,Lr.rearg=Po,Lr.reject=function(t,e){return(jo(t)?se:aa)(t,So(Jn(e,3)))},Lr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var a=-1,n=[],i=t.length;for(e=Jn(e,3);++a<i;){var o=t[a];e(o,a,t)&&(r.push(o),n.push(a))}return Ya(t,n),r},Lr.rest=function(t,e){if("function"!=typeof t)throw new vt(n);return Aa(t,e=void 0===e?e:ns(e))},Lr.reverse=Qi,Lr.sampleSize=function(t,e,r){return e=(r?oi(t,e,r):void 0===e)?1:ns(e),(jo(t)?Er:Ra)(t,e)},Lr.set=function(t,e,r){return null==t?t:Ea(t,e,r)},Lr.setWith=function(t,e,r,a){return a="function"==typeof a?a:void 0,null==t?t:Ea(t,e,r,a)},Lr.shuffle=function(t){return(jo(t)?Hr:Na)(t)},Lr.slice=function(t,e,r){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&oi(t,e,r)?(e=0,r=a):(e=null==e?0:ns(e),r=void 0===r?a:ns(r)),Qa(t,e,r)):[]},Lr.sortBy=go,Lr.sortedUniq=function(t){return t&&t.length?$a(t):[]},Lr.sortedUniqBy=function(t,e){return t&&t.length?$a(t,Jn(e,2)):[]},Lr.split=function(t,e,r){return r&&"number"!=typeof r&&oi(t,e,r)&&(e=r=void 0),(r=void 0===r?4294967295:r>>>0)?(t=cs(t))&&("string"==typeof e||null!=e&&!Jo(e))&&!(e=Ja(e))&&Ie(t)?cn(Ve(t),0,r):t.split(e,r):[]},Lr.spread=function(t,e){if("function"!=typeof t)throw new vt(n);return e=null==e?0:ir(ns(e),0),Aa(function(r){var a=r[e],n=cn(r,0,e);return a&&de(n,a),re(t,this,n)})},Lr.tail=function(t){var e=null==t?0:t.length;return e?Qa(t,1,e):[]},Lr.take=function(t,e,r){return t&&t.length?Qa(t,0,(e=r||void 0===e?1:ns(e))<0?0:e):[]},Lr.takeRight=function(t,e,r){var a=null==t?0:t.length;return a?Qa(t,(e=a-(e=r||void 0===e?1:ns(e)))<0?0:e,a):[]},Lr.takeRightWhile=function(t,e){return t&&t.length?Ka(t,Jn(e,3),!1,!0):[]},Lr.takeWhile=function(t,e){return t&&t.length?Ka(t,Jn(e,3)):[]},Lr.tap=function(t,e){return e(t),t},Lr.throttle=function(t,e,r){var a=!0,i=!0;if("function"!=typeof t)throw new vt(n);return Vo(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),Oo(t,e,{leading:a,maxWait:e,trailing:i})},Lr.thru=ro,Lr.toArray=rs,Lr.toPairs=_s,Lr.toPairsIn=Ps,Lr.toPath=function(t){return jo(t)?ue(t,wi):Xo(t)?[t]:yn(Si(cs(t)))},Lr.toPlainObject=ss,Lr.transform=function(t,e,r){var a=jo(t),n=a||Ro(t)||Ko(t);if(e=Jn(e,4),null==r){var i=t&&t.constructor;r=n?a?new i:[]:Vo(t)&&Fo(i)?_r(Qt(t)):{}}return(n?ne:sa)(t,function(t,a,n){return e(r,t,a,n)}),r},Lr.unary=function(t){return vo(t,1)},Lr.union=Vi,Lr.unionBy=zi,Lr.unionWith=Bi,Lr.uniq=function(t){return t&&t.length?Ga(t):[]},Lr.uniqBy=function(t,e){return t&&t.length?Ga(t,Jn(e,2)):[]},Lr.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Ga(t,void 0,e):[]},Lr.unset=function(t,e){return null==t||qa(t,e)},Lr.unzip=$i,Lr.unzipWith=Ui,Lr.update=function(t,e,r){return null==t?t:Xa(t,e,nn(r))},Lr.updateWith=function(t,e,r,a){return a="function"==typeof a?a:void 0,null==t?t:Xa(t,e,nn(r),a)},Lr.values=Cs,Lr.valuesIn=function(t){return null==t?[]:Pe(t,Ts(t))},Lr.without=Ji,Lr.words=Fs,Lr.wrap=function(t,e){return Lo(nn(e),t)},Lr.xor=Gi,Lr.xorBy=qi,Lr.xorWith=Xi,Lr.zip=Ki,Lr.zipObject=function(t,e){return rn(t||[],e||[],Nr)},Lr.zipObjectDeep=function(t,e){return rn(t||[],e||[],Ea)},Lr.zipWith=to,Lr.entries=_s,Lr.entriesIn=Ps,Lr.extend=us,Lr.extendWith=ds,qs(Lr,Lr),Lr.add=cc,Lr.attempt=Ns,Lr.camelCase=Ms,Lr.capitalize=Zs,Lr.ceil=lc,Lr.clamp=function(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=os(r))==r?r:0),void 0!==e&&(e=(e=os(e))==e?e:0),Ur(os(t),e,r)},Lr.clone=function(t){return Jr(t,4)},Lr.cloneDeep=function(t){return Jr(t,5)},Lr.cloneDeepWith=function(t,e){return Jr(t,5,e="function"==typeof e?e:void 0)},Lr.cloneWith=function(t,e){return Jr(t,4,e="function"==typeof e?e:void 0)},Lr.conformsTo=function(t,e){return null==e||Gr(t,e,Os(e))},Lr.deburr=Ys,Lr.defaultTo=function(t,e){return null==t||t!=t?e:t},Lr.divide=uc,Lr.endsWith=function(t,e,r){t=cs(t),e=Ja(e);var a=t.length,n=r=void 0===r?a:Ur(ns(r),0,a);return(r-=e.length)>=0&&t.slice(r,n)==e},Lr.eq=Co,Lr.escape=function(t){return(t=cs(t))&&R.test(t)?t.replace(A,We):t},Lr.escapeRegExp=function(t){return(t=cs(t))&&B.test(t)?t.replace(z,"\\$&"):t},Lr.every=function(t,e,r){var a=jo(t)?oe:ea;return r&&oi(t,e,r)&&(e=void 0),a(t,Jn(e,3))},Lr.find=io,Lr.findIndex=Zi,Lr.findKey=function(t,e){return ye(t,Jn(e,3),sa)},Lr.findLast=oo,Lr.findLastIndex=Yi,Lr.findLastKey=function(t,e){return ye(t,Jn(e,3),ca)},Lr.floor=dc,Lr.forEach=so,Lr.forEachRight=co,Lr.forIn=function(t,e){return null==t?t:ia(t,Jn(e,3),Ts)},Lr.forInRight=function(t,e){return null==t?t:oa(t,Jn(e,3),Ts)},Lr.forOwn=function(t,e){return t&&sa(t,Jn(e,3))},Lr.forOwnRight=function(t,e){return t&&ca(t,Jn(e,3))},Lr.get=ys,Lr.gt=Mo,Lr.gte=Zo,Lr.has=function(t,e){return null!=t&&ri(t,e,pa)},Lr.hasIn=vs,Lr.head=Wi,Lr.identity=$s,Lr.includes=function(t,e,r,a){t=Ao(t)?t:Cs(t),r=r&&!a?ns(r):0;var n=t.length;return r<0&&(r=ir(n+r,0)),qo(t)?r<=n&&t.indexOf(e,r)>-1:!!n&&be(t,e,r)>-1},Lr.indexOf=function(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var n=null==r?0:ns(r);return n<0&&(n=ir(a+n,0)),be(t,e,n)},Lr.inRange=function(t,e,r){return e=as(e),void 0===r?(r=e,e=0):r=as(r),function(t,e,r){return t>=or(e,r)&&t<ir(e,r)}(t=os(t),e,r)},Lr.invoke=xs,Lr.isArguments=Yo,Lr.isArray=jo,Lr.isArrayBuffer=Wo,Lr.isArrayLike=Ao,Lr.isArrayLikeObject=Io,Lr.isBoolean=function(t){return!0===t||!1===t||zo(t)&&ha(t)==l},Lr.isBuffer=Ro,Lr.isDate=Eo,Lr.isElement=function(t){return zo(t)&&1===t.nodeType&&!Uo(t)},Lr.isEmpty=function(t){if(null==t)return!0;if(Ao(t)&&(jo(t)||"string"==typeof t||"function"==typeof t.splice||Ro(t)||Ko(t)||Yo(t)))return!t.length;var e=ei(t);if(e==p||e==b)return!t.size;if(ui(t))return!ka(t).length;for(var r in t)if(Tt.call(t,r))return!1;return!0},Lr.isEqual=function(t,e){return ma(t,e)},Lr.isEqualWith=function(t,e,r){var a=(r="function"==typeof r?r:void 0)?r(t,e):void 0;return void 0===a?ma(t,e,void 0,r):!!a},Lr.isError=Ho,Lr.isFinite=function(t){return"number"==typeof t&&rr(t)},Lr.isFunction=Fo,Lr.isInteger=No,Lr.isLength=Qo,Lr.isMap=Bo,Lr.isMatch=function(t,e){return t===e||xa(t,e,qn(e))},Lr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:void 0,xa(t,e,qn(e),r)},Lr.isNaN=function(t){return $o(t)&&t!=+t},Lr.isNative=function(t){if(li(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Oa(t)},Lr.isNil=function(t){return null==t},Lr.isNull=function(t){return null===t},Lr.isNumber=$o,Lr.isObject=Vo,Lr.isObjectLike=zo,Lr.isPlainObject=Uo,Lr.isRegExp=Jo,Lr.isSafeInteger=function(t){return No(t)&&t>=-9007199254740991&&t<=9007199254740991},Lr.isSet=Go,Lr.isString=qo,Lr.isSymbol=Xo,Lr.isTypedArray=Ko,Lr.isUndefined=function(t){return void 0===t},Lr.isWeakMap=function(t){return zo(t)&&ei(t)==O},Lr.isWeakSet=function(t){return zo(t)&&"[object WeakSet]"==ha(t)},Lr.join=function(t,e){return null==t?"":ar.call(t,e)},Lr.kebabCase=js,Lr.last=Ei,Lr.lastIndexOf=function(t,e,r){var a=null==t?0:t.length;if(!a)return-1;var n=a;return void 0!==r&&(n=(n=ns(r))<0?ir(a+n,0):or(n,a-1)),e==e?function(t,e,r){for(var a=r+1;a--;)if(t[a]===e)return a;return a}(t,e,n):ve(t,xe,n,!0)},Lr.lowerCase=Ws,Lr.lowerFirst=As,Lr.lt=ts,Lr.lte=es,Lr.max=function(t){return t&&t.length?ra(t,$s,fa):void 0},Lr.maxBy=function(t,e){return t&&t.length?ra(t,Jn(e,2),fa):void 0},Lr.mean=function(t){return Oe(t,$s)},Lr.meanBy=function(t,e){return Oe(t,Jn(e,2))},Lr.min=function(t){return t&&t.length?ra(t,$s,Da):void 0},Lr.minBy=function(t,e){return t&&t.length?ra(t,Jn(e,2),Da):void 0},Lr.stubArray=ic,Lr.stubFalse=oc,Lr.stubObject=function(){return{}},Lr.stubString=function(){return""},Lr.stubTrue=function(){return!0},Lr.multiply=hc,Lr.nth=function(t,e){return t&&t.length?Pa(t,ns(e)):void 0},Lr.noConflict=function(){return Vt._===this&&(Vt._=Lt),this},Lr.noop=Xs,Lr.now=yo,Lr.pad=function(t,e,r){t=cs(t);var a=(e=ns(e))?Qe(t):0;if(!e||a>=e)return t;var n=(e-a)/2;return Mn(Ke(n),r)+t+Mn(Xe(n),r)},Lr.padEnd=function(t,e,r){t=cs(t);var a=(e=ns(e))?Qe(t):0;return e&&a<e?t+Mn(e-a,r):t},Lr.padStart=function(t,e,r){t=cs(t);var a=(e=ns(e))?Qe(t):0;return e&&a<e?Mn(e-a,r)+t:t},Lr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),cr(cs(t).replace($,""),e||0)},Lr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&oi(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=as(t),void 0===e?(e=t,t=0):e=as(e)),t>e){var a=t;t=e,e=a}if(r||t%1||e%1){var n=lr();return or(t+n*(e-t+Ht("1e-"+((n+"").length-1))),e)}return ja(t,e)},Lr.reduce=function(t,e,r){var a=jo(t)?he:De,n=arguments.length<3;return a(t,Jn(e,4),r,n,Kr)},Lr.reduceRight=function(t,e,r){var a=jo(t)?fe:De,n=arguments.length<3;return a(t,Jn(e,4),r,n,ta)},Lr.repeat=function(t,e,r){return e=(r?oi(t,e,r):void 0===e)?1:ns(e),Wa(cs(t),e)},Lr.replace=function(){var t=arguments,e=cs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Lr.result=function(t,e,r){var a=-1,n=(e=on(e,t)).length;for(n||(n=1,t=void 0);++a<n;){var i=null==t?void 0:t[wi(e[a])];void 0===i&&(a=n,i=r),t=Fo(i)?i.call(t):i}return t},Lr.round=fc,Lr.runInContext=t,Lr.sample=function(t){return(jo(t)?Rr:Ia)(t)},Lr.size=function(t){if(null==t)return 0;if(Ao(t))return qo(t)?Qe(t):t.length;var e=ei(t);return e==p||e==b?t.size:ka(t).length},Lr.snakeCase=Is,Lr.some=function(t,e,r){var a=jo(t)?pe:Va;return r&&oi(t,e,r)&&(e=void 0),a(t,Jn(e,3))},Lr.sortedIndex=function(t,e){return za(t,e)},Lr.sortedIndexBy=function(t,e,r){return Ba(t,e,Jn(r,2))},Lr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var a=za(t,e);if(a<r&&Co(t[a],e))return a}return-1},Lr.sortedLastIndex=function(t,e){return za(t,e,!0)},Lr.sortedLastIndexBy=function(t,e,r){return Ba(t,e,Jn(r,2),!0)},Lr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var r=za(t,e,!0)-1;if(Co(t[r],e))return r}return-1},Lr.startCase=Rs,Lr.startsWith=function(t,e,r){return t=cs(t),r=null==r?0:Ur(ns(r),0,t.length),e=Ja(e),t.slice(r,r+e.length)==e},Lr.subtract=pc,Lr.sum=function(t){return t&&t.length?Se(t,$s):0},Lr.sumBy=function(t,e){return t&&t.length?Se(t,Jn(e,2)):0},Lr.template=function(t,e,r){var a=Lr.templateSettings;r&&oi(t,e,r)&&(e=void 0),t=cs(t),e=ds({},e,a,En);var n,i,o=ds({},e.imports,a.imports,En),s=Os(o),c=Pe(o,s),l=0,u=e.interpolate||lt,d="__p += '",h=gt((e.escape||lt).source+"|"+u.source+"|"+(u===F?et:lt).source+"|"+(e.evaluate||lt).source+"|$","g"),f="//# sourceURL="+(Tt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++At+"]")+"\n";t.replace(h,function(e,r,a,o,s,c){return a||(a=o),d+=t.slice(l,c).replace(ut,Ae),r&&(n=!0,d+="' +\n__e("+r+") +\n'"),s&&(i=!0,d+="';\n"+s+";\n__p += '"),a&&(d+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),l=c+e.length,e}),d+="';\n";var p=Tt.call(e,"variable")&&e.variable;if(p){if(K.test(p))throw new dt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(Z,""):d).replace(Y,"$1").replace(j,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Ns(function(){return ht(s,f+"return "+d).apply(void 0,c)});if(g.source=d,Ho(g))throw g;return g},Lr.times=function(t,e){if((t=ns(t))<1||t>9007199254740991)return[];var r=4294967295,a=or(t,4294967295);t-=4294967295;for(var n=we(a,e=Jn(e));++r<t;)e(r);return n},Lr.toFinite=as,Lr.toInteger=ns,Lr.toLength=is,Lr.toLower=function(t){return cs(t).toLowerCase()},Lr.toNumber=os,Lr.toSafeInteger=function(t){return t?Ur(ns(t),-9007199254740991,9007199254740991):0===t?t:0},Lr.toString=cs,Lr.toUpper=function(t){return cs(t).toUpperCase()},Lr.trim=function(t,e,r){if((t=cs(t))&&(r||void 0===e))return Le(t);if(!t||!(e=Ja(e)))return t;var a=Ve(t),n=Ve(e);return cn(a,Me(a,n),Ze(a,n)+1).join("")},Lr.trimEnd=function(t,e,r){if((t=cs(t))&&(r||void 0===e))return t.slice(0,ze(t)+1);if(!t||!(e=Ja(e)))return t;var a=Ve(t);return cn(a,0,Ze(a,Ve(e))+1).join("")},Lr.trimStart=function(t,e,r){if((t=cs(t))&&(r||void 0===e))return t.replace($,"");if(!t||!(e=Ja(e)))return t;var a=Ve(t);return cn(a,Me(a,Ve(e))).join("")},Lr.truncate=function(t,e){var r=30,a="...";if(Vo(e)){var n="separator"in e?e.separator:n;r="length"in e?ns(e.length):r,a="omission"in e?Ja(e.omission):a}var i=(t=cs(t)).length;if(Ie(t)){var o=Ve(t);i=o.length}if(r>=i)return t;var s=r-Qe(a);if(s<1)return a;var c=o?cn(o,0,s).join(""):t.slice(0,s);if(void 0===n)return c+a;if(o&&(s+=c.length-s),Jo(n)){if(t.slice(s).search(n)){var l,u=c;for(n.global||(n=gt(n.source,cs(rt.exec(n))+"g")),n.lastIndex=0;l=n.exec(u);)var d=l.index;c=c.slice(0,void 0===d?s:d)}}else if(t.indexOf(Ja(n),s)!=s){var h=c.lastIndexOf(n);h>-1&&(c=c.slice(0,h))}return c+a},Lr.unescape=function(t){return(t=cs(t))&&I.test(t)?t.replace(W,Be):t},Lr.uniqueId=function(t){var e=++kt;return cs(t)+e},Lr.upperCase=Es,Lr.upperFirst=Hs,Lr.each=so,Lr.eachRight=co,Lr.first=Wi,qs(Lr,(sc={},sa(Lr,function(t,e){Tt.call(Lr.prototype,e)||(sc[e]=t)}),sc),{chain:!1}),Lr.VERSION="4.17.21",ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){Lr[t].placeholder=Lr}),ne(["drop","take"],function(t,e){Mr.prototype[t]=function(r){r=void 0===r?1:ir(ns(r),0);var a=this.__filtered__&&!e?new Mr(this):this.clone();return a.__filtered__?a.__takeCount__=or(r,a.__takeCount__):a.__views__.push({size:or(r,4294967295),type:t+(a.__dir__<0?"Right":"")}),a},Mr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ne(["filter","map","takeWhile"],function(t,e){var r=e+1,a=1==r||3==r;Mr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Jn(t,3),type:r}),e.__filtered__=e.__filtered__||a,e}}),ne(["head","last"],function(t,e){var r="take"+(e?"Right":"");Mr.prototype[t]=function(){return this[r](1).value()[0]}}),ne(["initial","tail"],function(t,e){var r="drop"+(e?"":"Right");Mr.prototype[t]=function(){return this.__filtered__?new Mr(this):this[r](1)}}),Mr.prototype.compact=function(){return this.filter($s)},Mr.prototype.find=function(t){return this.filter(t).head()},Mr.prototype.findLast=function(t){return this.reverse().find(t)},Mr.prototype.invokeMap=Aa(function(t,e){return"function"==typeof t?new Mr(this):this.map(function(r){return va(r,t,e)})}),Mr.prototype.reject=function(t){return this.filter(So(Jn(t)))},Mr.prototype.slice=function(t,e){t=ns(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Mr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),void 0!==e&&(r=(e=ns(e))<0?r.dropRight(-e):r.take(e-t)),r)},Mr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Mr.prototype.toArray=function(){return this.take(4294967295)},sa(Mr.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),n=Lr[a?"take"+("last"==e?"Right":""):e],i=a||/^find/.test(e);n&&(Lr.prototype[e]=function(){var e=this.__wrapped__,o=a?[1]:arguments,s=e instanceof Mr,c=o[0],l=s||jo(e),u=function(t){var e=n.apply(Lr,de([t],o));return a&&d?e[0]:e};l&&r&&"function"==typeof c&&1!=c.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=i&&!d,p=s&&!h;if(!i&&l){e=p?e:new Mr(this);var g=t.apply(e,o);return g.__actions__.push({func:ro,args:[u],thisArg:void 0}),new Cr(g,d)}return f&&p?t.apply(this,o):(g=this.thru(u),f?a?g.value()[0]:g.value():g)})}),ne(["pop","push","shift","sort","splice","unshift"],function(t){var e=bt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);Lr.prototype[t]=function(){var t=arguments;if(a&&!this.__chain__){var n=this.value();return e.apply(jo(n)?n:[],t)}return this[r](function(r){return e.apply(jo(r)?r:[],t)})}}),sa(Mr.prototype,function(t,e){var r=Lr[e];if(r){var a=r.name+"";Tt.call(br,a)||(br[a]=[]),br[a].push({name:e,func:r})}}),br[Ln(void 0,2).name]=[{name:"wrapper",func:void 0}],Mr.prototype.clone=function(){var t=new Mr(this.__wrapped__);return t.__actions__=yn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=yn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=yn(this.__views__),t},Mr.prototype.reverse=function(){if(this.__filtered__){var t=new Mr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Mr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=jo(t),a=e<0,n=r?t.length:0,i=function(t,e,r){for(var a=-1,n=r.length;++a<n;){var i=r[a],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=or(e,t+o);break;case"takeRight":t=ir(t,e-o)}}return{start:t,end:e}}(0,n,this.__views__),o=i.start,s=i.end,c=s-o,l=a?s:o-1,u=this.__iteratees__,d=u.length,h=0,f=or(c,this.__takeCount__);if(!r||!a&&n==c&&f==c)return tn(t,this.__actions__);var p=[];t:for(;c--&&h<f;){for(var g=-1,y=t[l+=e];++g<d;){var v=u[g],b=v.type,m=(0,v.iteratee)(y);if(2==b)y=m;else if(!m){if(1==b)continue t;break t}}p[h++]=y}return p},Lr.prototype.at=ao,Lr.prototype.chain=function(){return eo(this)},Lr.prototype.commit=function(){return new Cr(this.value(),this.__chain__)},Lr.prototype.next=function(){void 0===this.__values__&&(this.__values__=rs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Lr.prototype.plant=function(t){for(var e,r=this;r instanceof Pr;){var a=_i(r);a.__index__=0,a.__values__=void 0,e?n.__wrapped__=a:e=a;var n=a;r=r.__wrapped__}return n.__wrapped__=t,e},Lr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Mr){var e=t;return this.__actions__.length&&(e=new Mr(this)),(e=e.reverse()).__actions__.push({func:ro,args:[Qi],thisArg:void 0}),new Cr(e,this.__chain__)}return this.thru(Qi)},Lr.prototype.toJSON=Lr.prototype.valueOf=Lr.prototype.value=function(){return tn(this.__wrapped__,this.__actions__)},Lr.prototype.first=Lr.prototype.head,ge&&(Lr.prototype[ge]=function(){return this}),Lr}();Vt._=$e,void 0===(a=(function(){return $e}).call(e,r,e,t))||(t.exports=a)}).call(this)}).call(this,r("YuTi")(t))}}])}();