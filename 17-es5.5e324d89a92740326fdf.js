!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"p+kQ":function(e,o,a){"use strict";a.r(o),a.d(o,"TradeModule",function(){return rr});var n=a("ofXK"),i=a("1kSV"),c=a("3Pt+"),s=a("zfYk"),l=a("RbrB"),u=a("lJxs"),d=a("JIr8"),b=a("Br0f"),p=a("fXoL"),f=a("VV7X"),g=a("tyNb"),m=a("xGIk"),h=a("e8Ap"),y=a("AFNZ"),v=a("onVv"),S=a("7yRD");function O(t,e){1&t&&(p.Yb(0),p.ac(1,"div",22),p.Vb(2,"div",23),p.Zb(),p.Xb())}function k(t,e){if(1&t){var r=p.bc();p.ac(0,"a",29),p.lc("click",function(){p.Gc(r);var t=p.oc().$implicit;return p.oc().delete(t.id)}),p.Vb(1,"span",30),p.Zb()}2&t&&(p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}var w=function(t){return{color:t}};function Z(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",24),p.Qc(2),p.pc(3,"date"),p.Zb(),p.ac(4,"td",24),p.Qc(5),p.Zb(),p.ac(6,"td",24),p.Qc(7),p.pc(8,"number"),p.ac(9,"span",25),p.Qc(10),p.Zb(),p.Zb(),p.ac(11,"td",24),p.Qc(12),p.Zb(),p.ac(13,"td",24),p.Qc(14),p.Zb(),p.ac(15,"td"),p.ac(16,"a",26),p.Vb(17,"span",27),p.Zb(),p.Oc(18,k,2,1,"a",28),p.Zb(),p.Zb()),2&t){var r=e.$implicit,o=p.oc();p.Hb(1),p.wc("ngStyle",p.Ac(20,w,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",p.rc(3,15,r.TradeDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(22,w,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",r.StockSymbol," "),p.Hb(1),p.wc("ngStyle",p.Ac(24,w,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",p.qc(8,18,r.totallots*r.lots)," "),p.Hb(3),p.Tc(" [",r.totallots," * ",r.lots,"]"),p.Hb(1),p.wc("ngStyle",p.Ac(26,w,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",r.optionpremium," "),p.Hb(1),p.wc("ngStyle",p.Ac(28,w,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",r.OptionStrategy," "),p.Hb(2),p.wc("routerLink","/trade/tradeJournal/edit/"+r.id),p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),p.Hb(1),p.wc("ngIf","Archive"==r.logStatus)}}function x(t,e){if(1&t){var r=p.bc();p.ac(0,"a",29),p.lc("click",function(){p.Gc(r);var t=p.oc().$implicit;return p.oc().delete(t.id)}),p.Vb(1,"span",30),p.Zb()}2&t&&(p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function T(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",24),p.Qc(2),p.pc(3,"date"),p.Zb(),p.ac(4,"td",24),p.Qc(5),p.Zb(),p.ac(6,"td",24),p.Qc(7),p.ac(8,"span",25),p.Qc(9),p.Zb(),p.Zb(),p.ac(10,"td",24),p.Qc(11),p.Zb(),p.ac(12,"td"),p.ac(13,"a",26),p.Vb(14,"span",27),p.Zb(),p.Oc(15,x,2,1,"a",28),p.Zb(),p.Zb()),2&t){var r=e.$implicit,o=p.oc();p.Hb(1),p.wc("ngStyle",p.Ac(16,w,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",p.rc(3,13,r.TradeDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(18,w,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",r.StockSymbol," "),p.Hb(1),p.wc("ngStyle",p.Ac(20,w,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",r.totallots*r.lots," "),p.Hb(2),p.Tc(" [",r.totallots," * ",r.lots,"]"),p.Hb(1),p.wc("ngStyle",p.Ac(22,w,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",r.OptionStrategy," "),p.Hb(2),p.wc("routerLink","/trade/tradeJournal/edit/"+r.id),p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),p.Hb(1),p.wc("ngIf","Archive"==r.logStatus)}}var E,C=function(t){return{StockSymbol:t}},D=function(){return{StockType:"Journal Options"}},P=function(){return{StockType:"Journal Futures"}},H=((E=function(){function e(r){t(this,e),this.tradejournalsService=r,this.subscriptions=[]}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.sorting={column:"TradeDate",direction:"asc"},this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.getTradeJournals();var e=this.tradejournalsService.paginationTotal$.pipe(Object(u.a)(function(e){t.paginationTotal=e,t.paginator.recalculatePaginator(e)}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(e)}},{key:"getTradeJournals",value:function(){this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.tradejournalsService.getTradeJournals({RequestType:"OpenPositions",Status:"Plan"})}},{key:"getRowColor",value:function(t){return"Long Call Intraday"===t||"Short Put Intraday"===t?"#3699FF":"Short Call Intraday"===t||"Long Put Intraday"===t?"#F64E60":void 0}},{key:"getFutureRowColor",value:function(t){return"Long"===t?"#3699FF":"Short"===t?"#F64E60":void 0}},{key:"sort",value:function(t){var e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}},{key:"paginate",value:function(t){this.paginator=t,this.paginator.pageSize=10}},{key:"resetPaginate",value:function(){this.paginator.recalculatePaginator(this.paginationTotal)}},{key:"delete",value:function(t){console.log("Delete ",t)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}}]),e}()).\u0275fac=function(t){return new(t||E)(p.Ub(f.a))},E.\u0275cmp=p.Ob({type:E,selectors:[["app-options-payoff"]],decls:70,vars:48,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button","routerLink","/trade/tradeJournal/add",1,"btn","btn-sm","btn-primary"],[1,"card-body"],[1,"row","mb-5"],[1,"col-lg-5"],[1,"col-lg-2"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"form-group","row"],[1,"col-lg-11"],[1,"text-dark","font-weight-bold","mb-0"],[1,"col-lg-1"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","TradeDate",3,"activeColumn","activeDirection","sort"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"form-group","row","mt-10"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"font-weight-bold",3,"ngStyle"],[1,"text-muted"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete","class","btn btn-icon btn-light btn-hover-danger btn-sm",3,"click",4,"ngIf"],["title","Delete",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"]],template:function(t,e){1&t&&(p.Oc(0,O,3,0,"ng-container",0),p.pc(1,"async"),p.ac(2,"div",1),p.ac(3,"div",2),p.ac(4,"div",3),p.ac(5,"h3",4),p.Qc(6,"Plans"),p.Zb(),p.Zb(),p.ac(7,"div",5),p.ac(8,"button",6),p.Qc(9," New Journal "),p.Zb(),p.Zb(),p.Zb(),p.ac(10,"div",7),p.ac(11,"div",8),p.Vb(12,"div",9),p.Vb(13,"div",9),p.ac(14,"div",10),p.ac(15,"input",11),p.lc("ngModelChange",function(t){return e.searchText=t})("input",function(){return e.resetPaginate()}),p.Zb(),p.Zb(),p.Zb(),p.ac(16,"div",12),p.ac(17,"div",13),p.ac(18,"h4",14),p.Qc(19,"Options"),p.Zb(),p.Zb(),p.Vb(20,"div",15),p.Zb(),p.ac(21,"div",16),p.ac(22,"table",17),p.ac(23,"thead"),p.ac(24,"th"),p.Qc(25," Expiry Date "),p.ac(26,"app-sort-icon",18),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(27,"th"),p.Qc(28," Stock "),p.ac(29,"app-sort-icon",19),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(30,"th"),p.Qc(31,"Total Lots"),p.Zb(),p.ac(32,"th"),p.Qc(33,"Expected Premium"),p.Zb(),p.ac(34,"th"),p.Qc(35,"Option Strategy"),p.Zb(),p.ac(36,"th"),p.Qc(37,"Actions"),p.Zb(),p.Zb(),p.ac(38,"tbody"),p.Oc(39,Z,19,30,"tr",20),p.pc(40,"positionFilter"),p.pc(41,"searchBy"),p.pc(42,"sortBy"),p.pc(43,"async"),p.Zb(),p.Zb(),p.Zb(),p.ac(44,"div",21),p.ac(45,"div",13),p.ac(46,"h4",14),p.Qc(47,"Futures"),p.Zb(),p.Zb(),p.Vb(48,"div",15),p.Zb(),p.ac(49,"div",16),p.ac(50,"table",17),p.ac(51,"thead"),p.ac(52,"th"),p.Qc(53," Date "),p.ac(54,"app-sort-icon",18),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(55,"th"),p.Qc(56," Stock "),p.ac(57,"app-sort-icon",19),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(58,"th"),p.Qc(59,"Total Lots"),p.Zb(),p.ac(60,"th"),p.Qc(61,"Strategy"),p.Zb(),p.ac(62,"th"),p.Qc(63,"Actions"),p.Zb(),p.Zb(),p.ac(64,"tbody"),p.Oc(65,T,16,24,"tr",20),p.pc(66,"positionFilter"),p.pc(67,"searchBy"),p.pc(68,"sortBy"),p.pc(69,"async"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.wc("ngIf",p.qc(1,12,e.tradejournalsService.isLoading$)),p.Hb(15),p.wc("ngModel",e.searchText),p.Hb(11),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(10),p.wc("ngForOf",p.rc(40,14,p.sc(41,17,p.tc(42,21,p.qc(43,26,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),p.Ac(42,C,e.searchText),!1),p.zc(44,D))),p.Hb(15),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(8),p.wc("ngForOf",p.rc(66,28,p.sc(67,31,p.tc(68,35,p.qc(69,40,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),p.Ac(45,C,e.searchText),!1),p.zc(47,P))))},directives:[n.o,g.i,c.a,c.j,c.l,m.a,n.n,n.p,g.k,h.a],pipes:[n.b,y.a,v.a,S.a,n.f,n.g],styles:[""]}),E),N=a("WsYS"),V=a("Kj3r"),M=a("wd/R"),F=a.n(M),j=a("9wGw");function I(t,e){1&t&&(p.Yb(0),p.ac(1,"div",38),p.Vb(2,"div",39),p.Zb(),p.Xb())}function Q(t,e){1&t&&p.Qc(0),2&t&&p.Sc(" ",e.result.stock," ")}function A(t,e){1&t&&(p.ac(0,"span"),p.Qc(1,"Profit : "),p.Zb())}function L(t,e){1&t&&(p.ac(0,"span"),p.Qc(1,"Loss : "),p.Zb())}var _=function(t){return{color:t}};function G(t,e){if(1&t&&(p.ac(0,"div",40),p.Vb(1,"div",41),p.ac(2,"div",41),p.ac(3,"h4",42),p.Oc(4,A,2,0,"span",0),p.pc(5,"async"),p.Oc(6,L,2,0,"span",0),p.pc(7,"async"),p.Qc(8),p.pc(9,"currency"),p.pc(10,"async"),p.Zb(),p.Zb(),p.Zb()),2&t){var r=p.oc();p.Hb(3),p.wc("ngStyle",p.Ac(14,_,r.getRowColor(r.totalPL))),p.Hb(1),p.wc("ngIf",p.qc(5,4,r.tradejournalsService.totalPL$)>0),p.Hb(2),p.wc("ngIf",p.qc(7,6,r.tradejournalsService.totalPL$)<0),p.Hb(2),p.Sc(" ",p.sc(9,8,p.qc(10,12,r.tradejournalsService.totalPL$),"INR","")," ")}}function Y(t,e){1&t&&(p.ac(0,"a",47),p.Vb(1,"span",48),p.Zb()),2&t&&(p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function R(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",43),p.Qc(2),p.pc(3,"date"),p.Zb(),p.ac(4,"td",43),p.Qc(5),p.pc(6,"date"),p.Zb(),p.ac(7,"td",43),p.Qc(8),p.Zb(),p.ac(9,"td",43),p.Qc(10),p.Zb(),p.ac(11,"td",43),p.Qc(12),p.Zb(),p.ac(13,"td",43),p.Qc(14),p.Zb(),p.ac(15,"td"),p.ac(16,"a",44),p.Vb(17,"span",45),p.Zb(),p.Oc(18,Y,2,1,"a",46),p.Zb(),p.Zb()),2&t){var r=e.$implicit,o=p.oc();p.Hb(1),p.wc("ngStyle",p.Ac(23,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",p.rc(3,17,r.TradeDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(25,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",p.rc(6,20,r.LastExitDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(27,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",r.StockSymbol," "),p.Hb(1),p.wc("ngStyle",p.Ac(29,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ","Long Call Intraday"==r.OptionStrategy?"Long Call":"Long Put Intraday"==r.OptionStrategy?"Long Put":"Short Call Intraday"==r.OptionStrategy?"Short Call":"Short Put Intraday"==r.OptionStrategy?"Short Put":""," "),p.Hb(1),p.wc("ngStyle",p.Ac(31,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Uc(" ",r.lots*r.closedlots," [ ",r.closedlots," * ",r.lots,"] "),p.Hb(1),p.wc("ngStyle",p.Ac(33,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",r.totalgainloss," "),p.Hb(2),p.wc("routerLink","/trade/tradeJournal/edit/"+r.id),p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),p.Hb(1),p.wc("ngIf","Archive"==r.logStatus)}}function q(t,e){1&t&&(p.ac(0,"a",47),p.Vb(1,"span",48),p.Zb()),2&t&&(p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"))}function $(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",43),p.Qc(2),p.pc(3,"date"),p.Zb(),p.ac(4,"td",43),p.Qc(5),p.pc(6,"date"),p.Zb(),p.ac(7,"td",43),p.Qc(8),p.Zb(),p.ac(9,"td",43),p.Qc(10),p.Zb(),p.ac(11,"td",43),p.Qc(12),p.Zb(),p.ac(13,"td"),p.ac(14,"a",44),p.Vb(15,"span",45),p.Zb(),p.Oc(16,q,2,1,"a",46),p.Zb(),p.Zb()),2&t){var r=e.$implicit,o=p.oc();p.Hb(1),p.wc("ngStyle",p.Ac(21,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",p.rc(3,15,r.TradeDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(23,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",p.rc(6,18,r.LastExitDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(25,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",r.StockSymbol," "),p.Hb(1),p.wc("ngStyle",p.Ac(27,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Uc(" ",r.lots*r.totallots," [ ",r.totallots," * ",r.lots,"] "),p.Hb(1),p.wc("ngStyle",p.Ac(29,_,o.getRowColor(r.totalgainloss))),p.Hb(1),p.Sc(" ",r.totalgainloss," "),p.Hb(2),p.wc("routerLink","/trade/tradeJournal/edit/"+r.id),p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),p.Hb(1),p.wc("ngIf","Archive"==r.logStatus)}}var J,U=function(){return{StockType:"Journal Options"}},B=function(){return{StockType:"Journal Futures"}},W=((J=function(){function e(r,o){var a=this;t(this,e),this.tradejournalsService=r,this.stockmasterService=o,this.subscriptions=[],this.searchStocks=function(t){return t.pipe(Object(V.a)(200),Object(u.a)(function(t){return""===t?[]:a.stocks.filter(function(e){return e.stock.toLowerCase().indexOf(t.toLowerCase())>-1}).slice(0,10)}))},this.formatter=function(t){return t.stock}}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.sorting={column:"TradeDate",direction:"desc"},this.StockSymbol="",this.totalPL=0,this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.getTradeJournals();var e=this.tradejournalsService.paginationTotal$.pipe(Object(u.a)(function(e){t.paginationTotal=e,t.paginator.recalculatePaginator(e)}),Object(d.a)(function(t){return t})).subscribe(),r=this.stockmasterService.stockmasters$.pipe(Object(u.a)(function(e){e.length?t.stocks=e:t.stockmasterService.fetch()}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(r),this.subscriptions.push(e)}},{key:"getTradeJournals",value:function(){this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.toDate=F()().format("M/DD/YYYY").toString(),this.fromDate=F()([F()().year(),F()().month()]).format("M/DD/YYYY"),this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",fromDate:F()([F()().year(),F()().month()]).format("M/DD/YYYY"),toDate:F()().add(1,"days").format()})}},{key:"sort",value:function(t){var e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}},{key:"paginate",value:function(t){this.paginator=t,this.paginator.pageSize=10}},{key:"resetPaginate",value:function(){this.paginator.recalculatePaginator(this.paginationTotal)}},{key:"getRowColor",value:function(t){return t>=0?"green":t<0?"red":void 0}},{key:"refreshTradeJournals",value:function(){this.totalPL=0,this.StockSymbol?this.tradejournalsService.getStockTradeJournals({RequestType:"ClosedPositions",Status:"Closed",StockType:"Option",StockSymbol:this.StockSymbol.stock,fromDate:F()(this.fromDate),toDate:F()(this.toDate).add(1,"days").format()}):this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",StockType:"Option",fromDate:F()(this.fromDate),toDate:F()(this.toDate).add(1,"days").format()})}},{key:"resetTradeJournals",value:function(){this.toDate=F()().format("M/DD/YYYY").toString(),this.fromDate=F()([F()().year(),F()().month()]).format("M/DD/YYYY"),this.totalPL=0,this.StockSymbol="",this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.tradejournalsService.getTradeJournals({RequestType:"ClosedPositions",Status:"Closed",StockType:"Option",fromDate:F()([F()().year(),F()().month()]).format("M/DD/YYYY"),toDate:F()().add(1,"days").format()})}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}}]),e}()).\u0275fac=function(t){return new(t||J)(p.Ub(f.a),p.Ub(j.a))},J.\u0275cmp=p.Ob({type:J,selectors:[["app-closed-trades"]],features:[p.Gb([{provide:i.b,useClass:N.b},{provide:i.c,useClass:N.c}])],decls:110,vars:48,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],[1,"card-body"],[1,"form-group","row"],[1,"col-lg-1"],[1,"col-lg-2"],[1,"input-group"],["type","text","name","fromDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["from","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"input-group-text"],[1,"text-dark-50","flaticon-calendar"],["type","text","name","toDate","autocomplete","off","placeholder","dd/mm/yyyy","ngbDatepicker","","readonly","true",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["to","ngbDatepicker"],[1,"col-lg-3"],["rt",""],["type","text","name","stockSymbol","placeholder","Stock Symbol","autocomplete","off",1,"form-control","form-control-sm",3,"ngModel","ngbTypeahead","inputFormatter","resultTemplate","ngModelChange"],[1,"input-group-append"],[1,"flaticon-layer"],[1,"btn","btn-sm","btn-primary","form-control-sm","mr-5",3,"click"],[1,"flaticon-refresh"],[1,"btn","btn-sm","btn-secondary","form-control-sm",3,"click"],[1,"flaticon2-circular-arrow"],[1,"separator","separator-dashed","my-10"],["class","row mb-5",4,"ngIf"],[1,"col-lg-11"],[1,"text-dark","font-weight-bold","mb-0"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","TradeDate",3,"activeColumn","activeDirection","sort"],["column","LastExitDate",3,"activeColumn","activeDirection","sort"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"form-group","row","mt-5"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"row","mb-5"],[1,"col-lg-6"],[1,"text-right","mr-15","mb-1",3,"ngStyle"],[1,"font-weight-bold",3,"ngStyle"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete","class","btn btn-icon btn-light btn-hover-danger btn-sm",4,"ngIf"],["title","Delete",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"]],template:function(t,e){if(1&t){var r=p.bc();p.Oc(0,I,3,0,"ng-container",0),p.pc(1,"async"),p.ac(2,"div",1),p.ac(3,"div",2),p.ac(4,"div",3),p.ac(5,"h3",4),p.Qc(6,"Closed Positions"),p.Zb(),p.Zb(),p.Vb(7,"div",5),p.Zb(),p.ac(8,"div",6),p.ac(9,"div",7),p.Vb(10,"div",8),p.ac(11,"div",9),p.ac(12,"label"),p.Qc(13,"From"),p.Zb(),p.ac(14,"div",10),p.ac(15,"input",11,12),p.lc("ngModelChange",function(t){return e.fromDate=t}),p.Zb(),p.ac(17,"div",13),p.lc("click",function(){return p.Gc(r),p.Ec(16).toggle()}),p.ac(18,"span",14),p.Vb(19,"i",15),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(20,"div",9),p.ac(21,"label"),p.Qc(22,"To"),p.Zb(),p.ac(23,"div",10),p.ac(24,"input",16,17),p.lc("ngModelChange",function(t){return e.toDate=t}),p.Zb(),p.ac(26,"div",13),p.lc("click",function(){return p.Gc(r),p.Ec(25).toggle()}),p.ac(27,"span",14),p.Vb(28,"i",15),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(29,"div",18),p.Oc(30,Q,1,1,"ng-template",null,19,p.Pc),p.ac(32,"label"),p.Qc(33,"Stock"),p.Zb(),p.ac(34,"div",10),p.ac(35,"input",20),p.lc("ngModelChange",function(t){return e.StockSymbol=t}),p.Zb(),p.ac(36,"div",21),p.ac(37,"span",14),p.Vb(38,"i",22),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(39,"div",18),p.ac(40,"label"),p.Qc(41,"\xa0"),p.Zb(),p.ac(42,"div",10),p.ac(43,"button",23),p.lc("click",function(){return e.refreshTradeJournals()}),p.Vb(44,"i",24),p.Qc(45," Get Positions "),p.Zb(),p.ac(46,"button",25),p.lc("click",function(){return e.resetTradeJournals()}),p.Vb(47,"i",26),p.Qc(48," Reset "),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Vb(49,"div",27),p.Oc(50,G,11,16,"div",28),p.pc(51,"async"),p.ac(52,"div",7),p.ac(53,"div",29),p.ac(54,"h4",30),p.Qc(55,"Options"),p.Zb(),p.Zb(),p.Vb(56,"div",8),p.Zb(),p.ac(57,"div",31),p.ac(58,"table",32),p.ac(59,"thead"),p.ac(60,"th"),p.Qc(61," Trade Date "),p.ac(62,"app-sort-icon",33),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(63,"th"),p.Qc(64," Exit Date "),p.ac(65,"app-sort-icon",34),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(66,"th"),p.Qc(67," Stock "),p.ac(68,"app-sort-icon",35),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(69,"th"),p.Qc(70,"Type"),p.Zb(),p.ac(71,"th"),p.Qc(72,"Traded Lots"),p.Zb(),p.ac(73,"th"),p.Qc(74,"Profit&Loss"),p.Zb(),p.ac(75,"th"),p.Qc(76,"Actions"),p.Zb(),p.Zb(),p.ac(77,"tbody"),p.Oc(78,R,19,35,"tr",36),p.pc(79,"positionFilter"),p.pc(80,"sortBy"),p.pc(81,"async"),p.Zb(),p.Zb(),p.Zb(),p.ac(82,"div",37),p.ac(83,"div",29),p.ac(84,"h4",30),p.Qc(85,"Futures"),p.Zb(),p.Zb(),p.Vb(86,"div",8),p.Zb(),p.ac(87,"div",31),p.ac(88,"table",32),p.ac(89,"thead"),p.ac(90,"th"),p.Qc(91," Trade Date "),p.ac(92,"app-sort-icon",33),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(93,"th"),p.Qc(94," Exit Date "),p.ac(95,"app-sort-icon",34),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(96,"th"),p.Qc(97," Stock "),p.ac(98,"app-sort-icon",35),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(99,"th"),p.Qc(100,"Traded Lots"),p.Zb(),p.ac(101,"th"),p.Qc(102,"Profit&Loss"),p.Zb(),p.ac(103,"th"),p.Qc(104,"Actions"),p.Zb(),p.Zb(),p.ac(105,"tbody"),p.Oc(106,$,17,31,"tr",36),p.pc(107,"positionFilter"),p.pc(108,"sortBy"),p.pc(109,"async"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()}if(2&t){var o=p.Ec(31);p.wc("ngIf",p.qc(1,22,e.tradejournalsService.isLoading$)),p.Hb(15),p.wc("ngModel",e.fromDate),p.Hb(9),p.wc("ngModel",e.toDate),p.Hb(11),p.wc("ngModel",e.StockSymbol)("ngbTypeahead",e.searchStocks)("inputFormatter",e.formatter)("resultTemplate",o),p.Hb(15),p.wc("ngIf",p.qc(51,24,e.tradejournalsService.totalPL$)),p.Hb(12),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(10),p.wc("ngForOf",p.rc(79,26,p.tc(80,29,p.qc(81,34,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),p.zc(46,U))),p.Hb(14),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(8),p.wc("ngForOf",p.rc(107,36,p.tc(108,39,p.qc(109,44,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),p.zc(47,B)))}},directives:[n.o,i.i,c.a,c.j,c.l,i.o,m.a,n.n,n.p,g.k,h.a],pipes:[n.b,y.a,S.a,n.d,n.f],styles:[""]}),J),z=a("LRne"),X=a("vkgz"),K=a("nGje");function tt(t,e){1&t&&(p.Yb(0),p.ac(1,"div",22),p.Vb(2,"div",23),p.Zb(),p.Xb())}function et(t,e){if(1&t&&(p.ac(0,"span"),p.Qc(1),p.Zb()),2&t){var r=p.oc().$implicit;p.Hb(1),p.Sc(" ",r.TradesOptionsEntry[0].strike,"")}}function rt(t,e){if(1&t&&(p.ac(0,"span"),p.Qc(1),p.Zb()),2&t){var r=p.oc().$implicit;p.Hb(1),p.Sc(" ",r.priceentry,"")}}var ot=function(t){return{color:t}};function at(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",24),p.Qc(2),p.pc(3,"date"),p.Zb(),p.ac(4,"td",24),p.Qc(5),p.Zb(),p.ac(6,"td",24),p.Qc(7),p.Zb(),p.ac(8,"td",24),p.Oc(9,et,2,1,"span",0),p.Oc(10,rt,2,1,"span",0),p.Zb(),p.ac(11,"td",24),p.Qc(12),p.pc(13,"number"),p.ac(14,"span",25),p.Qc(15),p.Zb(),p.Zb(),p.ac(16,"td"),p.ac(17,"a",26),p.Vb(18,"span",27),p.Zb(),p.Zb(),p.Zb()),2&t){var r=e.$implicit,o=p.oc();p.Hb(1),p.wc("ngStyle",p.Ac(20,ot,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",p.rc(3,15,r.TradeDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(22,ot,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",r.StockSymbol," "),p.Hb(1),p.wc("ngStyle",p.Ac(24,ot,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",r.OptionStrategy," "),p.Hb(1),p.wc("ngStyle",p.Ac(26,ot,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.wc("ngIf","Long Call Intraday"===r.OptionStrategy||"Long Put Intraday"===r.OptionStrategy||"Short Call Intraday"===r.OptionStrategy||"Short Put Intraday"===r.OptionStrategy),p.Hb(1),p.wc("ngIf","Long Call Intraday"!==r.OptionStrategy&&"Long Put Intraday"!==r.OptionStrategy&&"Short Call Intraday"!==r.OptionStrategy&&"Short Put Intraday"!==r.OptionStrategy),p.Hb(1),p.wc("ngStyle",p.Ac(28,ot,o.getRowColor(r.OptionStrategy))),p.Hb(1),p.Sc(" ",p.qc(13,18,r.totallots*r.lots)," "),p.Hb(3),p.Tc(" [",r.totallots," * ",r.lots,"]"),p.Hb(2),p.wc("routerLink","/trade/tradeJournal/edit/"+r.id),p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}function nt(t,e){if(1&t&&(p.ac(0,"tr"),p.ac(1,"td",24),p.Qc(2),p.pc(3,"date"),p.Zb(),p.ac(4,"td",24),p.Qc(5),p.Zb(),p.ac(6,"td",24),p.ac(7,"span"),p.Qc(8),p.Zb(),p.Zb(),p.ac(9,"td",24),p.Qc(10),p.Zb(),p.ac(11,"td",24),p.Qc(12),p.pc(13,"number"),p.ac(14,"span",25),p.Qc(15),p.Zb(),p.Zb(),p.ac(16,"td"),p.ac(17,"a",26),p.Vb(18,"span",27),p.Zb(),p.Zb(),p.Zb()),2&t){var r=e.$implicit,o=p.oc();p.Hb(1),p.wc("ngStyle",p.Ac(19,ot,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",p.rc(3,14,r.TradeDate,"mediumDate")," "),p.Hb(2),p.wc("ngStyle",p.Ac(21,ot,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",r.StockSymbol," "),p.Hb(1),p.wc("ngStyle",p.Ac(23,ot,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(2),p.Sc(" ",r.TradesFuturesEntry[0].futuresType,""),p.Hb(1),p.wc("ngStyle",p.Ac(25,ot,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",r.OptionStrategy," "),p.Hb(1),p.wc("ngStyle",p.Ac(27,ot,o.getFutureRowColor(r.TradesFuturesEntry[0].futuresType))),p.Hb(1),p.Sc(" ",p.qc(13,17,r.totallots*r.lots)," "),p.Hb(3),p.Tc(" [",r.totallots," * ",r.lots,"]"),p.Hb(2),p.wc("routerLink","/trade/tradeJournal/edit/"+r.id),p.Hb(1),p.wc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg")}}var it,ct,st=function(t){return{StockSymbol:t}},lt=function(){return{StockType:"Journal Options"}},ut=function(){return{StockType:"Journal Futures"}},dt=((ct=function(){function e(r,o){t(this,e),this.tradejournalsService=r,this.fyersService=o,this.isDirty=!1,this.subscriptions=[]}return r(e,[{key:"ngOnInit",value:function(){var t=this;this.EMPTY_JOURNAL={id:void 0},this.sorting={column:"TradeDate",direction:"asc"},this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.getTradeJournals();var e=this.tradejournalsService.paginationTotal$.pipe(Object(u.a)(function(e){t.paginationTotal=e,t.paginator.recalculatePaginator(e)}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(e)}},{key:"getTradeJournals",value:function(){this.paginator=new b.PaginatorState,this.paginator.pageSize=10,this.tradejournalsService.getTradeJournals({RequestType:"OpenPositions",Status:"Open"})}},{key:"placeOrder",value:function(t){var e=this;if(t){var r=this.tradejournalsService.getItemById(t).pipe(Object(X.a)(function(){e.isDirty=!1}),Object(d.a)(function(t){return Object(z.a)(e.EMPTY_JOURNAL)})).subscribe(function(t){if(t.data&&(e.tradejournal=t.data.tradejournal,e.tradejournal)){var r=e.tradejournal.OptionStrategy,o="";"Long Call Intraday"===r&&(o="Long Call"),"Long Put Intraday"===r&&(o="Long Put"),"Short Call Intraday"===r&&(o="Short Call"),"Short Put Intraday"===r&&(o="Short Put"),e.tradejournal.TradesOptionsEntry.forEach(function(t,r){var a=t.tradesymbol,n=t.type,i=[],c=0;if("Long Call"!==n&&"Long WCall"!==n&&"Long Put"!==n&&"Long WPut"!==n||(c=1),"Short Call"!==n&&"Short WCall"!==n&&"Short Put"!==n&&"Short WPut"!==n||(c=-1),confirm("TRADE : "+o+" "+a.substring(0,a.length-7))){var s={symbol:a.substring(4,a.length-7),qty:Number(Number(Number(e.tradejournal.lots)*Number(e.tradejournal.totallots)).toFixed(0)),type:2,side:c,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};i.push(s);var l={placeOrder:i};null!==l&&e.fyersService.placeFyersOrder(l)}})}});this.subscriptions.push(r)}}},{key:"sort",value:function(t){var e=this.sorting;e.column===t?e.direction="asc"===e.direction?"desc":"asc":(e.column=t,e.direction="asc")}},{key:"paginate",value:function(t){this.paginator=t,this.paginator.pageSize=10}},{key:"resetPaginate",value:function(){this.paginator.recalculatePaginator(this.paginationTotal)}},{key:"delete",value:function(t){console.log("Delete ",t)}},{key:"getRowColor",value:function(t){return"Long Call Intraday"===t||"Short Put Intraday"===t?"#3699FF":"Short Call Intraday"===t||"Long Put Intraday"===t?"#F64E60":void 0}},{key:"getFutureRowColor",value:function(t){return"Long"===t?"#3699FF":"Short"===t?"#F64E60":void 0}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}}]),e}()).\u0275fac=function(t){return new(t||ct)(p.Ub(f.a),p.Ub(K.a))},ct.\u0275cmp=p.Ob({type:ct,selectors:[["app-open-positions"]],decls:72,vars:48,consts:[[4,"ngIf"],[1,"card","card-custom","gutter-b",2,"min-height","550px"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button","routerLink","/trade/tradeJournal/add",1,"btn","btn-sm","btn-primary"],[1,"card-body"],[1,"row","mb-5"],[1,"col-lg-5"],[1,"col-lg-2"],["type","text","name","searchText","placeholder","Search","value","","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"form-group","row"],[1,"col-lg-11"],[1,"text-dark","font-weight-bold","mb-0"],[1,"col-lg-1"],[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center","overflow-hidden"],["column","TradeDate",3,"activeColumn","activeDirection","sort"],["column","StockSymbol",3,"activeColumn","activeDirection","sort"],[4,"ngFor","ngForOf"],[1,"form-group","mt-10","row"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"font-weight-bold",3,"ngStyle"],[1,"text-muted"],["title","Edit",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-3",3,"routerLink"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"]],template:function(t,e){1&t&&(p.Oc(0,tt,3,0,"ng-container",0),p.pc(1,"async"),p.ac(2,"div",1),p.ac(3,"div",2),p.ac(4,"div",3),p.ac(5,"h3",4),p.Qc(6,"Open Positions"),p.Zb(),p.Zb(),p.ac(7,"div",5),p.ac(8,"button",6),p.Qc(9," New Journal "),p.Zb(),p.Zb(),p.Zb(),p.ac(10,"div",7),p.ac(11,"div",8),p.Vb(12,"div",9),p.Vb(13,"div",9),p.ac(14,"div",10),p.ac(15,"input",11),p.lc("ngModelChange",function(t){return e.searchText=t})("input",function(){return e.resetPaginate()}),p.Zb(),p.Zb(),p.Zb(),p.ac(16,"div",12),p.ac(17,"div",13),p.ac(18,"h4",14),p.Qc(19,"Options"),p.Zb(),p.Zb(),p.Vb(20,"div",15),p.Zb(),p.ac(21,"div",16),p.ac(22,"table",17),p.ac(23,"thead"),p.ac(24,"th"),p.Qc(25," Trade Date "),p.ac(26,"app-sort-icon",18),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(27,"th"),p.Qc(28," Stock "),p.ac(29,"app-sort-icon",19),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(30,"th"),p.Qc(31,"Option Strategy"),p.Zb(),p.ac(32,"th"),p.Qc(33,"Strike"),p.Zb(),p.ac(34,"th"),p.Qc(35,"Total Lots"),p.Zb(),p.ac(36,"th"),p.Qc(37,"Actions"),p.Zb(),p.Zb(),p.ac(38,"tbody"),p.Oc(39,at,19,30,"tr",20),p.pc(40,"positionFilter"),p.pc(41,"searchBy"),p.pc(42,"sortBy"),p.pc(43,"async"),p.Zb(),p.Zb(),p.Zb(),p.ac(44,"div",21),p.ac(45,"div",13),p.ac(46,"h4",14),p.Qc(47,"Futures"),p.Zb(),p.Zb(),p.Vb(48,"div",15),p.Zb(),p.ac(49,"div",16),p.ac(50,"table",17),p.ac(51,"thead"),p.ac(52,"th"),p.Qc(53," Trade Date "),p.ac(54,"app-sort-icon",18),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(55,"th"),p.Qc(56," Stock "),p.ac(57,"app-sort-icon",19),p.lc("sort",function(t){return e.sort(t)}),p.Zb(),p.Zb(),p.ac(58,"th"),p.Qc(59,"Type"),p.Zb(),p.ac(60,"th"),p.Qc(61,"Strategy"),p.Zb(),p.ac(62,"th"),p.Qc(63,"Total Lots"),p.Zb(),p.ac(64,"th"),p.Qc(65,"Actions"),p.Zb(),p.Zb(),p.ac(66,"tbody"),p.Oc(67,nt,19,29,"tr",20),p.pc(68,"positionFilter"),p.pc(69,"searchBy"),p.pc(70,"sortBy"),p.pc(71,"async"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.wc("ngIf",p.qc(1,12,e.tradejournalsService.isLoading$)),p.Hb(15),p.wc("ngModel",e.searchText),p.Hb(11),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(10),p.wc("ngForOf",p.rc(40,14,p.sc(41,17,p.tc(42,21,p.qc(43,26,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),p.Ac(42,st,e.searchText),!1),p.zc(44,lt))),p.Hb(15),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(3),p.wc("activeColumn",e.sorting.column)("activeDirection",e.sorting.direction),p.Hb(10),p.wc("ngForOf",p.rc(68,28,p.sc(69,31,p.tc(70,35,p.qc(71,40,e.tradejournalsService.tradejournals$),!0,e.sorting.direction,e.sorting.column),p.Ac(45,st,e.searchText),!1),p.zc(47,ut))))},directives:[n.o,g.i,c.a,c.j,c.l,m.a,n.n,n.p,g.k,h.a],pipes:[n.b,y.a,v.a,S.a,n.f,n.g],styles:[""]}),ct),bt=((it=function(){function e(){t(this,e)}return r(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||it)},it.\u0275cmp=p.Ob({type:it,selectors:[["app-trade"]],decls:1,vars:0,template:function(t,e){1&t&&p.Vb(0,"router-outlet")},directives:[g.m],styles:[""]}),it),pt=a("2Vo4"),ft=a("eIep"),gt=a("IzEk"),mt=a("tk/3"),ht=a("AytR"),yt=a("U1i7"),vt=a("5eHb"),St=a("zC+P");function Ot(t,e){if(1&t&&(p.ac(0,"span"),p.Qc(1),p.Zb()),2&t){var r=p.oc();p.Hb(1),p.Rc(r._placeholder)}}function kt(t,e){if(1&t){var r=p.bc();p.ac(0,"span",14),p.Qc(1),p.ac(2,"a",15),p.lc("click",function(t){p.Gc(r);var o=e.$implicit;return p.oc().onItemClick(t,o)}),p.Qc(3,"x"),p.Zb(),p.Zb()}if(2&t){var o=e.$implicit,a=e.index,n=p.oc();p.wc("hidden",a>n._settings.itemsShowLimit-1),p.Hb(1),p.Sc(" ",o.text," ")}}function wt(t,e){if(1&t&&(p.ac(0,"span",16),p.Qc(1),p.Zb()),2&t){var r=p.oc();p.Hb(1),p.Sc("+",r.itemShowRemaining(),"")}}function Zt(t,e){if(1&t){var r=p.bc();p.ac(0,"li",17),p.lc("click",function(){return p.Gc(r),p.oc().toggleSelectAll()}),p.Vb(1,"input",18),p.ac(2,"div"),p.Qc(3),p.Zb(),p.Zb()}if(2&t){var o=p.oc();p.Hb(1),p.wc("checked",o.isAllItemsSelected())("disabled",o.disabled||o.isLimitSelectionReached()),p.Hb(2),p.Rc(o.isAllItemsSelected()?o._settings.unSelectAllText:o._settings.selectAllText)}}function xt(t,e){if(1&t){var r=p.bc();p.ac(0,"li",19),p.ac(1,"input",20),p.lc("ngModelChange",function(t){return p.Gc(r),p.oc().filter.text=t})("ngModelChange",function(t){return p.Gc(r),p.oc().onFilterTextChange(t)}),p.Zb(),p.Zb()}if(2&t){var o=p.oc();p.Hb(1),p.wc("readOnly",o.disabled)("placeholder",o._settings.searchPlaceholderText)("ngModel",o.filter.text)}}function Tt(t,e){if(1&t){var r=p.bc();p.ac(0,"li",21),p.lc("click",function(t){p.Gc(r);var o=e.$implicit;return p.oc().onItemClick(t,o)}),p.Vb(1,"input",22),p.ac(2,"div"),p.Qc(3),p.Zb(),p.Zb()}if(2&t){var o=e.$implicit,a=p.oc();p.Hb(1),p.wc("checked",a.isSelected(o))("disabled",a.disabled||a.isLimitSelectionReached()&&!a.isSelected(o)||o.isDisabled),p.Ib("aria-label",o.text),p.Hb(2),p.Rc(o.text)}}function Et(t,e){if(1&t&&(p.ac(0,"li",23),p.ac(1,"h5"),p.Qc(2),p.Zb(),p.Zb()),2&t){var r=p.oc();p.Hb(2),p.Rc(r._settings.noDataAvailablePlaceholderText)}}var Ct,Dt,Pt,Ht,Nt,Vt=function(t){return{"dropdown-multiselect--active":t}},Mt=function e(r){t(this,e),"string"!=typeof r&&"number"!=typeof r||(this.id=this.text=r,this.isDisabled=!1),"object"==typeof r&&(this.id=r.id,this.text=r.text,this.isDisabled=r.isDisabled)},Ft=((Ct=function(){function e(){t(this,e)}return r(e,[{key:"transform",value:function(t,e){var r=this;return t&&e?t.filter(function(t){return r.applyFilter(t,e)}):t}},{key:"applyFilter",value:function(t,e){return"string"==typeof t.text&&"string"==typeof e.text?!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase())):!(e.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(e.text.toString().toLowerCase()))}}]),e}()).\u0275fac=function(t){return new(t||Ct)},Ct.\u0275pipe=p.Tb({name:"multiSelectFilter",type:Ct,pure:!1}),Ct),jt={provide:c.i,useExisting:Object(p.bb)(function(){return Qt}),multi:!0},It=function(){},Qt=((Pt=function(){function e(r){t(this,e),this.listFilterPipe=r,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new Mt(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new p.r,this.onDropDownClose=new p.r,this.onSelect=new p.r,this.onDeSelect=new p.r,this.onSelectAll=new p.r,this.onDeSelectAll=new p.r,this.onTouchedCallback=It,this.onChangeCallback=It}return r(e,[{key:"onFilterTextChange",value:function(t){this.onFilterChange.emit(t)}},{key:"onItemClick",value:function(t,e){if(this.disabled||e.isDisabled)return!1;var r=this.isSelected(e),o=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;r?this.removeSelected(e):o&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}},{key:"writeValue",value:function(t){var e=this;if(null!=t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){var r=t[0];this.selectedItems=[new Mt("string"==typeof r||"number"==typeof r?r:{id:r[this._settings.idField],text:r[this._settings.textField],isDisabled:r[this._settings.disabledField]})]}}catch(a){}else{var o=t.map(function(t){return new Mt("string"==typeof t||"number"==typeof t?t:{id:t[e._settings.idField],text:t[e._settings.textField],isDisabled:t[e._settings.disabledField]})});this.selectedItems=this._settings.limitSelection>0?o.splice(0,this._settings.limitSelection):o}else this.selectedItems=[];this.onChangeCallback(t)}},{key:"registerOnChange",value:function(t){this.onChangeCallback=t}},{key:"registerOnTouched",value:function(t){this.onTouchedCallback=t}},{key:"onTouched",value:function(){this.closeDropdown(),this.onTouchedCallback()}},{key:"trackByFn",value:function(t,e){return e.id}},{key:"isSelected",value:function(t){var e=!1;return this.selectedItems.forEach(function(r){t.id===r.id&&(e=!0)}),e}},{key:"isLimitSelectionReached",value:function(){return this._settings.limitSelection===this.selectedItems.length}},{key:"isAllItemsSelected",value:function(){var t=this.listFilterPipe.transform(this._data,this.filter),e=t.filter(function(t){return t.isDisabled}).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+e}},{key:"showButton",value:function(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}},{key:"itemShowRemaining",value:function(){return this.selectedItems.length-this._settings.itemsShowLimit}},{key:"addSelected",value:function(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}},{key:"removeSelected",value:function(t){var e=this;this.selectedItems.forEach(function(r){t.id===r.id&&e.selectedItems.splice(e.selectedItems.indexOf(r),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}},{key:"emittedValue",value:function(t){var e=this,r=[];if(Array.isArray(t))t.map(function(t){r.push(e.objectify(t))});else if(t)return this.objectify(t);return r}},{key:"objectify",value:function(t){if("object"===this._sourceDataType){var e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(e[this._settings.disabledField]=t.isDisabled),e}return"number"===this._sourceDataType?Number(t.id):t.text}},{key:"toggleDropdown",value:function(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}},{key:"closeDropdown",value:function(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}},{key:"toggleSelectAll",value:function(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(function(t){return!t.isDisabled}).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}},{key:"getFields",value:function(t){var e=[];if("object"!=typeof t)return e;for(var r in t)e.push(r);return e}},{key:"placeholder",set:function(t){this._placeholder=t||"Select"}},{key:"settings",set:function(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}},{key:"data",set:function(t){var e=this;if(t){var r=t[0];this._sourceDataType=typeof r,this._sourceDataFields=this.getFields(r),this._data=t.map(function(t){return new Mt("string"==typeof t||"number"==typeof t?t:{id:t[e._settings.idField],text:t[e._settings.textField],isDisabled:t[e._settings.disabledField]})})}else this._data=[]}}]),e}()).\u0275fac=function(t){return new(t||Pt)(p.Ub(Ft))},Pt.\u0275cmp=p.Ob({type:Pt,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,e){1&t&&p.lc("blur",function(){return e.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[p.Gb([jt])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 6px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(t,e){1&t&&(p.ac(0,"div",0),p.lc("blur",function(){return e.onTouched()})("clickOutside",function(){return e.closeDropdown()}),p.ac(1,"div"),p.ac(2,"span",1),p.lc("click",function(t){return e.toggleDropdown(t)}),p.Oc(3,Ot,2,1,"span",2),p.Oc(4,kt,4,2,"span",3),p.ac(5,"span",4),p.Oc(6,wt,2,1,"span",5),p.Vb(7,"span",6),p.Zb(),p.Zb(),p.Zb(),p.ac(8,"div",7),p.ac(9,"ul",8),p.Oc(10,Zt,4,3,"li",9),p.Oc(11,xt,2,3,"li",10),p.Zb(),p.ac(12,"ul",11),p.Oc(13,Tt,4,4,"li",12),p.pc(14,"multiSelectFilter"),p.Oc(15,Et,3,1,"li",13),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.Hb(1),p.Mb("disabled",e.disabled),p.Hb(2),p.wc("ngIf",0==e.selectedItems.length),p.Hb(1),p.wc("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByFn),p.Hb(1),p.wc("ngClass",p.Ac(17,Vt,e._settings.defaultOpen)),p.Hb(1),p.wc("ngIf",e.itemShowRemaining()>0),p.Hb(2),p.wc("hidden",!e._settings.defaultOpen),p.Hb(2),p.wc("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),p.Hb(1),p.wc("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&e._settings.allowSearchFilter),p.Hb(1),p.Mc("max-height",e._settings.maxHeight+"px"),p.Hb(1),p.wc("ngForOf",p.rc(14,14,e._data,e.filter)),p.Hb(2),p.wc("ngIf",0==e._data.length&&!e._settings.allowRemoteDataSearch))},directives:function(){return[At,n.o,n.n,n.m,c.a,c.j,c.l]},pipes:function(){return[Ft]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),Pt=Object(St.c)([Object(St.f)("design:paramtypes",[Ft])],Pt)),At=((Dt=function(){function e(r){t(this,e),this._elementRef=r,this.clickOutside=new p.r}return r(e,[{key:"onClick",value:function(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))}}]),e}()).\u0275fac=function(t){return new(t||Dt)(p.Ub(p.p))},Dt.\u0275dir=p.Pb({type:Dt,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&p.lc("click",function(t){return e.onClick(t,t.target)},!1,p.Fc)},outputs:{clickOutside:"clickOutside"}}),Dt=Object(St.c)([Object(St.f)("design:paramtypes",[p.p])],Dt)),Lt=((Nt=Ht=function(){function e(){t(this,e)}return r(e,null,[{key:"forRoot",value:function(){return{ngModule:Ht}}}]),e}()).\u0275mod=p.Sb({type:Nt}),Nt.\u0275inj=p.Rb({factory:function(t){return new(t||Nt)},providers:[Ft],imports:[[n.c,c.g]]}),Nt),_t=a("CV0D"),Gt=["chart"];function Yt(t,e){1&t&&(p.Yb(0),p.ac(1,"div",15),p.Vb(2,"div",16),p.Zb(),p.Xb())}function Rt(t,e){1&t&&(p.ac(0,"span"),p.Qc(1,"New Stock"),p.Zb())}function qt(t,e){if(1&t&&(p.ac(0,"span"),p.Qc(1),p.Zb()),2&t){var r=p.oc(2);p.Hb(1),p.Rc(r.tradejournal.StockName)}}function $t(t,e){if(1&t&&(p.Yb(0),p.Oc(1,Rt,2,0,"span",1),p.Oc(2,qt,2,1,"span",1),p.Xb()),2&t){var r=p.oc();p.Hb(1),p.wc("ngIf",!r.tradejournal.id),p.Hb(1),p.wc("ngIf",r.tradejournal.id)}}function Jt(t,e){1&t&&(p.ac(0,"span"),p.Qc(1,"Save"),p.Zb())}function Ut(t,e){1&t&&(p.ac(0,"span"),p.Qc(1,"Update"),p.Zb())}function Bt(t,e){if(1&t){var r=p.bc();p.ac(0,"span"),p.ac(1,"button",17),p.lc("click",function(){return p.Gc(r),p.oc().save()}),p.Oc(2,Jt,2,0,"span",1),p.Oc(3,Ut,2,0,"span",1),p.Zb(),p.Zb()}if(2&t){var o=p.oc();p.Hb(2),p.wc("ngIf",!o.tradejournal.id),p.Hb(1),p.wc("ngIf",o.tradejournal.id)}}var Wt=function(t){return{color:t}};function zt(t,e){if(1&t&&(p.ac(0,"div",50),p.ac(1,"div",24),p.ac(2,"div",51),p.Qc(3),p.Zb(),p.ac(4,"div",51),p.Qc(5),p.pc(6,"currency"),p.Zb(),p.ac(7,"div",51),p.Qc(8," P&L : "),p.ac(9,"span",52),p.Qc(10),p.pc(11,"currency"),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t){var r=p.oc(3);p.Hb(3),p.Sc(" Traded Lots : ",r.tradejournal.closedlots," "),p.Hb(2),p.Sc(" Premium : ",p.sc(6,4,r.tradejournal.optionpremium,"INR","\u20b9 ")," "),p.Hb(4),p.wc("ngStyle",p.Ac(12,Wt,r.getProfitColor(r.tradejournal.totalgainloss))),p.Hb(1),p.Sc(" ",p.sc(11,8,r.tradejournal.totalgainloss,"INR","\u20b9 ")," ")}}function Xt(t,e){if(1&t&&(p.ac(0,"div",50),p.ac(1,"div",24),p.ac(2,"div",51),p.Qc(3),p.Zb(),p.ac(4,"div",51),p.Qc(5,"Type : Future"),p.Zb(),p.ac(6,"div",51),p.Qc(7," P&L : "),p.ac(8,"span",52),p.Qc(9),p.pc(10,"currency"),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t){var r=p.oc(3);p.Hb(3),p.Sc(" Traded Lots : ",r.tradejournal.totallots," "),p.Hb(5),p.wc("ngStyle",p.Ac(7,Wt,r.getProfitColor(r.tradejournal.totalgainloss))),p.Hb(1),p.Sc(" ",p.sc(10,3,r.tradejournal.totalgainloss,"INR","\u20b9 ")," ")}}function Kt(t,e){if(1&t&&(p.ac(0,"div",47),p.Vb(1,"div",22),p.ac(2,"div",23),p.ac(3,"div",48),p.Oc(4,zt,12,14,"div",49),p.Oc(5,Xt,11,9,"div",49),p.Zb(),p.Zb(),p.Vb(6,"div",22),p.Zb()),2&t){var r=p.oc(2);p.Hb(4),p.wc("ngIf","Option"===r.formGroup.get("StockType").value),p.Hb(1),p.wc("ngIf","Future"===r.formGroup.get("StockType").value)}}function te(t,e){1&t&&p.Qc(0),2&t&&p.Sc(" ",e.result.stock," ")}function ee(t,e){if(1&t){var r=p.bc();p.ac(0,"i",59),p.lc("click",function(){return p.Gc(r),p.oc(4).getFyersLTP()}),p.Zb()}}function re(t,e){1&t&&(p.Yb(0),p.Vb(1,"span",60),p.Xb())}function oe(t,e){if(1&t&&(p.ac(0,"div",56),p.Qc(1," LTP : "),p.ac(2,"b"),p.Qc(3),p.pc(4,"currency"),p.Zb(),p.Oc(5,ee,1,0,"ng-template",null,57,p.Pc),p.Oc(7,re,2,0,"ng-container",58),p.pc(8,"async"),p.Zb()),2&t){var r=p.Ec(6),o=p.oc(3);p.Hb(3),p.Rc(p.sc(4,3,o.LTP,"INR","")),p.Hb(4),p.wc("ngIf",p.qc(8,7,o.fyersService.isLoading$))("ngIfElse",r)}}function ae(t,e){if(1&t&&(p.ac(0,"div",53),p.ac(1,"div",24),p.Oc(2,oe,9,9,"div",54),p.ac(3,"div",55),p.Qc(4),p.Zb(),p.Zb(),p.Zb()),2&t){var r=p.oc(2);p.Hb(2),p.wc("ngIf","Closed"!==r.tradejournal.Status),p.Hb(2),p.Sc("Lots : ",r.tradejournal.lots,"")}}function ne(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r.keywordvalue),p.Hb(1),p.Sc(" ",r.keywordvalue," ")}}function ie(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r.keywordvalue),p.Hb(1),p.Sc(" ",r.keywordvalue," ")}}function ce(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r.keywordvalue),p.Hb(1),p.Sc(" ",r.keywordvalue," ")}}function se(t,e){1&t&&(p.ac(0,"div",21),p.Vb(1,"div",22),p.ac(2,"div",61),p.ac(3,"h4",62),p.Qc(4,"Entries & Exits"),p.Zb(),p.Zb(),p.Vb(5,"div",22),p.Zb())}function le(t,e){if(1&t&&(p.ac(0,"div",63),p.Vb(1,"div",64),p.ac(2,"div",51),p.ac(3,"div",65),p.ac(4,"div",66),p.Qc(5),p.Zb(),p.Zb(),p.Zb(),p.Zb()),2&t){var r=p.oc(2);p.Hb(5),p.Sc(" Total Lots : ",r.futureTotalLots," ")}}function ue(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function de(t,e){if(1&t){var r=p.bc();p.ac(0,"a",87),p.lc("click",function(){p.Gc(r);var t=p.oc(2).index;return p.oc(3).removeTradesOptionsEntry(t)}),p.Vb(1,"i",88),p.Qc(2," Remove Entry "),p.Zb()}}function be(t,e){if(1&t&&(p.ac(0,"div",85),p.Oc(1,de,3,0,"a",86),p.Zb()),2&t){var r=p.oc(4);p.Hb(1),p.wc("ngIf",r.TradesFuturesEntry.length>1)}}function pe(t,e){if(1&t){var r=p.bc();p.ac(0,"div",68),p.ac(1,"div",69),p.ac(2,"div",70),p.ac(3,"div",9),p.ac(4,"div",24),p.ac(5,"div",71),p.ac(6,"label"),p.Qc(7,"Date "),p.Zb(),p.ac(8,"div",27),p.Vb(9,"input",72,73),p.ac(11,"div",74),p.lc("click",function(){return p.Gc(r),p.Ec(10).toggle()}),p.ac(12,"span",30),p.Vb(13,"i",75),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(14,"div",71),p.ac(15,"label"),p.Qc(16,"Type"),p.Zb(),p.ac(17,"select",76),p.Qc(18," > "),p.Oc(19,ue,2,2,"option",35),p.Zb(),p.Zb(),p.ac(20,"div",71),p.ac(21,"label"),p.Qc(22,"Entry Lots"),p.Zb(),p.ac(23,"input",77),p.lc("blur",function(){p.Gc(r);var t=e.index;return p.oc(3).getFyersFuturePrice(t)}),p.Zb(),p.Zb(),p.ac(24,"div",71),p.ac(25,"label"),p.Qc(26,"Entry Price"),p.Zb(),p.ac(27,"input",78),p.lc("blur",function(){return p.Gc(r),p.oc(3).futureAnalyse()}),p.Zb(),p.Zb(),p.ac(28,"div",71),p.ac(29,"label"),p.Qc(30,"Exit Price"),p.Zb(),p.ac(31,"input",79),p.lc("blur",function(){return p.Gc(r),p.oc(3).futureAnalyse()}),p.Zb(),p.Zb(),p.ac(32,"div",71),p.ac(33,"label"),p.Qc(34,"Exit Date"),p.Zb(),p.ac(35,"div",27),p.Vb(36,"input",80,81),p.ac(38,"div",74),p.lc("click",function(){return p.Gc(r),p.Ec(37).toggle()}),p.ac(39,"span",30),p.Vb(40,"i",75),p.Zb(),p.Zb(),p.Zb(),p.ac(41,"div",82),p.ac(42,"span",52),p.Qc(43),p.pc(44,"currency"),p.Zb(),p.Zb(),p.Zb(),p.ac(45,"div",24),p.ac(46,"div",83),p.Qc(47),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Oc(48,be,2,1,"div",84),p.Zb()}if(2&t){var o=e.index,a=p.oc(3);p.Hb(1),p.wc("formGroupName",o),p.Hb(8),p.Mb("is-invalid",a.TradesFuturesEntry.controls[o].get("futuresEntryDate").errors),p.Hb(8),p.Mb("is-invalid",a.TradesFuturesEntry.controls[o].get("futuresType").errors),p.Hb(2),p.wc("ngForOf",a.futureTypes),p.Hb(4),p.Mb("is-invalid",a.TradesFuturesEntry.controls[o].get("futuresEntryLots").errors),p.Hb(4),p.Mb("is-invalid",a.TradesFuturesEntry.controls[o].get("futuresEntryPrice").errors),p.Hb(4),p.Mb("is-invalid",a.TradesFuturesEntry.controls[o].get("futuresExitPrice").errors),p.Hb(5),p.Mb("is-invalid",a.TradesFuturesEntry.controls[o].get("futuresExitDate").errors),p.Hb(6),p.wc("ngStyle",p.Ac(22,Wt,a.getProfitColor(a.TradesFuturesEntry.controls[o].get("futuresProfitLoss").value))),p.Hb(1),p.Sc(" ",p.sc(44,18,a.TradesFuturesEntry.controls[o].get("futuresProfitLoss").value,"INR","\u20b9 ")," "),p.Hb(4),p.Sc(" ",a.TradesFuturesEntry.controls[o].get("futuresTradeSymbol").value," "),p.Hb(1),p.wc("ngIf","Closed"!==a.tradejournal.Status)}}function fe(t,e){if(1&t&&(p.ac(0,"div",21),p.Vb(1,"div",22),p.ac(2,"div",23),p.Oc(3,pe,49,24,"div",67),p.Zb(),p.Vb(4,"div",22),p.Zb()),2&t){var r=p.oc(2);p.Hb(3),p.wc("ngForOf",r.TradesFuturesEntry.controls)}}function ge(t,e){1&t&&(p.ac(0,"div",21),p.Vb(1,"div",22),p.ac(2,"div",61),p.ac(3,"h4",62),p.Qc(4,"Entries & Exits"),p.Zb(),p.Zb(),p.Vb(5,"div",22),p.Zb())}function me(t,e){if(1&t){var r=p.bc();p.ac(0,"div",51),p.ac(1,"button",93),p.lc("click",function(){return p.Gc(r),p.oc(3).placeOrder()}),p.Vb(2,"i",94),p.Qc(3," Trade Strategy "),p.Zb(),p.Zb()}}function he(t,e){if(1&t&&(p.ac(0,"div",89),p.Vb(1,"div",90),p.ac(2,"div",90),p.ac(3,"div",65),p.ac(4,"div",91),p.Qc(5),p.Zb(),p.ac(6,"div",91),p.Qc(7),p.pc(8,"currency"),p.Zb(),p.Oc(9,me,4,0,"div",92),p.Vb(10,"div",71),p.Zb(),p.Zb(),p.Vb(11,"div",22),p.Zb()),2&t){var r=p.oc(2);p.Hb(5),p.Uc(" Total Lots : ",r.tradejournal.totallots*r.tradejournal.lots," [ ",r.tradejournal.totallots," * ",r.tradejournal.lots,"] "),p.Hb(2),p.Sc(" Premium : ",p.sc(8,5,r.tradejournal.optionpremium,"INR","\u20b9 ")," "),p.Hb(2),p.wc("ngIf","Option PayOff"===r.formGroup.get("Status").value&&"Option"===r.formGroup.get("StockType").value&&r.tradejournal.totallots)}}function ye(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function ve(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function Se(t,e){if(1&t){var r=p.bc();p.ac(0,"a",87),p.lc("click",function(){p.Gc(r);var t=p.oc(2).index;return p.oc(3).removeTradesOptionsEntry(t)}),p.Vb(1,"i",88),p.Qc(2," Remove Entry "),p.Zb()}}function Oe(t,e){if(1&t&&(p.ac(0,"div",85),p.Oc(1,Se,3,0,"a",86),p.Zb()),2&t){var r=p.oc(4);p.Hb(1),p.wc("ngIf",r.TradesOptionsEntry.length>1)}}function ke(t,e){if(1&t){var r=p.bc();p.ac(0,"div",96),p.ac(1,"div",69),p.ac(2,"div",70),p.ac(3,"div",9),p.ac(4,"div",24),p.ac(5,"div",71),p.ac(6,"label"),p.Qc(7,"Date "),p.Zb(),p.ac(8,"div",27),p.Vb(9,"input",97,73),p.ac(11,"div",74),p.lc("click",function(){return p.Gc(r),p.Ec(10).toggle()}),p.ac(12,"span",30),p.Vb(13,"i",75),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(14,"div",71),p.ac(15,"label"),p.Qc(16,"Type"),p.Zb(),p.ac(17,"select",98),p.Qc(18," > "),p.Oc(19,ye,2,2,"option",35),p.Zb(),p.Zb(),p.ac(20,"div",71),p.ac(21,"label"),p.Qc(22,"Month"),p.Zb(),p.ac(23,"select",99),p.Oc(24,ve,2,2,"option",35),p.Zb(),p.Zb(),p.ac(25,"div",71),p.ac(26,"label"),p.Qc(27,"Strike"),p.Zb(),p.ac(28,"input",100),p.lc("blur",function(){p.Gc(r);var t=e.index;return p.oc(3).getFyersOptionPrice(t)}),p.Zb(),p.Zb(),p.ac(29,"div",71),p.ac(30,"label"),p.Qc(31,"Entry Lots"),p.Zb(),p.ac(32,"input",101),p.lc("blur",function(){return p.Gc(r),p.oc(3).analyse()}),p.Zb(),p.Zb(),p.ac(33,"div",71),p.ac(34,"label"),p.Qc(35,"Entry Price"),p.Zb(),p.ac(36,"input",102),p.lc("blur",function(){return p.Gc(r),p.oc(3).analyse()}),p.Zb(),p.Zb(),p.Zb(),p.ac(37,"div",103),p.ac(38,"div",71),p.ac(39,"label"),p.Qc(40,"Exit Date "),p.Zb(),p.ac(41,"div",27),p.Vb(42,"input",104,81),p.ac(44,"div",74),p.lc("click",function(){return p.Gc(r),p.Ec(43).toggle()}),p.ac(45,"span",30),p.Vb(46,"i",75),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(47,"div",71),p.ac(48,"label"),p.Qc(49,"Max Risk (\u20b9)"),p.Zb(),p.Vb(50,"input",105),p.Zb(),p.ac(51,"div",71),p.ac(52,"label"),p.Qc(53,"Max Reward (\u20b9)"),p.Zb(),p.Vb(54,"input",106),p.Zb(),p.ac(55,"div",71),p.ac(56,"label"),p.Qc(57,"Breakeven"),p.Zb(),p.Vb(58,"input",107),p.Zb(),p.ac(59,"div",71),p.ac(60,"label"),p.Qc(61,"Premium Received"),p.Zb(),p.Vb(62,"input",108),p.Zb(),p.ac(63,"div",71),p.ac(64,"label"),p.Qc(65,"Exit Price"),p.Zb(),p.ac(66,"input",109),p.lc("blur",function(){p.Gc(r);var t=e.index;return p.oc(3).optTotals(t)}),p.Zb(),p.ac(67,"div",82),p.ac(68,"span",52),p.Qc(69),p.pc(70,"currency"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(71,"div",24),p.ac(72,"div",110),p.Qc(73),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Oc(74,Oe,2,1,"div",84),p.Zb()}if(2&t){var o=e.index,a=p.oc(3);p.Hb(1),p.wc("formGroupName",o),p.Hb(8),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("EntryDate").errors),p.Hb(8),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("type").errors),p.Hb(2),p.wc("ngForOf",a.optionTypes),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("month").errors),p.Hb(1),p.wc("ngForOf",a.Months),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("strike").errors),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("entrylots").errors),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("entryprice").errors),p.Hb(6),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("ExitDate").errors),p.Hb(8),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("optionmaxrisk").errors),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("optionmaxreward").errors),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("optionbreakeven").errors),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("optionpremium").errors),p.Hb(4),p.Mb("is-invalid",a.TradesOptionsEntry.controls[o].get("exitprice").errors),p.Hb(2),p.wc("ngStyle",p.Ac(35,Wt,a.getProfitColor(a.TradesOptionsEntry.controls[o].get("profitloss").value))),p.Hb(1),p.Sc(" ",p.sc(70,31,a.TradesOptionsEntry.controls[o].get("profitloss").value,"INR","\u20b9 ")," "),p.Hb(4),p.Sc(" ",a.TradesOptionsEntry.controls[o].get("tradesymbol").value," "),p.Hb(1),p.wc("ngIf","Closed"!==a.tradejournal.Status)}}function we(t,e){if(1&t&&(p.ac(0,"div",21),p.Vb(1,"div",22),p.ac(2,"div",23),p.Oc(3,ke,75,37,"div",95),p.Zb(),p.Vb(4,"div",22),p.Zb()),2&t){var r=p.oc(2);p.Hb(3),p.wc("ngForOf",r.TradesOptionsEntry.controls)}}function Ze(t,e){if(1&t){var r=p.bc();p.ac(0,"div",42),p.Vb(1,"div",22),p.ac(2,"div",111),p.ac(3,"a",112),p.lc("click",function(){return p.Gc(r),p.oc(2).addTradesOptionsEntry()}),p.Vb(4,"i",113),p.Qc(5," New Option Entry "),p.Zb(),p.Zb(),p.Vb(6,"div",22),p.Zb()}}function xe(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function Te(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function Ee(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function Ce(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r),p.Hb(1),p.Sc(" ",r," ")}}function De(t,e){if(1&t&&(p.ac(0,"option",34),p.Qc(1),p.Zb()),2&t){var r=e.$implicit;p.wc("ngValue",r.keywordvalue),p.Hb(1),p.Sc(" ",r.keywordvalue," ")}}function Pe(t,e){if(1&t){var r=p.bc();p.ac(0,"a",87),p.lc("click",function(){p.Gc(r);var t=p.oc(2).index;return p.oc(3).removetradeHour(t)}),p.Vb(1,"i",88),p.Qc(2," Remove Entry "),p.Zb()}}function He(t,e){if(1&t&&(p.ac(0,"div",85),p.Oc(1,Pe,3,0,"a",86),p.Zb()),2&t){var r=p.oc(4);p.Hb(1),p.wc("ngIf",r.tradeHour.length>1)}}var Ne=function(){return{keywordtype:"Trade Outcome"}};function Ve(t,e){if(1&t&&(p.ac(0,"div",120),p.ac(1,"div",69),p.ac(2,"div",121),p.ac(3,"div",9),p.ac(4,"div",122),p.ac(5,"div",51),p.ac(6,"div",116),p.ac(7,"div",42),p.ac(8,"div",90),p.ac(9,"label"),p.Qc(10,"Entry Hour"),p.Zb(),p.ac(11,"select",123),p.Oc(12,xe,2,2,"option",35),p.Zb(),p.Zb(),p.ac(13,"div",90),p.ac(14,"label"),p.Qc(15,"Entry Minutes"),p.Zb(),p.ac(16,"select",124),p.Oc(17,Te,2,2,"option",35),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(18,"div",51),p.ac(19,"div",116),p.ac(20,"div",24),p.ac(21,"div",90),p.ac(22,"label"),p.Qc(23,"Exit Hour"),p.Zb(),p.ac(24,"select",125),p.Oc(25,Ee,2,2,"option",35),p.Zb(),p.Zb(),p.ac(26,"div",90),p.ac(27,"label"),p.Qc(28,"Exit Minutes"),p.Zb(),p.ac(29,"select",126),p.Oc(30,Ce,2,2,"option",35),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.ac(31,"div",51),p.ac(32,"div",116),p.ac(33,"div",24),p.ac(34,"div",116),p.ac(35,"label"),p.Qc(36,"Trade Outcome"),p.Zb(),p.ac(37,"select",127),p.Vb(38,"option",34),p.Oc(39,De,2,2,"option",35),p.pc(40,"sortBy"),p.pc(41,"searchBy"),p.pc(42,"async"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Oc(43,He,2,1,"div",84),p.Zb()),2&t){var r=e.index,o=p.oc(3);p.Hb(1),p.wc("formGroupName",r),p.Hb(10),p.Mb("is-invalid",o.tradeHour.controls[r].get("entryHour").errors),p.Hb(1),p.wc("ngForOf",o.Hours),p.Hb(4),p.Mb("is-invalid",o.tradeHour.controls[r].get("entryMinute").errors),p.Hb(1),p.wc("ngForOf",o.Minutes),p.Hb(7),p.Mb("is-invalid",o.tradeHour.controls[r].get("exitHour").errors),p.Hb(1),p.wc("ngForOf",o.Hours),p.Hb(4),p.Mb("is-invalid",o.tradeHour.controls[r].get("exitMinute").errors),p.Hb(1),p.wc("ngForOf",o.Minutes),p.Hb(7),p.Mb("is-invalid",o.tradeHour.controls[r].get("outcome").errors),p.Hb(1),p.wc("ngValue",null),p.Hb(1),p.wc("ngForOf",p.tc(40,18,p.sc(41,23,p.qc(42,27,o.keywordsService.keywords$),p.zc(29,Ne),!1),!1,"asc","order")),p.Hb(4),p.wc("ngIf","Closed"!==o.tradejournal.Status)}}function Me(t,e){if(1&t){var r=p.bc();p.ac(0,"div",42),p.Vb(1,"div",22),p.ac(2,"div",128),p.ac(3,"a",112),p.lc("click",function(){return p.Gc(r),p.oc(3).addtradeHour()}),p.Vb(4,"i",113),p.Qc(5," New Entry "),p.Zb(),p.Zb(),p.Zb()}}var Fe=function(){return{keywordtype:"Trade Tag"}};function je(t,e){if(1&t&&(p.Yb(0),p.Oc(1,Ve,44,30,"div",114),p.Oc(2,Me,6,0,"div",41),p.ac(3,"div",115),p.ac(4,"label"),p.Qc(5,"Trade Tags"),p.Zb(),p.ac(6,"div",116),p.Vb(7,"ng-multiselect-dropdown",117),p.pc(8,"sortBy"),p.pc(9,"searchBy"),p.pc(10,"async"),p.Zb(),p.Zb(),p.ac(11,"div",118),p.ac(12,"label"),p.Qc(13,"Notes"),p.Zb(),p.Vb(14,"textarea",119),p.Zb(),p.Xb()),2&t){var r=p.oc(2);p.Hb(1),p.wc("ngForOf",r.tradeHour.controls),p.Hb(1),p.wc("ngIf","Closed"!==r.tradejournal.Status),p.Hb(5),p.wc("settings",r.dropdownSettings)("data",p.tc(8,4,p.sc(9,9,p.qc(10,13,r.keywordsService.keywords$),p.zc(15,Fe),!1),!1,"asc","order"))}}function Ie(t,e){if(1&t){var r=p.bc();p.ac(0,"div"),p.Vb(1,"img",134),p.ac(2,"div",24),p.ac(3,"div",128),p.ac(4,"a",135),p.lc("click",function(){p.Gc(r);var t=e.$implicit;return p.oc(3).deleteAwsImage(t)}),p.Qc(5," Delete Image "),p.Zb(),p.Zb(),p.Vb(6,"div",22),p.Zb(),p.Zb()}if(2&t){var o=e.$implicit;p.Hb(1),p.yc("src","https://mythies-journal-images.s3.ap-south-1.amazonaws.com/",o.image,"",p.Ic)}}function Qe(t,e){if(1&t){var r=p.bc();p.Yb(0),p.ac(1,"div",129),p.ac(2,"div",116),p.Oc(3,Ie,7,1,"div",130),p.pc(4,"async"),p.Zb(),p.Zb(),p.ac(5,"div",131),p.ac(6,"div",85),p.ac(7,"label",132),p.Qc(8," Upload Chart"),p.Zb(),p.ac(9,"input",133),p.lc("change",function(t){return p.Gc(r),p.oc(2).uploadImage(t)}),p.Zb(),p.Zb(),p.Zb(),p.Xb()}if(2&t){var o=p.oc(2);p.Hb(3),p.wc("ngForOf",p.qc(4,1,o.JournalImages$))}}var Ae=function(){return{keywordtype:"Stock Type"}},Le=function(){return{keywordtype:"Option Strategy"}},_e=function(){return{keywordtype:"Trade Status"}};function Ge(t,e){if(1&t){var r=p.bc();p.ac(0,"div",18),p.ac(1,"form",19),p.lc("ngSubmit",function(){return p.Gc(r),p.oc().save()}),p.Oc(2,Kt,7,2,"div",20),p.ac(3,"div",21),p.Vb(4,"div",22),p.ac(5,"div",23),p.ac(6,"div",24),p.ac(7,"div",25),p.Oc(8,te,1,1,"ng-template",null,26,p.Pc),p.ac(10,"label"),p.Qc(11,"Stock Symbol"),p.Zb(),p.ac(12,"div",27),p.ac(13,"input",28),p.lc("ngModelChange",function(t){return p.Gc(r),p.oc().SelStockSymbol=t})("blur",function(){return p.Gc(r),p.oc().getFyersLTP()}),p.Zb(),p.ac(14,"div",29),p.ac(15,"span",30),p.Vb(16,"i",31),p.Zb(),p.Zb(),p.Zb(),p.Oc(17,ae,5,2,"div",32),p.Zb(),p.ac(18,"div",25),p.ac(19,"label"),p.Qc(20,"Type"),p.Zb(),p.ac(21,"select",33),p.lc("change",function(){return p.Gc(r),p.oc().typeChange()}),p.Vb(22,"option",34),p.Oc(23,ne,2,2,"option",35),p.pc(24,"sortBy"),p.pc(25,"searchBy"),p.pc(26,"async"),p.Zb(),p.Zb(),p.ac(27,"div",25),p.ac(28,"label"),p.Qc(29,"Strategy"),p.Zb(),p.ac(30,"select",36),p.Vb(31,"option",34),p.Oc(32,ie,2,2,"option",35),p.pc(33,"sortBy"),p.pc(34,"searchBy"),p.pc(35,"async"),p.Zb(),p.Zb(),p.ac(36,"div",25),p.ac(37,"label"),p.Qc(38,"Status"),p.Zb(),p.ac(39,"select",37),p.Oc(40,ce,2,2,"option",35),p.pc(41,"sortBy"),p.pc(42,"searchBy"),p.pc(43,"async"),p.Zb(),p.Zb(),p.Zb(),p.Zb(),p.Vb(44,"div",22),p.Zb(),p.Oc(45,se,6,0,"div",38),p.Oc(46,le,6,1,"div",39),p.Oc(47,fe,5,1,"div",38),p.Oc(48,ge,6,0,"div",38),p.Oc(49,he,12,9,"div",40),p.Oc(50,we,5,1,"div",38),p.Oc(51,Ze,7,0,"div",41),p.ac(52,"div",42),p.Vb(53,"div",22),p.ac(54,"div",23),p.ac(55,"ul",43),p.ac(56,"li",44),p.lc("click",function(){p.Gc(r);var t=p.oc();return t.changeTab(t.tabs.NOTES_TAB)}),p.ac(57,"a",45),p.Qc(58," Notes "),p.Zb(),p.Zb(),p.ac(59,"li",44),p.lc("click",function(){p.Gc(r);var t=p.oc();return t.changeTab(t.tabs.CHARTS_TAB)}),p.ac(60,"a",46),p.Qc(61,"Charts"),p.Zb(),p.Zb(),p.Zb(),p.Oc(62,je,15,16,"ng-container",1),p.Oc(63,Qe,10,3,"ng-container",1),p.Zb(),p.Zb(),p.Zb(),p.Zb()}if(2&t){var o=p.Ec(9),a=p.oc();p.Hb(1),p.wc("formGroup",a.formGroup),p.Hb(1),p.wc("ngIf","Closed"===a.formGroup.get("Status").value),p.Hb(11),p.Mb("is-invalid",a.isControlInvalid("StockSymbol")),p.wc("ngModel",a.SelStockSymbol)("ngbTypeahead",a.searchStocks)("inputFormatter",a.formatter)("resultTemplate",o),p.Hb(4),p.wc("ngIf",a.SelStockSymbol),p.Hb(4),p.Mb("is-invalid",a.isControlInvalid("StockType")),p.Hb(1),p.wc("ngValue",null),p.Hb(1),p.wc("ngForOf",p.tc(24,35,p.sc(25,40,p.qc(26,44,a.keywordsService.keywords$),p.zc(68,Ae),!1),!1,"asc","order")),p.Hb(7),p.Mb("is-invalid",a.isControlInvalid("OptionStrategy")),p.Hb(1),p.wc("ngValue",null),p.Hb(1),p.wc("ngForOf",p.tc(33,46,p.sc(34,51,p.qc(35,55,a.keywordsService.keywords$),p.zc(69,Le),!1),!1,"asc","order")),p.Hb(7),p.Mb("is-invalid",a.isControlInvalid("Status")),p.Hb(1),p.wc("ngForOf",p.tc(41,57,p.sc(42,62,p.qc(43,66,a.keywordsService.keywords$),p.zc(70,_e),!1),!1,"asc","order")),p.Hb(5),p.wc("ngIf","Future"===a.formGroup.get("StockType").value),p.Hb(1),p.wc("ngIf","Future"===a.formGroup.get("StockType").value&&"Closed"!==a.formGroup.get("Status").value&&a.futureTotalLots),p.Hb(1),p.wc("ngIf","Future"===a.formGroup.get("StockType").value),p.Hb(1),p.wc("ngIf","Option"===a.formGroup.get("StockType").value),p.Hb(1),p.wc("ngIf","Option"===a.formGroup.get("StockType").value&&"Closed"!==a.formGroup.get("Status").value&&a.tradejournal.totallots),p.Hb(1),p.wc("ngIf","Option"===a.formGroup.get("StockType").value),p.Hb(1),p.wc("ngIf","Closed"!==a.tradejournal.Status&&"Option"===a.formGroup.get("StockType").value),p.Hb(6),p.Mb("active",a.activeTabId===a.tabs.NOTES_TAB),p.Ib("aria-selected",a.activeTabId===a.tabs.NOTES_TAB),p.Hb(3),p.Mb("active",a.activeTabId===a.tabs.CHARTS_TAB),p.Ib("aria-selected",a.activeTabId===a.tabs.CHARTS_TAB),p.Hb(2),p.wc("ngIf",a.activeTabId===a.tabs.NOTES_TAB),p.Hb(1),p.wc("ngIf",a.activeTabId===a.tabs.CHARTS_TAB)}}function Ye(t,e){1&t&&p.Vb(0,"div",136)}function Re(t,e){if(1&t&&(p.ac(0,"div",137),p.Vb(1,"apx-chart",138),p.Zb()),2&t){var r=p.oc();p.Hb(1),p.wc("series",r.chartOptions.series)("chart",r.chartOptions.chart)("dataLabels",r.chartOptions.dataLabels)("plotOptions",r.chartOptions.plotOptions)("yaxis",r.chartOptions.yaxis)("xaxis",r.chartOptions.xaxis)("title",r.chartOptions.title)("tooltip",r.chartOptions.tooltip)("stroke",r.chartOptions.stroke)("markers",r.chartOptions.markers)("grid",r.chartOptions.grid)("annotations",r.chartOptions.annotations)("noData",r.chartOptions.nodata)("colors",r.chartOptions.colors)}}function qe(t,e){if(1&t){var r=p.bc();p.Yb(0),p.ac(1,"button",139),p.lc("click",function(){return p.Gc(r),p.oc(2).remove()}),p.Qc(2," Delete "),p.Zb(),p.Xb()}}function $e(t,e){if(1&t&&(p.Yb(0),p.Oc(1,qe,3,0,"ng-container",1),p.Xb()),2&t){var r=p.oc();p.Hb(1),p.wc("ngIf",r.tradejournal.id)}}var Je,Ue,Be,We,ze=((Ue=function(){function e(r,o,a,n,i,c,s,l,d,b){var p=this;t(this,e),this.tradejournalsService=r,this.location=o,this.stockmasterService=a,this.fyersService=n,this.keywordsService=i,this.toastr=c,this.fb=s,this.router=l,this.route=d,this.http=b,this.errorMessage="",this.subscriptions=[],this.optionTypes=[],this.futureTypes=[],this.optionPayOff=[],this.isDirty=!1,this.Months=[],this.Minutes=[],this.Hours=[],this.dropdownSettings={},this.JournalImages=new pt.a(null),this.tabs={NOTES_TAB:0,CHARTS_TAB:1},this.activeTabId=this.tabs.NOTES_TAB,this.searchStocks=function(t){return t.pipe(Object(V.a)(200),Object(u.a)(function(t){return""===t?[]:p.stocks.filter(function(e){return e.stock.toLowerCase().indexOf(t.toLowerCase())>-1}).slice(0,10)}))},this.formatter=function(t){return t.stock},this.chartOptions={series:[{name:"Pay Off",data:[]}],chart:{height:500,type:"line",toolbar:{show:!1},zoom:{enabled:!1}},colors:[],nodata:{text:"No trades found"},dataLabels:{enabled:!1},stroke:{show:!0,width:3},markers:{size:3,strokeWidth:0,hover:{size:5}},annotations:{},tooltip:{custom:function(t){var e=t.series,r=t.seriesIndex,o=t.dataPointIndex,a=t.w;return'<div class="card card-custom bg-gray-700"  ><div class="card-header border-0" style = "min-height: 40px !important"><div class="card-title"><h3 class="card-label text-white">'+a.config.series[0].data[o].stockname+'</h3></div></div><div class="separator separator-solid separator-white opacity-20"></div><div class="card-body text-white  mb-0" style=" margin-top: -15px"><p>Underlying Price : '+a.globals.labels[o].toFixed(2)+'</p><p style="margin-bottom: -15px">Pay Off : '+e[r][o].toFixed(2)+"</p></div></div>"},fixed:{enabled:!0,position:"topRight",offsetX:0,offsetY:-40}},yaxis:{labels:{formatter:function(t){return"\u20b9 "+t},style:{fontSize:"14px"}},title:{offsetX:0,offsetY:0,text:"Pay Off",style:{fontSize:"15px",fontWeight:"normal",color:"#546E7A"}}},xaxis:{labels:{show:!1},title:{offsetX:0,offsetY:0,text:"Price of Underlying",style:{fontSize:"15px",fontWeight:"normal",color:"#546E7A"}}},grid:{xaxis:{lines:{show:!1}}},title:{text:"Total Pay Off Profile",align:"left",margin:30,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"18px",fontWeight:"bold",color:"#263238"}}}}return r(e,[{key:"changeTab",value:function(t){this.activeTabId=t}},{key:"canDeactivate",value:function(){return this.isDirty}},{key:"ngOnInit",value:function(){var t=this;this.EMPTY_JOURNAL={id:void 0,Status:"Plan",StockType:"Option"},this.LTP=0,this.dropdownSettings={singleSelection:!1,idField:"id",textField:"keywordvalue",itemsShowLimit:100,allowSearchFilter:!0,enableCheckAll:!1,maxHeight:300},this.optionTypes=["","Long Call","Long WCall","Long Put","Long WPut","Short Call","Short WCall","Short Put","Short WPut"],this.futureTypes=["","Long","Short"],this.Months=F.a.monthsShort(),this.Minutes=["0","1","5","10","15","20","25","30","35","40","45","50","55"],this.Hours=["9","10","11","12","13","14","15"],this.fyersService.fyersLTP$=0,this.keywordsService.fetch();var e=this.stockmasterService.stockmasters$.pipe(Object(u.a)(function(e){e.length?t.stocks=e:t.stockmasterService.fetch()}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(e);var r=this.fyersService.fyersLTP$.pipe(Object(u.a)(function(e){t.LTP=e,Number(e)>0&&t.analyse()}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(e),this.subscriptions.push(r),this.loadJournal()}},{key:"loadJournal",value:function(){var t=this,e=this.route.paramMap.pipe(Object(ft.a)(function(e){return t.id=e.get("id"),t.id?t.tradejournalsService.getItemById(t.id):Object(z.a)(t.EMPTY_JOURNAL)}),Object(d.a)(function(e){return t.errorMessage=e,Object(z.a)(void 0)})).subscribe(function(e){e?(e.data?(t.tradejournal=e.data.tradejournal,t.SelStockSymbol=t.stocks.filter(function(e){return e.stock===t.tradejournal.StockSymbol}),t.JournalImages.next(t.tradejournal.journalImage),t.SelStockSymbol.stock=t.tradejournal.StockSymbol,t.SelStockSymbol.lots=t.tradejournal.lots,t.getFyersLTP()):t.tradejournal=e,t.loadForm()):t.router.navigate(["/trade/openPositions"],{relativeTo:t.route})});this.subscriptions.push(e)}},{key:"loadForm",value:function(){var t=this;if(this.tradejournal){this.formGroup=this.fb.group({StockSymbol:[this.tradejournal.StockSymbol,c.r.compose([c.r.required])],StockName:[this.tradejournal.StockName],OptionStrategy:[this.tradejournal.OptionStrategy,c.r.compose([c.r.required])],StockType:[this.tradejournal.StockType,c.r.compose([c.r.required])],Status:[this.tradejournal.Status,c.r.compose([c.r.required])],Notes:[this.tradejournal.Notes],AllTradeTag:[this.tradejournal.AllTradeTag],TradesOptionsEntry:this.fb.array([]),TradesFuturesEntry:this.fb.array([]),tradeHour:this.fb.array([])}),this.tradejournal.TradesOptionsEntry?(this.formGroup.patchValue({TradesOptionsEntry:this.tradejournal.TradesOptionsEntry}),this.setTradesOptionsEntry()):this.addTradesOptionsEntry(),this.tradejournal.tradeHour?(this.formGroup.patchValue({tradeHour:this.tradejournal.tradeHour}),this.settradeHour()):this.addtradeHour(),this.tradejournal.TradesFuturesEntry?(this.formGroup.patchValue({TradesFuturesEntry:this.tradejournal.TradesFuturesEntry}),this.setTradesFuturesEntry()):this.addTradesFuturesEntry();var e=this.formGroup.valueChanges.subscribe(function(e){return t.isDirty=!0});this.subscriptions.push(e)}}},{key:"settradeHour",value:function(){var t=this;this.tradejournal.tradeHour.forEach(function(e){t.tradeHour.push(t.fb.group(e))})}},{key:"setTradesOptionsEntry",value:function(){var t=this;this.tradejournal.TradesOptionsEntry.forEach(function(e){e.EntryDate&&(e.EntryDate=F()(e.EntryDate).format("M/DD/YYYY").toString()),e.ExitDate&&(e.ExitDate=F()(e.ExitDate).format("M/DD/YYYY").toString()),e.tradesymbol||(e.tradesymbol=""),t.TradesOptionsEntry.push(t.fb.group(e))})}},{key:"setTradesFuturesEntry",value:function(){var t=this;this.tradejournal.TradesFuturesEntry.forEach(function(e){e.futuresEntryDate&&(e.futuresEntryDate=F()(e.futuresEntryDate).format("M/DD/YYYY").toString()),e.futuresExitDate&&(e.futuresExitDate=F()(e.futuresExitDate).format("M/DD/YYYY").toString()),e.futuresTradeSymbol||(e.futuresTradeSymbol=""),t.TradesFuturesEntry.push(t.fb.group(e))})}},{key:"newTradesOptionsEntry",value:function(){var t={EntryDate:F()().format("M/DD/YYYY").toString(),month:F()().format("MMM"),ExitDate:null,strike:null,type:null,entrylots:null,optionbreakeven:null,optionmaxrisk:null,optionmaxreward:null,optionpremium:null,profitloss:null,entryprice:null,exitprice:null,tradesymbol:null,Notes:null};return this.fb.group({EntryDate:[t.EntryDate],month:[t.month],type:[t.type],strike:[t.strike],entrylots:[t.entrylots],optionbreakeven:[t.optionbreakeven],optionmaxrisk:[t.optionmaxrisk],optionmaxreward:[t.optionmaxreward],optionpremium:[t.optionpremium],profitloss:[t.profitloss],entryprice:[t.entryprice],ExitDate:[t.ExitDate],exitprice:[t.exitprice],tradesymbol:[t.tradesymbol]})}},{key:"newTradesFuturesEntry",value:function(){var t={futuresEntryDate:F()().format("M/DD/YYYY").toString(),futuresExitDate:null,futuresType:null,futuresEntryLots:null,futuresProfitLoss:null,futuresEntryPrice:null,futuresExitPrice:null,futuresTradeSymbol:null};return this.fb.group({futuresEntryDate:[t.futuresEntryDate],futuresType:[t.futuresType],futuresEntryLots:[t.futuresEntryLots],futuresProfitLoss:[t.futuresProfitLoss],futuresEntryPrice:[t.futuresEntryPrice],futuresExitDate:[t.futuresExitDate],futuresExitPrice:[t.futuresExitPrice],futuresTradeSymbol:[t.futuresTradeSymbol]})}},{key:"newTradeHour",value:function(){return this.fb.group({entryHour:[null],entryMinute:[null],exitHour:[null],exitMinute:[null],outcome:[null]})}},{key:"addtradeHour",value:function(){this.tradeHour.push(this.newTradeHour())}},{key:"removetradeHour",value:function(t){confirm("Are you sure remove entry? ")&&this.tradeHour.removeAt(t)}},{key:"addTradesOptionsEntry",value:function(){this.TradesOptionsEntry.push(this.newTradesOptionsEntry())}},{key:"removeTradesOptionsEntry",value:function(t){confirm("Are you sure remove entry? ")&&this.TradesOptionsEntry.removeAt(t)}},{key:"addTradesFuturesEntry",value:function(){this.TradesFuturesEntry.push(this.newTradesFuturesEntry())}},{key:"setValidators",value:function(){"Future"===this.formGroup.get("StockType").value&&("Open"!==this.formGroup.get("Status").value&&"Plan"!==this.formGroup.get("Status").value||this.TradesFuturesEntry.controls.forEach(function(t){t.get("futuresEntryDate").setValidators([c.r.required]),t.get("futuresType").setValidators([c.r.required]),t.get("futuresEntryLots").setValidators([c.r.required]),t.get("futuresEntryPrice").setValidators([c.r.required]),t.get("futuresExitDate").clearValidators(),t.get("futuresExitPrice").clearValidators(),t.get("futuresEntryDate").updateValueAndValidity(),t.get("futuresType").updateValueAndValidity(),t.get("futuresEntryLots").updateValueAndValidity(),t.get("futuresEntryPrice").updateValueAndValidity(),t.get("futuresExitDate").updateValueAndValidity(),t.get("futuresExitPrice").updateValueAndValidity()}),"Closed"===this.formGroup.get("Status").value&&this.TradesFuturesEntry.controls.forEach(function(t){t.get("futuresEntryDate").setValidators([c.r.required]),t.get("futuresType").setValidators([c.r.required]),t.get("futuresEntryLots").setValidators([c.r.required]),t.get("futuresEntryPrice").setValidators([c.r.required]),t.get("futuresExitDate").setValidators([c.r.required]),t.get("futuresExitPrice").setValidators([c.r.required]),t.get("futuresEntryDate").updateValueAndValidity(),t.get("futuresType").updateValueAndValidity(),t.get("futuresEntryLots").updateValueAndValidity(),t.get("futuresEntryPrice").updateValueAndValidity(),t.get("futuresExitDate").updateValueAndValidity(),t.get("futuresExitPrice").updateValueAndValidity()})),"Option"===this.formGroup.get("StockType").value&&("Open"===this.formGroup.get("Status").value&&this.TradesOptionsEntry.controls.forEach(function(t){t.get("EntryDate").setValidators([c.r.required]),t.get("month").setValidators([c.r.required]),t.get("type").setValidators([c.r.required]),t.get("strike").setValidators([c.r.required]),t.get("entrylots").setValidators([c.r.required]),t.get("entryprice").setValidators([c.r.required]),t.get("ExitDate").clearValidators(),t.get("exitprice").clearValidators(),t.get("EntryDate").updateValueAndValidity(),t.get("month").updateValueAndValidity(),t.get("type").updateValueAndValidity(),t.get("strike").updateValueAndValidity(),t.get("entrylots").updateValueAndValidity(),t.get("entryprice").updateValueAndValidity(),t.get("ExitDate").updateValueAndValidity(),t.get("exitprice").updateValueAndValidity()}),"Closed"===this.formGroup.get("Status").value&&this.TradesOptionsEntry.controls.forEach(function(t){t.get("EntryDate").setValidators([c.r.required]),t.get("month").setValidators([c.r.required]),t.get("type").setValidators([c.r.required]),t.get("strike").setValidators([c.r.required]),t.get("entrylots").setValidators([c.r.required]),t.get("entryprice").setValidators([c.r.required]),t.get("ExitDate").setValidators([c.r.required]),t.get("exitprice").setValidators([c.r.required]),t.get("EntryDate").updateValueAndValidity(),t.get("month").updateValueAndValidity(),t.get("type").updateValueAndValidity(),t.get("strike").updateValueAndValidity(),t.get("entrylots").updateValueAndValidity(),t.get("entryprice").updateValueAndValidity(),t.get("ExitDate").updateValueAndValidity(),t.get("exitprice").updateValueAndValidity()}),"Plan"===this.formGroup.get("Status").value&&this.TradesOptionsEntry.controls.forEach(function(t){t.get("EntryDate").setValidators([c.r.required]),t.get("month").setValidators([c.r.required]),t.get("type").setValidators([c.r.required]),t.get("strike").setValidators([c.r.required]),t.get("entrylots").setValidators([c.r.required]),t.get("entryprice").setValidators([c.r.required]),t.get("ExitDate").clearValidators(),t.get("exitprice").clearValidators(),t.get("EntryDate").updateValueAndValidity(),t.get("month").updateValueAndValidity(),t.get("type").updateValueAndValidity(),t.get("strike").updateValueAndValidity(),t.get("entrylots").updateValueAndValidity(),t.get("entryprice").updateValueAndValidity(),t.get("ExitDate").updateValueAndValidity(),t.get("exitprice").updateValueAndValidity()}))}},{key:"getFyersOptionPrice",value:function(t){var e=this,r=this.TradesOptionsEntry.controls[t].get("strike").value,o=this.TradesOptionsEntry.controls[t].get("type").value,a=this.TradesOptionsEntry.controls[t].get("EntryDate").value;if(this.SelStockSymbol&&r&&o&&a){var n=this.SelStockSymbol.stock,i="";if("Long Call"!==o&&"Short Call"!==o||(i=("NSE:"+n+F()(a).format("YYMMM")+r+"CE").toUpperCase()),"Long Put"!==o&&"Short Put"!==o||(i=("NSE:"+n+F()(a).format("YYMMM")+r+"PE").toUpperCase()),"Long WCall"!==o&&"Short WCall"!==o||(i=("NSE:"+n+F()(a).format("YYMDD")+r+"CE").toUpperCase(),"Oct"===F()(a).format("MMM")&&(i="NSE:"+n+F()(a).format("YY")+"O"+F()(a).format("DD")+r+"CE"),"Nov"===F()(a).format("MMM")&&(i="NSE:"+n+F()(a).format("YY")+"N"+F()(a).format("DD")+r+"CE"),"Dec"===F()(a).format("MMM")&&(i="NSE:"+n+F()(a).format("YY")+"D"+F()(a).format("DD")+r+"CE")),"Long WPut"!==o&&"Short WPut"!==o||(i=("NSE:"+n+F()(a).format("YYMDD")+r+"PE").toUpperCase(),"Oct"===F()(a).format("MMM")&&(i="NSE:"+n+F()(a).format("YY")+"O"+F()(a).format("DD")+r+"PE"),"Nov"===F()(a).format("MMM")&&(i="NSE:"+n+F()(a).format("YY")+"N"+F()(a).format("DD")+r+"PE"),"Dec"===F()(a).format("MMM")&&(i="NSE:"+n+F()(a).format("YY")+"D"+F()(a).format("DD")+r+"PE")),this.TradesOptionsEntry.controls[t].get("tradesymbol").setValue(i.toUpperCase()+"-MARGIN"),"Plan"===this.formGroup.get("Status").value){this.fyersService.fyersOptionPrice$=0,this.fyersService.getFyersOptionPrice({symbol:i});var c=this.fyersService.fyersOptionPrice$.pipe(Object(gt.a)(2),Object(u.a)(function(r){e.TradesOptionsEntry.controls[t].get("entryprice").setValue(r.toString())}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(c)}if("Open"===this.formGroup.get("Status").value&&("Long Call Intraday"===this.formGroup.get("OptionStrategy").value||"Long Put Intraday"===this.formGroup.get("OptionStrategy").value||"Short Call Intraday"===this.formGroup.get("OptionStrategy").value||"Short Put Intraday"===this.formGroup.get("OptionStrategy").value)){this.fyersService.fyersOptionPrice$=0,this.fyersService.getFyersOptionPrice({symbol:i});var s=this.fyersService.fyersOptionPrice$.pipe(Object(gt.a)(2),Object(u.a)(function(r){e.TradesOptionsEntry.controls[t].get("entryprice").setValue(r.toString())}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(s)}}}},{key:"getFyersFuturePrice",value:function(t){var e=this,r=this.TradesFuturesEntry.controls[t].get("futuresEntryDate").value;if(this.SelStockSymbol){var o="";if(o="NSE:"+(o=this.SelStockSymbol.stock+F()(r).format("YYMMM")+"FUT").toUpperCase(),this.TradesFuturesEntry.controls[t].get("futuresTradeSymbol").setValue(o+"-MARGIN"),this.futureAnalyse(),"Plan"===this.formGroup.get("Status").value){this.fyersService.fyersFuturePrice$=0,this.fyersService.getFyersFuturePrice({symbol:o});var a=this.fyersService.fyersFuturePrice$.pipe(Object(gt.a)(2),Object(u.a)(function(r){e.TradesFuturesEntry.controls[t].get("futuresEntryPrice").setValue(r.toString())}),Object(d.a)(function(t){return t})).subscribe();this.subscriptions.push(a)}}}},{key:"typeChange",value:function(){"Future"===this.formGroup.controls.StockType.value?(this.formGroup.controls.OptionStrategy.setValue("Futures Intraday"),this.formGroup.controls.Status.setValue("Plan")):(this.formGroup.controls.OptionStrategy.setValue(""),this.formGroup.controls.Status.setValue("Plan"))}},{key:"getFyersLTP",value:function(){if("Closed"!==this.tradejournal.Status){this.fyersService.fyersLTP$=0;var t=this.SelStockSymbol.stock;this.SelStockSymbol.lots&&(this.tradejournal.lots=this.SelStockSymbol.lots),t="NSE:"+t+"-EQ","NIFTY"===this.SelStockSymbol.stock&&(t="NSE:NIFTY50-INDEX"),"BANKNIFTY"===this.SelStockSymbol.stock&&(t="NSE:NIFTYBANK-INDEX"),this.fyersService.getFyersLTP({symbol:t})}}},{key:"optTotals",value:function(t){if("Option"===this.formGroup.get("StockType").value){var e=this.TradesOptionsEntry.controls[t].get("strike").value,r=this.TradesOptionsEntry.controls[t].get("type").value,o=this.TradesOptionsEntry.controls[t].get("entrylots").value,a=this.TradesOptionsEntry.controls[t].get("entryprice").value,n=this.TradesOptionsEntry.controls[t].get("exitprice").value;if(this.SelStockSymbol&&null!==e&&null!==r&&null!==o&&null!==a){if("Long Call"===r||"Long WCall"===r){var i=Number(a)*Number(o),c=Number(e)*Number(o),s=Number(o),l=Number(c)/Number(s),u=Number(i)/Number(s),d=Number(l)+Number(u),b=Number(i)*Number(this.tradejournal.lots),p=-Number(i)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(d.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(b.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue("Infinity"),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(p.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),n){var f=(Number(n)-Number(a))*Number(o)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(f.toFixed(2))}}if("Short Call"===r||"Short WCall"===r){var g=Number(a)*Number(o),m=Number(e)*Number(o),h=Number(o),y=Number(m)/Number(h),v=Number(g)/Number(h),S=Number(y)+Number(v),O=Number(g)*Number(this.tradejournal.lots),k=Number(g)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(S.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue("Infinity"),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(O.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(k.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),n){var w=(Number(a)-Number(n))*Number(o)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(w.toFixed(2))}}if("Long Put"===r||"Long WPut"===r){var Z=Number(a)*Number(o),x=Number(e)*Number(o),T=Number(o),E=Number(x)/Number(T),C=Number(Z)/Number(T),D=Number(E)-Number(C),P=Number(Z)*Number(this.tradejournal.lots),H=Number(D)*(Number(T)*Number(this.tradejournal.lots)),N=-Number(Z)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(D.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(P.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(H.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(N.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),n){var V=(Number(n)-Number(a))*Number(o)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(V.toFixed(2))}}if("Short Put"===r||"Short WPut"===r){var M=Number(a)*Number(o),F=Number(e)*Number(o),j=Number(o),I=Number(F)/Number(j),Q=Number(M)/Number(j),A=Number(I)-Number(Q),L=Number(A)*(Number(j)*Number(this.tradejournal.lots)),_=Number(M)*Number(this.tradejournal.lots),G=Number(M)*Number(this.tradejournal.lots);if(this.TradesOptionsEntry.controls[t].get("optionbreakeven").setValue(A.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxrisk").setValue(L.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionmaxreward").setValue(_.toFixed(2)),this.TradesOptionsEntry.controls[t].get("optionpremium").setValue(G.toFixed(2)),this.TradesOptionsEntry.controls[t].get("profitloss").setValue(null),n){var Y=(Number(a)-Number(n))*Number(o)*Number(this.tradejournal.lots);this.TradesOptionsEntry.controls[t].get("profitloss").setValue(Y.toFixed(2))}}}this.optionTotals()}}},{key:"optionTotals",value:function(){if("Option"===this.formGroup.get("StockType").value){var t=0,e=0,r=0,o=0;this.TradesOptionsEntry.controls.forEach(function(a){var n=a.get("type").value,i=a.get("entryprice").value,c=a.get("exitprice").value,s=a.get("profitloss").value,l=a.get("entrylots").value;""!==n&&("Long Call"!==n&&"Long WCall"!==n||(t=Number(t)-Number(i)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),"Short Call"!==n&&"Short WCall"!==n||(t=Number(t)+Number(i)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),"Long Put"!==n&&"Long WPut"!==n||(t=Number(t)-Number(i)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),"Short Put"!==n&&"Short WPut"!==n||(t=Number(t)+Number(i)*Number(l),isNaN(c)||null===c&&""===c||(e=Number(e)+Number(s))),c&&(r=Number(r)+Number(l)),o+=Number(l))}),this.tradejournal.totallots=Number(o)-Number(r),this.tradejournal.optionpremium=Number((Number(t)*Number(this.tradejournal.lots)).toFixed(2)),this.tradejournal.totalgainloss=Number(Number(e).toFixed(2)),this.tradejournal.closedlots=r,this.tradejournal.FirstEntryDate=F()(this.TradesOptionsEntry.controls[0].get("EntryDate").value).format("DD MMM YYYY"),this.TradesOptionsEntry.controls[this.TradesOptionsEntry.length-1].get("ExitDate").value&&(this.tradejournal.LastExitDate=F()(this.TradesOptionsEntry.controls[this.TradesOptionsEntry.length-1].get("ExitDate").value).add(6,"h")),this.tradejournal.TradeType=this.tradejournal.optionpremium>0?"Short":"Long"}}},{key:"optionPayOffChart",value:function(){var t=this;if("Option"===this.formGroup.get("StockType").value){this.optionPayOff=[];for(var e="",r=function(r){var o={valueNumber:r,payOffPosition:[],priceOfUnderlying:0,annotation:null,totalPayoff:0};t.TradesOptionsEntry.controls.forEach(function(a,n){var i=a.get("type").value,c=a.get("optionpremium").value,s=a.get("entrylots").value,l=a.get("strike").value;if(""!==i){var u=t.LTP,d=0,b=0;if(e=u,o.priceOfUnderlying=Number(Number(Number(u)-Number(u)*(1-.01*(r-1))).toFixed(2)),"Long Call"!==i&&"Long WCall"!==i||(d=Number(s)*Number(t.tradejournal.lots),b=Number(d)*Number(Number(o.priceOfUnderlying)-Number(l))+Number(c)),"Short Call"!==i&&"Short WCall"!==i||(d=-Number(s)*Number(t.tradejournal.lots),b=Number(d)*Number(Number(o.priceOfUnderlying)-Number(l))+Number(c)),"Long Put"!==i&&"Long WPut"!==i||(d=Number(s)*Number(t.tradejournal.lots),b=Number(d)*Number(Number(l)-Number(o.priceOfUnderlying))+Number(c)),"Short Put"!==i&&"Short WPut"!==i||(d=-Number(s)*Number(t.tradejournal.lots),b=Number(d)*Number(Number(l)-Number(o.priceOfUnderlying))+Number(c)),Number(d)>0){var p=Math.max(Number(Number(c).toFixed(2)),Number(b.toFixed(2)));o.payOffPosition.push(p)}else{var f=Math.min(Number(Number(c).toFixed(2)),Number(b.toFixed(2)));o.payOffPosition.push(f)}}});var a=0;o.payOffPosition.forEach(function(t,e){a=Number(a)+Number(t)}),Number(e)===Number(o.priceOfUnderlying)&&(o.annotation=o.priceOfUnderlying),o.totalPayoff=a,t.optionPayOff.push(o),t.updateSeries()},o=80;o<121;o++)r(o)}}},{key:"updateSeries",value:function(){if("Option"===this.formGroup.get("StockType").value){var t,e,r=[],o="";t=this.tradejournal.StockName?this.tradejournal.StockSymbol:this.SelStockSymbol.stock,this.optionPayOff.map(function(e){var a={x:0,y:0,stockname:"",annotation:0};e.annotation&&(o=e.annotation),a.x=e.priceOfUnderlying,a.y=e.totalPayoff,a.stockname=t,r.push(a)}),this.chartOptions.series=[{name:"P&L",data:r}],e=this.tradejournal.optionpremium>0?"#FF4560":"#4CAF50",this.chartOptions.colors=[e],this.chartOptions.annotations={position:"back",yaxis:[{y:0,borderWidth:3,borderColor:"#4CAF50",strokeDashArray:5}],xaxis:[{x:o,strokeDashArray:0,borderColor:"#5653FE",label:{borderColor:"#5653FE",position:"bottom",style:{color:"#fff",background:"#5653FE"},text:o.toString()}}]}}}},{key:"futureAnalyse",value:function(){var t=this;this.TradesFuturesEntry.controls.forEach(function(e,r){var o=t.SelStockSymbol.stock,a=e.get("futuresEntryDate").value,n=0;t.futureTotalLots=e.get("futuresEntryLots").value*t.tradejournal.lots+" ["+e.get("futuresEntryLots").value+" * "+t.tradejournal.lots+"]",t.tradejournal.totallots=Number(e.get("futuresEntryLots").value);var i=o+F()(a).format("YYMMM")+"FUT";e.get("futuresTradeSymbol").setValue("NSE:"+i.toUpperCase()+"-MARGIN");var c=e.get("futuresExitPrice").value,s=e.get("futuresEntryPrice").value,l=e.get("futuresEntryLots").value,u=e.get("futuresType").value,d=Number(l)*Number(t.tradejournal.lots);c&&("Long"===u&&(n=(Number(c)-Number(s))*Number(d)),"Short"===u&&(n=(Number(s)-Number(c))*Number(d)),e.get("futuresProfitLoss").setValue(n.toString()),t.tradejournal.LastExitDate=F()(e.get("futuresExitDate").value).add(6,"h"),t.tradejournal.totalgainloss=Number(Number(n).toFixed(2)))})}},{key:"analyse",value:function(){var t=this;"Option"===this.formGroup.get("StockType").value&&(this.TradesOptionsEntry.controls.forEach(function(e,r){t.optTotals(r)}),"Closed"!==this.formGroup.get("Status").value&&this.optionPayOffChart()),"Future"===this.formGroup.get("StockType").value&&this.futureAnalyse()}},{key:"save",value:function(){this.setValidators(),this.formGroup.markAllAsTouched(),this.formGroup.valid?(this.tradejournal=Object.assign(this.tradejournal,this.formGroup.value),this.tradejournal.StockSymbol=this.SelStockSymbol.stock,this.SelStockSymbol.stockname&&(this.tradejournal.StockName=this.SelStockSymbol.stockname),"Option"===this.formGroup.get("StockType").value&&(this.tradejournal.TradeDate=F()(this.TradesOptionsEntry.controls[0].get("EntryDate").value).format("DD MMM YYYY")),"Future"===this.formGroup.get("StockType").value&&(this.futureAnalyse(),this.tradejournal.TradeDate=F()(this.TradesFuturesEntry.controls[0].get("futuresEntryDate").value).format("DD MMM YYYY"),"Closed"===this.formGroup.get("Status").value&&(this.tradejournal.LastExitDate=F()(this.TradesFuturesEntry.controls[0].get("futuresExitDate").value).format("DD MMM YYYY"))),this.tradejournal.id?this.edit():this.create()):this.toastr.error("Please check all fields for errors","Form validations failed")}},{key:"edit",value:function(){var t=this;"Closed"===this.formGroup.get("Status").value&&(this.tradejournal.ExitPriceLTP||(this.tradejournal.ExitPriceLTP=this.LTP));var e=this.tradejournalsService.update(this.tradejournal).pipe(Object(X.a)(function(){t.isDirty=!1}),Object(d.a)(function(e){return Object(z.a)(t.tradejournal)})).subscribe(function(e){e.data&&t.formGroup.markAsPristine()});this.subscriptions.push(e)}},{key:"create",value:function(){var t=this,e=this.tradejournalsService.create(this.tradejournal).pipe(Object(X.a)(function(){t.isDirty=!1}),Object(d.a)(function(e){return Object(z.a)(t.tradejournal)})).subscribe(function(e){e.data&&(t.tradejournal.id=e.data.createTradejournal.id)});this.subscriptions.push(e)}},{key:"remove",value:function(){var t=this;if(confirm("Are you sure to delete "+this.tradejournal.StockSymbol)){this.tradejournal.journalImage&&this.tradejournal.journalImage.forEach(function(e){t.deleteAwsImage(e)});var e=this.tradejournalsService.remove(this.tradejournal.id).pipe(Object(X.a)(function(){t.isDirty=!1,"Closed"===t.formGroup.get("Status").value&&t.router.navigate(["/trade/closedTrades"]),"Open"===t.formGroup.get("Status").value&&t.router.navigate(["/trade/openPositions"]),"Plan"===t.formGroup.get("Status").value&&t.router.navigate(["/trade/optionsPayoff"])}),Object(d.a)(function(e){return Object(z.a)(t.tradejournal)})).subscribe();this.subscriptions.push(e)}}},{key:"deleteAwsImage",value:function(t){var e=this,r=this.tradejournalsService.deleteAWSImage(t.key).pipe(Object(X.a)(function(){e.isDirty=!0;var r=e.tradejournal.journalImage.indexOf(t);e.tradejournal.journalImage.splice(r,1)}),Object(d.a)(function(t){return Object(z.a)(null)})).subscribe();this.subscriptions.push(r)}},{key:"uploadImage",value:function(t){var e=this;if(this.tradejournal.id){var r=t.target.files[0],o=new mt.e,a=JSON.parse(localStorage.getItem("accessToken"));o=o.append("Authorization","Bearer "+a.token);var n=new FormData;n.append("file",r),this.http.post(ht.a.uploadURL,n,{headers:o}).subscribe({next:function(t){e.tradejournal.journalImage=e.tradejournal.journalImage||[],e.tradejournal.journalImage.push({image:t.key,key:t.key}),e.JournalImages.next(e.tradejournal.journalImage)},error:function(t){e.toastr.error("Image upload failed",t)}})}else this.toastr.error("Save Journal Before uploading images","Image upload")}},{key:"placeOrder",value:function(){var t=this;if(confirm("Are you sure trade this strategy for "+this.SelStockSymbol.stock)){var e=[],r=0,o="";if(this.SelStockSymbol){this.TradesOptionsEntry.controls.forEach(function(a,n){var i=a.get("type").value,c=a.get("entrylots").value,s=a.get("strike").value,l=a.get("EntryDate").value;if(s&&l&&c&&i){var u=t.SelStockSymbol.stock;"Long Call"!==i&&"Short Call"!==i||(o=u+F()(l).format("YYMMM")+s+"CE"),"Long Put"!==i&&"Short Put"!==i||(o=u+F()(l).format("YYMMM")+s+"PE"),"Long WCall"!==i&&"Short WCall"!==i||(o=u+F()(l).format("YYMDD")+s+"CE","Oct"===F()(l).format("MMM")&&(o=u+F()(l).format("YY")+"O"+F()(l).format("DD")+s+"CE"),"Nov"===F()(l).format("MMM")&&(o=u+F()(l).format("YY")+"N"+F()(l).format("DD")+s+"CE"),"Dec"===F()(l).format("MMM")&&(o=u+F()(l).format("YY")+"D"+F()(l).format("DD")+s+"CE")),"Long WPut"!==i&&"Short WPut"!==i||(o=u+F()(l).format("YYMDD")+s+"PE","Oct"===F()(l).format("MMM")&&(o=u+F()(l).format("YY")+"O"+F()(l).format("DD")+s+"PE"),"Nov"===F()(l).format("MMM")&&(o=u+F()(l).format("YY")+"N"+F()(l).format("DD")+s+"PE"),"Dec"===F()(l).format("MMM")&&(o=u+F()(l).format("YY")+"D"+F()(l).format("DD")+s+"PE")),"Long Call"!==i&&"Long WCall"!==i&&"Long Put"!==i&&"Long WPut"!==i||(r=1),"Short Call"!==i&&"Short WCall"!==i&&"Short Put"!==i&&"Short WPut"!==i||(r=-1),a.get("tradesymbol").setValue("NSE:"+o.toUpperCase()+"-MARGIN");var d={symbol:"NSE:"+o,qty:Number(Number(Number(t.SelStockSymbol.lots)*Number(c)).toFixed(0)),type:2,side:r,productType:"MARGIN",limitPrice:0,stopPrice:0,disclosedQty:0,validity:"DAY",offlineOrder:"False",stopLoss:0,takeProfit:0};e.push(d)}});var a={placeOrder:e};null!==a&&this.fyersService.placeFyersOrder(a)}}}},{key:"backClicked",value:function(){this.location.back()}},{key:"getProfitColor",value:function(t){return Number(t)>0?"green":"red"}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})}},{key:"isControlValid",value:function(t){var e=this.formGroup.controls[t];return e.valid&&(e.dirty||e.touched)}},{key:"isControlInvalid",value:function(t){var e=this.formGroup.controls[t];return e.invalid&&(e.dirty||e.touched)}},{key:"controlHasError",value:function(t,e){var r=this.formGroup.controls[e];return r.hasError(t)&&(r.dirty||r.touched)}},{key:"isControlTouched",value:function(t){var e=this.formGroup.controls[t];return e.dirty||e.touched}},{key:"JournalImages$",get:function(){return this.JournalImages.asObservable()}},{key:"tradeHour",get:function(){return this.formGroup.get("tradeHour")}},{key:"TradesOptionsEntry",get:function(){return this.formGroup.get("TradesOptionsEntry")}},{key:"TradesFuturesEntry",get:function(){return this.formGroup.get("TradesFuturesEntry")}}]),e}()).\u0275fac=function(t){return new(t||Ue)(p.Ub(f.a),p.Ub(n.k),p.Ub(j.a),p.Ub(K.a),p.Ub(yt.a),p.Ub(vt.b),p.Ub(c.c),p.Ub(g.h),p.Ub(g.a),p.Ub(mt.c))},Ue.\u0275cmp=p.Ob({type:Ue,selectors:[["app-trade-journal"]],viewQuery:function(t,e){var r;1&t&&p.Lc(Gt,!0),2&t&&p.Dc(r=p.mc())&&(e.chart=r.first)},features:[p.Gb([{provide:i.b,useClass:N.b},{provide:i.c,useClass:N.c}])],decls:22,vars:11,consts:[[1,"card","card-custom","gutter-b"],[4,"ngIf"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-toolbar"],["type","button",1,"btn","btn-light",3,"click"],[1,"fa","fa-arrow-left"],["type","button",1,"btn","btn-success","ml-2",3,"click"],[1,"card-body"],["class","mt-5",4,"ngIf"],["class","separator separator-dashed my-10",4,"ngIf"],["id","chart",4,"ngIf"],[1,"card-footer","d-flex","justify-content-between"],[1,"col","text-right"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],["type","button",1,"btn","btn-primary","font-weight-bold","ml-2",3,"click"],[1,"mt-5"],["action","#",1,"form","form-label-right",3,"formGroup","ngSubmit"],["class","row mt-5 mb-10",4,"ngIf"],[1,"form-group","row"],[1,"col-lg-1"],[1,"col-lg-10"],[1,"row"],[1,"col-lg-3"],["rt",""],[1,"input-group"],["type","text","name","StockSymbol","placeholder","Stock Symbol","autocomplete","off","formControlName","StockSymbol",1,"form-control",3,"ngModel","ngbTypeahead","inputFormatter","resultTemplate","ngModelChange","blur"],[1,"input-group-append"],[1,"input-group-text"],[1,"flaticon-layer"],["class","feedback mt-2 ml-5",4,"ngIf"],["name","StockType","formControlName","StockType",1,"form-control",3,"change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["name","OptionStrategy","formControlName","OptionStrategy",1,"form-control"],["name","Status","formControlName","Status",1,"form-control"],["class","form-group row",4,"ngIf"],["class","row mt-1 mb-0",4,"ngIf"],["class","row mt-5 mb-0",4,"ngIf"],["class","row mt-0",4,"ngIf"],[1,"row","mt-0"],["role","tablist",1,"nav","nav-tabs","nav-tabs-line"],[1,"nav-item","cursor-pointer",3,"click"],["data-toggle","tab","role","tab",1,"nav-link"],["data-toggle","tab","role","button",1,"nav-link"],[1,"row","mt-5","mb-10"],[1,"card","card-custom","bg-light-danger","text-dark","font-size-lg"],["class","card-body","style","padding: 1.3rem 2.25rem !important",4,"ngIf"],[1,"card-body",2,"padding","1.3rem 2.25rem !important"],[1,"col-lg-4"],[3,"ngStyle"],[1,"feedback","mt-2","ml-5"],["class","col-lg-7",4,"ngIf"],[1,"col-lg-5"],[1,"col-lg-7"],["ltpLoading",""],[4,"ngIf","ngIfElse"],[1,"icon-md","text-primary","flaticon-refresh","text-hover-primary","cursor-pointer","ml-3",3,"click"],[1,"spinner","spinner-primary","spinner-sm","ml-2","mt-2"],[1,"col-lg-9"],[1,"text-dark","font-weight-bold","mb-0"],[1,"row","mt-1","mb-0"],[1,"col-lg-8"],[1,"row","font-weight-bold","font-size-lg","text-muted"],[1,"col-lg-6","mt-3"],["class","row form-group","formArrayName","TradesFuturesEntry",4,"ngFor","ngForOf"],["formArrayName","TradesFuturesEntry",1,"row","form-group"],[1,"col-sm-12",3,"formGroupName"],[1,"card","card-custom","bg-light-primary"],[1,"col-lg-2"],["type","text","name","futuresEntryDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","futuresEntryDate",1,"form-control"],["to","ngbDatepicker"],[1,"input-group-append",3,"click"],[1,"text-dark-50","flaticon-calendar"],["formControlName","futuresType",1,"form-control"],["type","text","name","futuresEntryLots","autocomplete","off","formControlName","futuresEntryLots",1,"form-control",3,"blur"],["type","text","name","futuresEntryPrice","autocomplete","off","formControlName","futuresEntryPrice",1,"form-control",3,"blur"],["type","text","name","futuresExitPrice","autocomplete","off","formControlName","futuresExitPrice",1,"form-control",3,"blur"],["type","text","name","futuresExitDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","futuresExitDate",1,"form-control"],["exit","ngbDatepicker"],[1,"text-right","mt-3",2,"margin-bottom","-25px !important"],[1,"text-left","mt-3",2,"margin-left","25px !important"],["class","col-lg-12 text-right",4,"ngIf"],[1,"col-lg-12","text-right"],["class","btn btn-text-danger btn-icon-danger",3,"click",4,"ngIf"],[1,"btn","btn-text-danger","btn-icon-danger",3,"click"],[1,"flaticon-close"],[1,"row","mt-5","mb-0"],[1,"col-lg-6"],[1,"col-lg-4","mt-3"],["class","col-lg-4",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-light-info",3,"click"],[1,"flaticon2-shopping-cart-1"],["class","row form-group","formArrayName","TradesOptionsEntry",4,"ngFor","ngForOf"],["formArrayName","TradesOptionsEntry",1,"row","form-group"],["type","text","name","toDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","EntryDate",1,"form-control"],["formControlName","type",1,"form-control"],["formControlName","month",1,"form-control"],["type","text","name","strike","autocomplete","off","formControlName","strike",1,"form-control",3,"blur"],["type","text","name","entrylots","autocomplete","off","formControlName","entrylots",1,"form-control",3,"blur"],["type","text","name","entryprice","autocomplete","off","formControlName","entryprice",1,"form-control",3,"blur"],[1,"row","mt-5"],["type","text","name","ExitDate","autocomplete","off","ngbDatepicker","","readonly","true","formControlName","ExitDate",1,"form-control"],["type","text","name","optionmaxrisk","autocomplete","off","readonly","","formControlName","optionmaxrisk",1,"form-control"],["type","text","name","optionmaxreward","autocomplete","off","readonly","","formControlName","optionmaxreward",1,"form-control"],["type","text","name","optionbreakeven","autocomplete","off","readonly","","formControlName","optionbreakeven",1,"form-control"],["type","text","name","optionpremium","autocomplete","off","readonly","","formControlName","optionpremium",1,"form-control"],["type","text","name","exitprice","autocomplete","off","formControlName","exitprice",1,"form-control",3,"blur"],[1,"text-left","mt-3",2,"margin-left","10px !important"],[1,"col-lg-10","text-right"],[1,"btn","btn-text-success","btn-icon-success","font-weight-bolder","text-right",3,"click"],[1,"flaticon2-add"],["class","row form-group mt-5","formArrayName","tradeHour",4,"ngFor","ngForOf"],[1,"form-group","row","ml-5","mr-5","mt-5"],[1,"col-lg-12"],["formControlName","AllTradeTag",3,"settings","data"],[1,"form-group","row","ml-5","mr-5","mt-10"],["name","Notes","formControlName","Notes","placeholder","Notes","rows","10",1,"form-control"],["formArrayName","tradeHour",1,"row","form-group","mt-5"],[1,"card","card-custom","bg-gray-100"],[1,"row",2,"margin-top","-15px","margin-bottom","-5px"],["formControlName","entryHour",1,"form-control"],["formControlName","entryMinute",1,"form-control"],["formControlName","exitHour",1,"form-control"],["formControlName","exitMinute",1,"form-control"],["formControlName","outcome",1,"form-control"],[1,"col-lg-11","text-right"],[1,"row","mt-10"],[4,"ngFor","ngForOf"],[1,"row","mt-10","mr-10"],["for","file",1,"btn","btn-text-success","btn-icon-success","font-weight-bolder","text-right","flaticon-upload"],["type","file","id","file","accept","image/*",3,"change"],[1,"img-fluid",2,"width","1050px","height","580px",3,"src"],[1,"btn","btn-text-danger","btn-icon-danger","flaticon-close",3,"click"],[1,"separator","separator-dashed","my-10"],["id","chart"],[3,"series","chart","dataLabels","plotOptions","yaxis","xaxis","title","tooltip","stroke","markers","grid","annotations","noData","colors"],["type","button",1,"btn","btn-danger","btn-hover-danger","ml-2",3,"click"]],template:function(t,e){1&t&&(p.ac(0,"div",0),p.Oc(1,Yt,3,0,"ng-container",1),p.pc(2,"async"),p.pc(3,"async"),p.ac(4,"div",2),p.ac(5,"div",3),p.ac(6,"h3",4),p.Oc(7,$t,3,2,"ng-container",1),p.Zb(),p.Zb(),p.ac(8,"div",5),p.ac(9,"button",6),p.lc("click",function(){return e.backClicked()}),p.Vb(10,"i",7),p.Qc(11,"Back "),p.Zb(),p.ac(12,"button",8),p.lc("click",function(){return e.analyse()}),p.Qc(13," Analyse "),p.Zb(),p.Oc(14,Bt,4,2,"span",1),p.Zb(),p.Zb(),p.ac(15,"div",9),p.Oc(16,Ge,64,71,"div",10),p.Oc(17,Ye,1,0,"div",11),p.Oc(18,Re,2,14,"div",12),p.Zb(),p.ac(19,"div",13),p.ac(20,"div",14),p.Oc(21,$e,2,1,"ng-container",1),p.Zb(),p.Zb(),p.Zb()),2&t&&(p.Hb(1),p.wc("ngIf",p.qc(2,7,e.tradejournalsService.isLoading$)||p.qc(3,9,e.fyersService.isLoading$)),p.Hb(6),p.wc("ngIf",e.tradejournal),p.Hb(7),p.wc("ngIf",e.tradejournal),p.Hb(2),p.wc("ngIf",e.tradejournal),p.Hb(1),p.wc("ngIf",e.optionPayOff.length>0&&"Option"===e.formGroup.get("StockType").value),p.Hb(1),p.wc("ngIf",e.optionPayOff.length>0&&"Option"===e.formGroup.get("StockType").value&&"Long Call Intraday"!==e.formGroup.get("OptionStrategy").value&&"Long Put Intraday"!==e.formGroup.get("OptionStrategy").value&&"Short Call Intraday"!==e.formGroup.get("OptionStrategy").value&&"Short Put Intraday"!==e.formGroup.get("OptionStrategy").value),p.Hb(3),p.wc("ngIf",e.tradejournal))},directives:[n.o,c.t,c.k,c.e,c.a,i.o,c.j,c.d,c.q,c.m,c.s,n.n,n.p,c.b,c.f,i.i,Qt,_t.a],pipes:[n.b,S.a,v.a,n.d],styles:["#chart[_ngcontent-%COMP%]{max-width:75%;margin:35px auto}"]}),Ue),Xe=((Je=function(){function e(){t(this,e)}return r(e,[{key:"canDeactivate",value:function(t,e,r){return!t.canDeactivate()||confirm("There are changes you have made to the page. If you quit, you will lose your changes.")}}]),e}()).\u0275fac=function(t){return new(t||Je)},Je.\u0275prov=p.Qb({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je),Ke=[{path:"",component:bt,children:[{path:"openPositions",component:dt},{path:"closedTrades",component:W},{path:"optionsPayoff",component:H},{path:"tradeJournal/add",component:ze,canDeactivate:[Xe]},{path:"tradeJournal/edit",component:ze,canDeactivate:[Xe]},{path:"tradeJournal/edit/:id",component:ze,canDeactivate:[Xe]},{path:"",redirectTo:"openPositions",pathMatch:"full"},{path:"**",redirectTo:"openPositions",pathMatch:"full"}]}],tr=((Be=function e(){t(this,e)}).\u0275mod=p.Sb({type:Be}),Be.\u0275inj=p.Rb({factory:function(t){return new(t||Be)},imports:[[g.l.forChild(Ke)],g.l]}),Be),er=a("oOf3"),rr=((We=function e(){t(this,e)}).\u0275mod=p.Sb({type:We}),We.\u0275inj=p.Rb({factory:function(t){return new(t||We)},imports:[[n.c,tr,_t.b,er.a,h.b,l.a,s.a,c.g,i.l,i.d,c.p,Lt]]}),We)}}])}();